<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Foundry Book</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta name="twitter:card" content="summary">
        <meta property="og:title" content="Foundry Book" />
        <meta property="og:description" content="A book on all things Foundry" />
        <meta name="twitter:image:src" content="https://raw.githubusercontent.com/foundry-rs/book/master/theme/card.png" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A book on all things Foundry">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="src/static/custom.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Getting Started</li><li class="chapter-item expanded "><a href="getting-started/installation.html">Installation</a></li><li class="chapter-item expanded "><a href="getting-started/first-steps.html">First Steps with Foundry</a></li><li class="chapter-item expanded affix "><li class="part-title">Projects</li><li class="chapter-item expanded "><a href="projects/creating-a-new-project.html">Creating a New Project</a></li><li class="chapter-item expanded "><a href="projects/working-on-an-existing-project.html">Working on an Existing Project</a></li><li class="chapter-item expanded "><a href="projects/dependencies.html">Dependencies</a></li><li class="chapter-item expanded "><a href="projects/project-layout.html">Project Layout</a></li><li class="chapter-item expanded affix "><li class="part-title">Forge Overview</li><li class="chapter-item expanded "><a href="forge/index.html">Overview of Forge</a></li><li class="chapter-item expanded "><a href="forge/tests.html">Tests</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="forge/writing-tests.html">Writing Tests</a></li><li class="chapter-item "><a href="forge/cheatcodes.html">Cheatcodes</a></li><li class="chapter-item "><a href="forge/forge-std.html">Forge Standard Library Overview</a></li><li class="chapter-item "><a href="forge/traces.html">Understanding Traces</a></li><li class="chapter-item "><a href="forge/forking-mode.html">Forking Mode</a></li></ol></li><li class="chapter-item expanded "><a href="forge/advanced-testing.html">Advanced Testing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="forge/fuzz-testing.html">Fuzz Testing</a></li><li class="chapter-item "><a href="forge/differential-ffi-testing.html">Differential Testing</a></li></ol></li><li class="chapter-item expanded "><a href="forge/deploying.html">Deploying and Verifying</a></li><li class="chapter-item expanded "><a href="forge/gas-tracking.html">Gas Tracking</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="forge/gas-reports.html">Gas Reports</a></li><li class="chapter-item "><a href="forge/gas-snapshots.html">Gas Snapshots</a></li></ol></li><li class="chapter-item expanded "><a href="forge/debugger.html">Debugger</a></li><li class="chapter-item expanded affix "><li class="part-title">Cast Overview</li><li class="chapter-item expanded "><a href="cast/index.html">Overview of Cast</a></li><li class="chapter-item expanded affix "><li class="part-title">Anvil Overview</li><li class="chapter-item expanded "><a href="anvil/index.html">Overview of Anvil</a></li><li class="chapter-item expanded affix "><li class="part-title">Configuration</li><li class="chapter-item expanded "><a href="config/index.html">Configuring with foundry.toml</a></li><li class="chapter-item expanded "><a href="config/continous-integration.html">Continuous Integration</a></li><li class="chapter-item expanded "><a href="config/vscode.html">Integrating with VSCode</a></li><li class="chapter-item expanded "><a href="config/shell-autocompletion.html">Shell Autocompletion</a></li><li class="chapter-item expanded "><a href="config/static-analyzers.html">Static Analyzers</a></li><li class="chapter-item expanded "><a href="config/hardhat.html">Integrating with Hardhat</a></li><li class="chapter-item expanded affix "><li class="part-title">Tutorials</li><li class="chapter-item expanded "><a href="tutorials/solmate-nft.html">Creating an NFT with Solmate</a></li><li class="chapter-item expanded "><a href="tutorials/foundry-docker.html">Docker and Foundry</a></li><li class="chapter-item expanded "><a href="tutorials/testing-eip712.html">Testing EIP-712 Signatures</a></li><li class="chapter-item expanded "><a href="tutorials/solidity-scripting.html">Solidity Scripting</a></li><li class="chapter-item expanded affix "><li class="part-title">Appendix</li><li class="chapter-item expanded "><a href="faq.html">FAQ</a></li><li class="chapter-item expanded "><a href="reference/index.html">References</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge/index.html">forge Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge/general-commands.html">General Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge/forge.html">forge</a></li><li class="chapter-item "><a href="reference/forge/forge-help.html">forge help</a></li><li class="chapter-item "><a href="reference/forge/forge-completions.html">forge completions</a></li></ol></li><li class="chapter-item "><a href="reference/forge/project-commands.html">Project Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge/forge-init.html">forge init</a></li><li class="chapter-item "><a href="reference/forge/forge-install.html">forge install</a></li><li class="chapter-item "><a href="reference/forge/forge-update.html">forge update</a></li><li class="chapter-item "><a href="reference/forge/forge-remove.html">forge remove</a></li><li class="chapter-item "><a href="reference/forge/forge-config.html">forge config</a></li><li class="chapter-item "><a href="reference/forge/forge-remappings.html">forge remappings</a></li><li class="chapter-item "><a href="reference/forge/forge-tree.html">forge tree</a></li></ol></li><li class="chapter-item "><a href="reference/forge/build-commands.html">Build Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge/forge-build.html">forge build</a></li><li class="chapter-item "><a href="reference/forge/forge-clean.html">forge clean</a></li><li class="chapter-item "><a href="reference/forge/forge-inspect.html">forge inspect</a></li></ol></li><li class="chapter-item "><a href="reference/forge/test-commands.html">Test Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge/forge-test.html">forge test</a></li><li class="chapter-item "><a href="reference/forge/forge-snapshot.html">forge snapshot</a></li></ol></li><li class="chapter-item "><a href="reference/forge/deploy-commands.html">Deploy Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge/forge-create.html">forge create</a></li><li class="chapter-item "><a href="reference/forge/forge-verify-contract.html">forge verify-contract</a></li><li class="chapter-item "><a href="reference/forge/forge-verify-check.html">forge verify-check</a></li><li class="chapter-item "><a href="reference/forge/forge-flatten.html">forge flatten</a></li></ol></li><li class="chapter-item "><a href="reference/forge/utility-commands.html">Utility Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge/forge-debug.html">forge debug</a></li><li class="chapter-item "><a href="reference/forge/forge-bind.html">forge bind</a></li><li class="chapter-item "><a href="reference/forge/forge-cache.html">forge cache</a></li><li class="chapter-item "><a href="reference/forge/forge-cache-clean.html">forge cache clean</a></li><li class="chapter-item "><a href="reference/forge/forge-cache-ls.html">forge cache ls</a></li><li class="chapter-item "><a href="reference/forge/forge-script.html">forge script</a></li><li class="chapter-item "><a href="reference/forge/forge-upload-selectors.html">forge upload-selectors</a></li></ol></li></ol></li><li class="chapter-item "><a href="reference/cast/index.html">cast Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/general-commands.html">General Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast.html">cast</a></li><li class="chapter-item "><a href="reference/cast/cast-help.html">cast help</a></li><li class="chapter-item "><a href="reference/cast/cast-completions.html">cast completions</a></li></ol></li><li class="chapter-item "><a href="reference/cast/chain-commands.html">Chain Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast-chain-id.html">cast chain-id</a></li><li class="chapter-item "><a href="reference/cast/cast-chain.html">cast chain</a></li><li class="chapter-item "><a href="reference/cast/cast-client.html">cast client</a></li></ol></li><li class="chapter-item "><a href="reference/cast/transaction-commands.html">Transaction Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast-publish.html">cast publish</a></li><li class="chapter-item "><a href="reference/cast/cast-receipt.html">cast receipt</a></li><li class="chapter-item "><a href="reference/cast/cast-send.html">cast send</a></li><li class="chapter-item "><a href="reference/cast/cast-call.html">cast call</a></li><li class="chapter-item "><a href="reference/cast/cast-tx.html">cast tx</a></li><li class="chapter-item "><a href="reference/cast/cast-run.html">cast run</a></li><li class="chapter-item "><a href="reference/cast/cast-estimate.html">cast estimate</a></li><li class="chapter-item "><a href="reference/cast/cast-access-list.html">cast access-list</a></li></ol></li><li class="chapter-item "><a href="reference/cast/block-commands.html">Block Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast-find-block.html">cast find-block</a></li><li class="chapter-item "><a href="reference/cast/cast-gas-price.html">cast gas-price</a></li><li class="chapter-item "><a href="reference/cast/cast-block-number.html">cast block-number</a></li><li class="chapter-item "><a href="reference/cast/cast-basefee.html">cast basefee</a></li><li class="chapter-item "><a href="reference/cast/cast-block.html">cast block</a></li><li class="chapter-item "><a href="reference/cast/cast-age.html">cast age</a></li></ol></li><li class="chapter-item "><a href="reference/cast/account-commands.html">Account Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast-balance.html">cast balance</a></li><li class="chapter-item "><a href="reference/cast/cast-storage.html">cast storage</a></li><li class="chapter-item "><a href="reference/cast/cast-proof.html">cast proof</a></li><li class="chapter-item "><a href="reference/cast/cast-nonce.html">cast nonce</a></li><li class="chapter-item "><a href="reference/cast/cast-code.html">cast code</a></li></ol></li><li class="chapter-item "><a href="reference/cast/ens-commands.html">ENS Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast-lookup-address.html">cast lookup-address</a></li><li class="chapter-item "><a href="reference/cast/cast-resolve-name.html">cast resolve-name</a></li><li class="chapter-item "><a href="reference/cast/cast-namehash.html">cast namehash</a></li></ol></li><li class="chapter-item "><a href="reference/cast/etherscan-commands.html">Etherscan Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast-etherscan-source.html">cast etherscan-source</a></li></ol></li><li class="chapter-item "><a href="reference/cast/abi-commands.html">ABI Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast-abi-encode.html">cast abi-encode</a></li><li class="chapter-item "><a href="reference/cast/cast-4byte.html">cast 4byte</a></li><li class="chapter-item "><a href="reference/cast/cast-4byte-decode.html">cast 4byte-decode</a></li><li class="chapter-item "><a href="reference/cast/cast-4byte-event.html">cast 4byte-event</a></li><li class="chapter-item "><a href="reference/cast/cast-calldata.html">cast calldata</a></li><li class="chapter-item "><a href="reference/cast/cast-pretty-calldata.html">cast pretty-calldata</a></li><li class="chapter-item "><a href="reference/cast/cast--abi-decode.html">cast --abi-decode</a></li><li class="chapter-item "><a href="reference/cast/cast--calldata-decode.html">cast --calldata-decode</a></li><li class="chapter-item "><a href="reference/cast/cast-upload-signature.html">cast upload-signature</a></li></ol></li><li class="chapter-item "><a href="reference/cast/conversion-commands.html">Conversion Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast--from-bin.html">cast --from-bin</a></li><li class="chapter-item "><a href="reference/cast/cast--from-fix.html">cast --from-fix</a></li><li class="chapter-item "><a href="reference/cast/cast--from-rlp.html">cast --from-rlp</a></li><li class="chapter-item "><a href="reference/cast/cast--from-utf8.html">cast --from-utf8</a></li><li class="chapter-item "><a href="reference/cast/cast--to-ascii.html">cast --to-ascii</a></li><li class="chapter-item "><a href="reference/cast/cast--to-bytes32.html">cast --to-bytes32</a></li><li class="chapter-item "><a href="reference/cast/cast--to-dec.html">cast --to-dec</a></li><li class="chapter-item "><a href="reference/cast/cast--to-fix.html">cast --to-fix</a></li><li class="chapter-item "><a href="reference/cast/cast--to-hex.html">cast --to-hex</a></li><li class="chapter-item "><a href="reference/cast/cast--to-hexdata.html">cast --to-hexdata</a></li><li class="chapter-item "><a href="reference/cast/cast--to-int256.html">cast --to-int256</a></li><li class="chapter-item "><a href="reference/cast/cast--to-rlp.html">cast --to-rlp</a></li><li class="chapter-item "><a href="reference/cast/cast--to-uint256.html">cast --to-uint256</a></li><li class="chapter-item "><a href="reference/cast/cast--to-unit.html">cast --to-unit</a></li><li class="chapter-item "><a href="reference/cast/cast--to-wei.html">cast --to-wei</a></li></ol></li><li class="chapter-item "><a href="reference/cast/utility-commands.html">Utility Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast-sig.html">cast sig</a></li><li class="chapter-item "><a href="reference/cast/cast-keccak.html">cast keccak</a></li><li class="chapter-item "><a href="reference/cast/cast-compute-address.html">cast compute-address</a></li><li class="chapter-item "><a href="reference/cast/cast-interface.html">cast interface</a></li><li class="chapter-item "><a href="reference/cast/cast-index.html">cast index</a></li><li class="chapter-item "><a href="reference/cast/cast--concat-hex.html">cast --concat-hex</a></li><li class="chapter-item "><a href="reference/cast/cast--max-int.html">cast --max-int</a></li><li class="chapter-item "><a href="reference/cast/cast--min-int.html">cast --min-int</a></li><li class="chapter-item "><a href="reference/cast/cast--max-uint.html">cast --max-uint</a></li><li class="chapter-item "><a href="reference/cast/cast--to-checksum-address.html">cast --to-checksum-address</a></li></ol></li><li class="chapter-item "><a href="reference/cast/wallet-commands.html">Wallet Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/cast/cast-wallet.html">cast wallet</a></li><li class="chapter-item "><a href="reference/cast/cast-wallet-new.html">cast wallet new</a></li><li class="chapter-item "><a href="reference/cast/cast-wallet-address.html">cast wallet address</a></li><li class="chapter-item "><a href="reference/cast/cast-wallet-sign.html">cast wallet sign</a></li><li class="chapter-item "><a href="reference/cast/cast-wallet-vanity.html">cast wallet vanity</a></li><li class="chapter-item "><a href="reference/cast/cast-wallet-verify.html">cast wallet verify</a></li></ol></li></ol></li><li class="chapter-item "><a href="reference/anvil/index.html">anvil Reference</a></li><li class="chapter-item "><a href="reference/config.html">Config Reference</a></li><li class="chapter-item "><a href="reference/forge-std/index.html">Forge Standard Library Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge-std/std-assertions.html">Std Assertions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge-std/fail.html">fail</a></li><li class="chapter-item "><a href="reference/forge-std/assertFalse.html">assertFalse</a></li><li class="chapter-item "><a href="reference/forge-std/assertEq.html">assertEq</a></li><li class="chapter-item "><a href="reference/forge-std/assertApproxEqAbs.html">assertApproxEqAbs</a></li><li class="chapter-item "><a href="reference/forge-std/assertApproxEqRel.html">assertApproxEqRel</a></li></ol></li><li class="chapter-item "><a href="reference/forge-std/std-cheats.html">Std Cheats</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge-std/skip.html">skip</a></li><li class="chapter-item "><a href="reference/forge-std/rewind.html">rewind</a></li><li class="chapter-item "><a href="reference/forge-std/hoax.html">hoax</a></li><li class="chapter-item "><a href="reference/forge-std/startHoax.html">startHoax</a></li><li class="chapter-item "><a href="reference/forge-std/deal.html">deal</a></li><li class="chapter-item "><a href="reference/forge-std/deployCode.html">deployCode</a></li><li class="chapter-item "><a href="reference/forge-std/bound.html">bound</a></li><li class="chapter-item "><a href="reference/forge-std/change-prank.html">changePrank</a></li></ol></li><li class="chapter-item "><a href="reference/forge-std/std-errors.html">Std Errors</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge-std/assertionError.html">assertionError</a></li><li class="chapter-item "><a href="reference/forge-std/arithmeticError.html">arithmeticError</a></li><li class="chapter-item "><a href="reference/forge-std/divisionError.html">divisionError</a></li><li class="chapter-item "><a href="reference/forge-std/enumConversionError.html">enumConversionError</a></li><li class="chapter-item "><a href="reference/forge-std/encodeStorageError.html">encodeStorageError</a></li><li class="chapter-item "><a href="reference/forge-std/popError.html">popError</a></li><li class="chapter-item "><a href="reference/forge-std/indexOOBError.html">indexOOBError</a></li><li class="chapter-item "><a href="reference/forge-std/memOverflowError.html">memOverflowError</a></li><li class="chapter-item "><a href="reference/forge-std/zeroVarError.html">zeroVarError</a></li></ol></li><li class="chapter-item "><a href="reference/forge-std/std-storage.html">Std Storage</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="reference/forge-std/target.html">target</a></li><li class="chapter-item "><a href="reference/forge-std/sig.html">sig</a></li><li class="chapter-item "><a href="reference/forge-std/with_key.html">with_key</a></li><li class="chapter-item "><a href="reference/forge-std/depth.html">depth</a></li><li class="chapter-item "><a href="reference/forge-std/checked_write.html">checked_write</a></li><li class="chapter-item "><a href="reference/forge-std/find.html">find</a></li><li class="chapter-item "><a href="reference/forge-std/read.html">read</a></li></ol></li><li class="chapter-item "><a href="reference/forge-std/std-math.html">Std Math</a></li><li class="chapter-item "><a href="reference/forge-std/std-logs.html">Std Logs</a></li></ol></li><li class="chapter-item "><a href="reference/ds-test.html">DSTest Reference</a></li><li class="chapter-item "><a href="cheatcodes/index.html">Cheatcodes Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="cheatcodes/environment.html">Environment</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="cheatcodes/warp.html">warp</a></li><li class="chapter-item "><a href="cheatcodes/roll.html">roll</a></li><li class="chapter-item "><a href="cheatcodes/fee.html">fee</a></li><li class="chapter-item "><a href="cheatcodes/chain-id.html">chainId</a></li><li class="chapter-item "><a href="cheatcodes/store.html">store</a></li><li class="chapter-item "><a href="cheatcodes/load.html">load</a></li><li class="chapter-item "><a href="cheatcodes/etch.html">etch</a></li><li class="chapter-item "><a href="cheatcodes/deal.html">deal</a></li><li class="chapter-item "><a href="cheatcodes/prank.html">prank</a></li><li class="chapter-item "><a href="cheatcodes/start-prank.html">startPrank</a></li><li class="chapter-item "><a href="cheatcodes/stop-prank.html">stopPrank</a></li><li class="chapter-item "><a href="cheatcodes/record.html">record</a></li><li class="chapter-item "><a href="cheatcodes/accesses.html">accesses</a></li><li class="chapter-item "><a href="cheatcodes/set-nonce.html">setNonce</a></li><li class="chapter-item "><a href="cheatcodes/get-nonce.html">getNonce</a></li><li class="chapter-item "><a href="cheatcodes/mock-call.html">mockCall</a></li><li class="chapter-item "><a href="cheatcodes/clear-mocked-calls.html">clearMockedCalls</a></li><li class="chapter-item "><a href="cheatcodes/coinbase.html">coinbase</a></li><li class="chapter-item "><a href="cheatcodes/broadcast.html">broadcast</a></li><li class="chapter-item "><a href="cheatcodes/start-broadcast.html">startBroadcast</a></li><li class="chapter-item "><a href="cheatcodes/stop-broadcast.html">stopBroadcast</a></li></ol></li><li class="chapter-item "><a href="cheatcodes/assertions.html">Assertions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="cheatcodes/expect-revert.html">expectRevert</a></li><li class="chapter-item "><a href="cheatcodes/expect-emit.html">expectEmit</a></li><li class="chapter-item "><a href="cheatcodes/expect-call.html">expectCall</a></li></ol></li><li class="chapter-item "><a href="cheatcodes/fuzzer.html">Fuzzer</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="cheatcodes/assume.html">assume</a></li></ol></li><li class="chapter-item "><a href="cheatcodes/external.html">External</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="cheatcodes/ffi.html">ffi</a></li><li class="chapter-item "><a href="cheatcodes/get-code.html">getCode</a></li><li class="chapter-item "><a href="cheatcodes/set-env.html">setEnv</a></li><li class="chapter-item "><a href="cheatcodes/env-bool.html">envBool</a></li><li class="chapter-item "><a href="cheatcodes/env-uint.html">envUint</a></li><li class="chapter-item "><a href="cheatcodes/env-int.html">envInt</a></li><li class="chapter-item "><a href="cheatcodes/env-address.html">envAddress</a></li><li class="chapter-item "><a href="cheatcodes/env-bytes32.html">envBytes32</a></li><li class="chapter-item "><a href="cheatcodes/env-string.html">envString</a></li><li class="chapter-item "><a href="cheatcodes/env-bytes.html">envBytes</a></li></ol></li><li class="chapter-item "><a href="cheatcodes/utilities.html">Utilities</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="cheatcodes/addr.html">addr</a></li><li class="chapter-item "><a href="cheatcodes/sign.html">sign</a></li><li class="chapter-item "><a href="cheatcodes/label.html">label</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="misc/index.html">Misc</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Foundry Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/foundry-rs/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <img src="images/foundry-banner.png" style="border-radius: 20px">
<p>Foundry is a smart contract development toolchain.</p>
<p>Foundry manages your dependencies, compiles your project, runs tests, deploys, and lets you interact with the chain from the command-line.</p>
<blockquote>
<p>📖 <strong>Contributing</strong></p>
<p>You can contribute to this book on <a href="https://github.com/foundry-rs/book">GitHub</a>.</p>
</blockquote>
<h3 id="sections"><a class="header" href="#sections">Sections</a></h3>
<p><strong><a href="getting-started/installation.html">Getting Started</a></strong></p>
<p>To get started with Foundry, install Foundry and set up your first project.</p>
<p><strong><a href="projects/creating-a-new-project.html">Projects</a></strong></p>
<p>This section will give you an overview of how to create and work with existing projects.</p>
<p><strong><a href="forge">Forge Overview</a></strong></p>
<p>The overview will give you all you need to know about how to use <code>forge</code> to develop, test, and deploy smart contracts.</p>
<p><strong><a href="cast">Cast Overview</a></strong></p>
<p>Learn how to use <code>cast</code> to interact with smart contracts, send transactions, and get chain data from the command-line.</p>
<p><strong>Configuration</strong></p>
<p>Guides on configuring Foundry.</p>
<ul>
<li><a href="./config/">Configuring with <code>foundry.toml</code></a></li>
<li><a href="./config/continous-integration.html">Continuous Integration</a></li>
<li><a href="./config/vscode.html">Integrating with VSCode</a></li>
<li><a href="./config/shell-autocompletion.html">Shell Autocompletion</a></li>
<li><a href="./config/hardhat.html">Integrating with Hardhat</a></li>
</ul>
<p><strong>Tutorials</strong></p>
<p>Tutorials on building smart contracts with Foundry.</p>
<ul>
<li><a href="./tutorials/solmate-nft.html">Creating an NFT with Solmate</a></li>
<li><a href="./tutorials/foundry-docker.html">Docker and Foundry</a></li>
<li><a href="./tutorials/testing-eip712.html">Testing EIP-712 Signatures</a></li>
<li><a href="./tutorials//solidity-scripting.html">Solidity Scripting</a></li>
</ul>
<!-- - [Incremental Adoption]() -->
<p><strong>Appendix</strong></p>
<p>References, troubleshooting and more.</p>
<ul>
<li><a href="./reference/forge/">forge Commands</a></li>
<li><a href="./reference/cast/">cast Commands</a></li>
<li><a href="./reference/anvil/">anvil commands</a></li>
<li><a href="./reference/config.html">Config Reference</a></li>
<li><a href="./reference/forge-std/">Forge Standard Library Reference</a></li>
<li><a href="./reference/ds-test.html">DSTest Reference</a></li>
<li><a href="./cheatcodes/">Cheatcodes Reference</a></li>
</ul>
<blockquote>
<p>You can also check out <a href="https://github.com/crisgarner/awesome-foundry">Awesome Foundry</a>, a curated list of awesome Foundry resources, tutorials, tools and libraries!</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<h3 id="on-linux-and-macos"><a class="header" href="#on-linux-and-macos">On Linux and macOS</a></h3>
<p>If you use Linux or macOS, there are two different ways to install Foundry.</p>
<h4 id="install-the-latest-release-by-using-foundryup"><a class="header" href="#install-the-latest-release-by-using-foundryup">Install the latest release by using <code>foundryup</code></a></h4>
<p>This is the easiest option for Linux and macOS users.</p>
<p>Open your terminal and type in the following command:</p>
<pre><code class="language-sh">curl -L https://foundry.paradigm.xyz | bash
</code></pre>
<p>This will download <code>foundryup</code>. Then install Foundry by running:</p>
<pre><code class="language-sh">foundryup
</code></pre>
<p>If everything goes well, you will now have two binaries at your disposal: <code>forge</code> and <code>cast</code>.</p>
<blockquote>
<p>💡 <strong>Tip</strong></p>
<p>To update <code>foundryup</code> after installation, simply run <code>foundryup</code> again, and it will update to the latest Foundry release. You can also revert to a specific version of Foundry with <code>foundryup -v $VERSION</code>.</p>
</blockquote>
<h4 id="building-from-source"><a class="header" href="#building-from-source">Building from source</a></h4>
<p>To build from source, you need to get <a href="https://rust-lang.org">Rust</a> and Cargo. The easiest way to get both is by using <code>rustup</code>.</p>
<p>On Linux and macOS, this is done as follows:</p>
<pre><code class="language-sh">curl https://sh.rustup.rs -sSf | sh
</code></pre>
<p>It will download a script and start the installation.</p>
<h3 id="on-windows-build-from-source"><a class="header" href="#on-windows-build-from-source">On Windows, build from source</a></h3>
<p>If you use Windows, you need to build from source to get Foundry.</p>
<p>Download and run <code>rustup-init</code> from <a href="https://rustup.rs">rustup.rs</a>. It will start the installation in a console.</p>
<p>After this, run the following to build Foundry from source:</p>
<pre><code class="language-sh">cargo install --git https://github.com/foundry-rs/foundry foundry-cli anvil --bins --locked
</code></pre>
<p>To update from source, run the same command again.</p>
<h3 id="using-with-docker"><a class="header" href="#using-with-docker">Using with Docker</a></h3>
<p>Foundry can also be used entirely within a Docker container. If you don't have it, Docker can be installed directly from <a href="https://docs.docker.com/get-docker/">Docker's website</a>.</p>
<p>Once installed, you can download the latest release by running:</p>
<pre><code class="language-sh">docker pull ghcr.io/foundry-rs/foundry:latest
</code></pre>
<p>It is also possible to build the docker image locally. From the Foundry repository, run:</p>
<pre><code class="language-sh">docker build -t foundry .
</code></pre>
<blockquote>
<p>ℹ️ <strong>Note</strong></p>
<p>Some machines (including those with M1 chips) may be unable to build the docker image locally. This is a known issue.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="first-steps-with-foundry"><a class="header" href="#first-steps-with-foundry">First Steps with Foundry</a></h2>
<p>This section provides an overview of the <code>forge</code> command line tool. We demonstrate how to create a new project, compile, and test it.</p>
<p>To start a new project with Foundry, use <a href="getting-started/../reference/forge/forge-init.html"><code>forge init</code></a>:</p>
<pre><code class="language-sh">$ forge init hello_foundry
</code></pre>
<p>Let's check out what <code>forge</code> generated for us:</p>
<pre><code class="language-sh">$ cd hello_foundry
$ tree . -d -L 1
.
├── lib
├── src
└── test

3 directories
</code></pre>
<p>We can build the project with <a href="getting-started/../reference/forge/forge-build.html"><code>forge build</code></a>:</p>
<pre><code class="language-sh">$ forge build
Compiling 7 files with 0.8.13
Compiler run successful
</code></pre>
<p>And run the tests with <a href="getting-started/../reference/forge/forge-init.html"><code>forge test</code></a>:</p>
<pre><code class="language-sh">$ forge test
No files changed, compilation skipped

Running 1 test for test/Contract.t.sol:ContractTest
[PASS] testExample() (gas: 279)
Test result: ok. 1 passed; 0 failed; finished in 599.09µs
</code></pre>
<br>
<blockquote>
<p>💡 <strong>Tip</strong></p>
<p>You can always print help for any subcommand (or their subcommands) by adding <code>--help</code> at the end.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="creating-a-new-project"><a class="header" href="#creating-a-new-project">Creating a New Project</a></h2>
<p>To start a new project with Foundry, use <a href="projects/../reference/forge/forge-init.html"><code>forge init</code></a>:</p>
<pre><code class="language-sh">$ forge init hello_foundry
</code></pre>
<p>This creates a new directory <code>hello_foundry</code> from the default template. This also initializes a new <code>git</code> repository.</p>
<p>If you want to create a new project using a different template, you would pass the <code>--template</code> flag, like so:</p>
<pre><code class="language-sh">$ forge init --template https://github.com/foundry-rs/forge-template hello_template
</code></pre>
<p>For now, let's check what the default template looks like:</p>
<pre><code class="language-sh">$ cd hello_foundry
$ tree . -d -L 1
.
├── lib
├── src
└── test

3 directories
</code></pre>
<p>The default template comes with one dependency installed: Forge Standard Library. This is the preferred testing library used for Foundry projects. Additionally, the template also comes with an empty starter contract and a simple test.</p>
<p>Let's build the project:</p>
<pre><code class="language-sh">$ forge build
Compiling 7 files with 0.8.13
Compiler run successful
</code></pre>
<p>And run the tests:</p>
<pre><code class="language-sh">$ forge test
No files changed, compilation skipped

Running 1 test for test/Contract.t.sol:ContractTest
[PASS] testExample() (gas: 279)
Test result: ok. 1 passed; 0 failed; finished in 599.09µs
</code></pre>
<p>You'll notice that two new directories have popped up: <code>out</code> and <code>cache</code>.</p>
<p>The <code>out</code> directory contains your contract artifact, such as the ABI, while the <code>cache</code> is used by <code>forge</code> to only recompile what is necessary.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="working-on-an-existing-project"><a class="header" href="#working-on-an-existing-project">Working on an Existing Project</a></h2>
<p>If you download an existing project that uses Foundry, it is really easy to get going.</p>
<p>First, get the project from somewhere. In this example, we will clone the <code>femplate</code> repository from GitHub:</p>
<pre><code class="language-sh">$ git clone https://github.com/abigger87/femplate
$ cd femplate
$ forge install
</code></pre>
<p>We run <a href="projects/../reference/forge/forge-install.html"><code>forge install</code></a> to install the submodule dependencies that are in the project.</p>
<p>To build, use <a href="projects/../reference/forge/forge-build.html"><code>forge build</code></a>:</p>
<pre><code class="language-sh">$ forge build
Compiling 6 files with 0.8.13
Compiler run successful
</code></pre>
<p>And to test, use <a href="projects/../reference/forge/forge-test.html"><code>forge test</code></a>:</p>
<pre><code class="language-sh">$ forge test
No files changed, compilation skipped

Running 2 tests for src/test/Greeter.t.sol:GreeterTest
[PASS] testExpectArithmetic() (gas: 8802)
[PASS] testSetGm() (gas: 112032)
Test result: ok. 2 passed; 0 failed; finished in 1.42ms
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dependencies"><a class="header" href="#dependencies">Dependencies</a></h2>
<p>Forge manages dependencies using <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">git submodules</a> by default, which means that it works with any GitHub repository that contains smart contracts.</p>
<h3 id="adding-a-dependency"><a class="header" href="#adding-a-dependency">Adding a dependency</a></h3>
<p>To add a dependency, run <a href="projects/../reference/forge/forge-install.html"><code>forge install</code></a>:</p>
<pre><code class="language-sh">$ forge install Rari-Capital/solmate
Installing solmate in &quot;/tmp/tmp.cCYDqfwRJM/deps/lib/solmate&quot;, (url: https://github.com/Rari-Capital/solmate, tag: None)
    Installed solmate
</code></pre>
<p>This pulls the <code>solmate</code> library, stages the <code>.gitmodules</code> file in git and makes a commit with the message &quot;Installed solmate&quot;.</p>
<p>If we now check the <code>lib</code> folder:</p>
<pre><code class="language-sh">$ tree lib -L 1
lib
├── forge-std
├── solmate
└── weird-erc20

3 directories, 0 files
</code></pre>
<p>We can see that Forge installed <code>solmate</code>!</p>
<p>By default, <code>forge install</code> installs the latest master branch version. If you want to install a specific tag or commit,you can do it like so:</p>
<pre><code class="language-sh">$ forge install Rari-Capital/solmate@v6
</code></pre>
<h3 id="remapping-dependencies"><a class="header" href="#remapping-dependencies">Remapping dependencies</a></h3>
<p>Forge can remap dependencies to make them easier to import. Forge will automatically try to deduce some remappings for you:</p>
<pre><code class="language-sh">$ forge remappings
ds-test/=lib/solmate/lib/ds-test/src/
forge-std/=lib/forge-std/src/
solmate/=lib/solmate/src/
weird-erc20/=lib/weird-erc20/src/
</code></pre>
<p>These remappings mean:</p>
<ul>
<li>To import from <code>forge-std</code> we would write: <code>import &quot;forge-std/Contract.sol&quot;;</code></li>
<li>To import from <code>ds-test</code> we would write: <code>import &quot;ds-test/Contract.sol&quot;;</code></li>
<li>To import from <code>solmate</code> we would write: <code>import &quot;solmate/Contract.sol&quot;;</code></li>
<li>To import from <code>weird-erc20</code> we would write: <code>import &quot;weird-erc20/Contract.sol&quot;;</code></li>
</ul>
<p>You can customize these remappings by creating a <code>remappings.txt</code> file in the root of your project.</p>
<p>Let's create a remapping called <code>solmate-utils</code> that points to the <code>utils</code> folder in the solmate repository!</p>
<pre><code class="language-sh">solmate-utils/=lib/solmate/src/utils/
</code></pre>
<p>Now we can import any of the contracts in <code>src/utils</code> of the solmate repository like so:</p>
<pre><code class="language-solidity">import &quot;solmate-utils/Contract.sol&quot;;
</code></pre>
<h3 id="updating-dependencies"><a class="header" href="#updating-dependencies">Updating dependencies</a></h3>
<p>You can update a specific dependency to the latest commit on the version you have specified using <a href="projects/../reference/forge/forge-update.html"><code>forge update &lt;dep&gt;</code></a>. For example, if we wanted to pull the latest commit from our previously installed master-version of <code>solmate</code>, we would run:</p>
<pre><code class="language-sh">$ forge update lib/solmate
</code></pre>
<p>Alternatively, you can do this for all dependencies at once by just running <code>forge update</code>.</p>
<h3 id="removing-dependencies"><a class="header" href="#removing-dependencies">Removing dependencies</a></h3>
<p>You can remove dependencies using <a href="projects/../reference/forge/forge-remove.html"><code>forge remove &lt;deps&gt;...</code></a>, where <code>&lt;deps&gt;</code> is either the full path to the dependency or just the name. For example, to remove <code>solmate</code> both of these commands are equivalent:</p>
<pre><code class="language-ignore">$ forge remove solmate
# ... is equivalent to ...
$ forge remove lib/solmate
</code></pre>
<h3 id="hardhat-compatibility"><a class="header" href="#hardhat-compatibility">Hardhat compatibility</a></h3>
<p>Forge also supports Hardhat-style projects where dependencies are npm packages (stored in <code>node_modules</code>) and contracts are stored in <code>contracts</code> as opposed to source.</p>
<p>To enable Hardhat compatibility mode pass the <code>--hh</code> flag.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-layout"><a class="header" href="#project-layout">Project Layout</a></h2>
<p>Forge is flexible on how you structure your project. By default, the structure is:</p>
<pre><code class="language-ignore">.
├── foundry.toml
├── lib
│   └── forge-std
│       ├── lib
│       ├── LICENSE-APACHE
│       ├── LICENSE-MIT
│       ├── README.md
│       └── src
├── src
│   └── Contract.sol
└── test
    └── Contract.t.sol

6 directories, 6 files
</code></pre>
<ul>
<li>You can configure Foundry's behavior using <code>foundry.toml</code>.</li>
<li>Remappings are specified in <code>remappings.txt</code>.</li>
<li>The default directory for contracts is <code>src/</code>.</li>
<li>The default directory for tests is <code>test/</code>, where any contract with a function that starts with <code>test</code> is considered to be a test.</li>
<li>Dependencies are stored as git submodules in <code>lib/</code>.</li>
</ul>
<p>You can configure where Forge looks for both dependencies and contracts using the <code>--lib-paths</code> and <code>--contracts</code> flags respectively. Alternatively you can configure it in <code>foundry.toml</code>.</p>
<p>Combined with remappings, this gives you the flexibility needed to support the project structure of other toolchains such as Hardhat and Truffle.</p>
<p>For automatic Hardhat support you can also pass the <code>--hh</code> flag, which sets the following flags: <code>--lib-paths node_modules --contracts contracts</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="overview-of-forge"><a class="header" href="#overview-of-forge">Overview of Forge</a></h2>
<p>Forge is a command-line tool that ships with Foundry. Forge tests, builds, and deploys your smart contracts.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tests"><a class="header" href="#tests">Tests</a></h2>
<p>Forge can run your tests with the <a href="forge/../reference/forge/forge-test.html"><code>forge test</code></a> command. All tests are written in Solidity.</p>
<p>Forge will look for the tests anywhere in your source directory. Any contract with a function that starts with <code>test</code> is considered to be a test. Usually, tests will be placed in <code>src/test</code> by convention and end with <code>.t.sol</code>.</p>
<p>Here's an example of running <code>forge test</code> in a freshly created project, that only has the default test:</p>
<pre><code class="language-sh">$ forge test
No files changed, compilation skipped

Running 1 test for test/Contract.t.sol:ContractTest
[PASS] testExample() (gas: 279)
Test result: ok. 1 passed; 0 failed; finished in 599.09µs
</code></pre>
<p>You can also run specific tests by passing a filter:</p>
<pre><code class="language-sh">$ forge test --match-contract ComplicatedContractTest --match-test testDeposit
Compiling 7 files with 0.8.10
Compiler run successful

Running 2 tests for test/ComplicatedContract.t.sol:ComplicatedContractTest
[PASS] testDepositERC20() (gas: 102237)
[PASS] testDepositETH() (gas: 61458)
Test result: ok. 2 passed; 0 failed; finished in 1.15ms
</code></pre>
<p>This will run the tests in the <code>ComplicatedContractTest</code> test contract with <code>testDeposit</code> in the name.
Inverse versions of these flags also exist (<code>--no-match-contract</code> and <code>--no-match-test</code>).</p>
<p>You can run tests in filenames that match a glob pattern with <code>--match-path</code>.</p>
<pre><code class="language-sh">$ forge test --match-path test/ContractB.t.sol
No files changed, compilation skipped

Running 1 test for test/ContractB.t.sol:ContractBTest
[PASS] testExample() (gas: 257)
Test result: ok. 1 passed; 0 failed; finished in 492.35µs
</code></pre>
<p>The inverse of the <code>--match-path</code> flag is <code>--no-match-path</code>.</p>
<h3 id="logs-and-traces"><a class="header" href="#logs-and-traces">Logs and traces</a></h3>
<p>The default behavior for <code>forge test</code> is to only display a summary of passing and failing tests. You can control this behavior by increasing the verbosity (using the <code>-v</code> flag). Each level of verbosity adds more information:</p>
<ul>
<li><strong>Level 2 (<code>-vv</code>)</strong>: Logs emitted during tests are also displayed. That includes assertion errors from tests, showing information such as expected vs actual.</li>
<li><strong>Level 3 (<code>-vvv</code>)</strong>: Stack traces for failing tests are also displayed.</li>
<li><strong>Level 4 (<code>-vvvv</code>)</strong>: Stack traces for all tests are displayed, and setup traces for failing tests are displayed.</li>
<li><strong>Level 5 (<code>-vvvvv</code>)</strong>: Stack traces and setup traces are always displayed.</li>
</ul>
<h3 id="watch-mode"><a class="header" href="#watch-mode">Watch mode</a></h3>
<p>Forge can re-run your tests when you make changes to your files using <code>forge test --watch</code>.</p>
<p>By default, only changed test files are re-run. If you want to re-run all tests on a change, you can use <code>forge test --watch --run-all</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="writing-tests"><a class="header" href="#writing-tests">Writing Tests</a></h2>
<p>Tests are written in Solidity. If the test function reverts, the test fails, otherwise it passes.</p>
<p>Let's go over the most common way of writing tests, using the <a href="https://github.com/foundry-rs/forge-std">Forge Standard Library</a>'s <code>Test</code> contract, which is the preferred way of writing tests with Forge.</p>
<p>In this section, we'll go over the basics using the functions from the Forge Std's <code>Test</code> contract, which is itself a superset of <a href="https://github.com/dapphub/ds-test">DSTest</a>. You will learn how to use more advanced stuff from the Forge Standard Library <a href="forge/./forge-std.html">soon</a>. </p>
<p>DSTest provides basic logging and assertion functionality. To get access to the functions, import <code>forge-std/Test.sol</code> and inherit from <code>Test</code> in your test contract:</p>
<pre><code class="language-solidity">import &quot;forge-std/Test.sol&quot;;
</code></pre>
<p>Let's examine a basic test:</p>
<pre><code class="language-solidity">pragma solidity 0.8.10;

import &quot;forge-std/Test.sol&quot;;

contract ContractBTest is Test {
    uint256 testNumber;

    function setUp() public {
        testNumber = 42;
    }

    function testNumberIs42() public {
        assertEq(testNumber, 42);
    }

    function testFailSubtract43() public {
        testNumber -= 43;
    }
}
</code></pre>
<p>Forge uses the following keywords in tests:</p>
<ul>
<li><code>setUp</code>: An optional function invoked before each test case is run
<pre><code class="language-solidity">    function setUp() public {
    testNumber = 42;
}
</code></pre>
</li>
<li><code>test</code>: Functions prefixed with <code>test</code> are run as a test case
<pre><code class="language-solidity">    function testNumberIs42() public {
    assertEq(testNumber, 42);
}
</code></pre>
</li>
<li><code>testFail</code>: The inverse of the <code>test</code> prefix - if the function does not revert, the test fails
<pre><code class="language-solidity">    function testFailSubtract43() public {
    testNumber -= 43;
}
</code></pre>
A good practice is to use something like <code>testCannot</code> in combination with the <a href="forge/../cheatcodes/expect-revert.html"><code>expectRevert</code></a> cheatcode (cheatcodes are explained in greater detail in the following <a href="forge/./cheatcodes.html">section</a>).<br />
Now, instead of using <code>testFail</code>, you know exactly what reverted:
<pre><code class="language-solidity">    function testCannotSubtract43() public {
    vm.expectRevert(stdError.arithmeticError);
    testNumber -= 43;
}
</code></pre>
</li>
</ul>
<br>
<p>Tests are deployed to <code>0xb4c79daB8f259C7Aee6E5b2Aa729821864227e84</code>. If you deploy a contract within your test, then <code>0xb4c...7e84</code> will be its deployer. If the contract deployed within a test gives special permissions to its deployer, such as <code>Ownable.sol</code>'s <code>onlyOwner</code> modifier, then the test contract <code>0xb4c...7e84</code> will have those permissions.</p>
<h3 id="shared-setups"><a class="header" href="#shared-setups">Shared setups</a></h3>
<p>It is possible to use shared setups by creating helper abstract contracts and inheriting them in your test contracts:</p>
<pre><code class="language-solidity">abstract contract HelperContract {
    address constant IMPORTANT_ADDRESS = 0x543d...;
    SomeContract someContract;
    constructor() {...}
}

contract MyContractTest is Test, HelperContract {
    function setUp() public {
        someContract = new SomeContract(0, IMPORTANT_ADDRESS);
        ...
    }
}

contract MyOtherContractTest is Test, HelperContract {
    function setUp() public {
        someContract = new SomeContract(1000, IMPORTANT_ADDRESS);
        ...
    }
}
</code></pre>
<br>
<blockquote>
<p>💡 <strong>Tip</strong></p>
<p>Use the <a href="forge/../cheatcodes/get-code.html"><code>getCode</code></a> cheatcode to deploy contracts with incompatible Solidity versions.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cheatcodes"><a class="header" href="#cheatcodes">Cheatcodes</a></h2>
<p>Most of the time, simply testing your smart contracts outputs isn't enough. To manipulate the state of the blockchain, as well as test for specific reverts and events, Foundry is shipped with a set of cheatcodes.</p>
<p>Cheatcodes allow you to change the block number, your identity, and more. They are invoked by calling specific functions on a specially designated address: <code>0x7109709ECfa91a80626fF3989D68f67F5b1DD12D</code>.</p>
<p>You can access cheatcodes easily via the <code>vm</code> instance available in Forge Standard Library's <code>Test</code> contract. Forge Standard Library is explained in greater detail in the following <a href="forge/./forge-std.html">section</a>.</p>
<p>Let's write a test for a smart contract that is only callable by its owner.</p>
<pre><code class="language-solidity">pragma solidity 0.8.10;

import &quot;forge-std/Test.sol&quot;;

error Unauthorized();

contract OwnerUpOnly {
    address public immutable owner;
    uint256 public count;

    constructor() {
        owner = msg.sender;
    }

    function increment() external {
        if (msg.sender != owner) {
            revert Unauthorized();
        }
        count++;
    }
}

contract OwnerUpOnlyTest is Test {
    OwnerUpOnly upOnly;

    function setUp() public {
        upOnly = new OwnerUpOnly();
    }

    function testIncrementAsOwner() public {
        assertEq(upOnly.count(), 0);
        upOnly.increment();
        assertEq(upOnly.count(), 1);
    }
}
</code></pre>
<p>If we run <code>forge test</code> now, we will see that the test passes, since <code>OwnerUpOnlyTest</code> is the owner of <code>OwnerUpOnly</code>.</p>
<pre><code class="language-ignore">$ forge test
Compiling 7 files with 0.8.10
Compiler run successful

Running 1 test for test/OwnerUpOnly.t.sol:OwnerUpOnlyTest
[PASS] testIncrementAsOwner() (gas: 29162)
Test result: ok. 1 passed; 0 failed; finished in 723.90µs
</code></pre>
<p>Let's make sure that someone who is definitely not the owner can't increment the count:</p>
<pre><code class="language-solidity">contract OwnerUpOnlyTest is Test {
    OwnerUpOnly upOnly;

    // ...

    function testFailIncrementAsNotOwner() public {
        vm.prank(address(0));
        upOnly.increment();
    }
}
</code></pre>
<p>If we run <code>forge test</code> now, we will see that all the test pass.</p>
<pre><code class="language-ignore">$ forge test
No files changed, compilation skipped

Running 2 tests for test/OwnerUpOnly.t.sol:OwnerUpOnlyTest
[PASS] testFailIncrementAsNotOwner() (gas: 8413)
[PASS] testIncrementAsOwner() (gas: 29162)
Test result: ok. 2 passed; 0 failed; finished in 1.03ms
</code></pre>
<p>The test passed because the <code>prank</code> cheatcode changed our identity to the zero address for the next call (<code>upOnly.increment()</code>). The test case passed since we used the <code>testFail</code> prefix, however, using <code>testFail</code> is considered an anti-pattern since it does not tell us anything about <em>why</em> <code>upOnly.increment()</code> reverted.</p>
<p>If we run the tests again with traces turned on, we can see that we reverted with the correct error message.</p>
<pre><code class="language-ignore">$ forge test -vvvv --match-test testFailIncrementAsNotOwner
No files changed, compilation skipped

Running 1 test for test/OwnerUpOnly.t.sol:OwnerUpOnlyTest
[PASS] testFailIncrementAsNotOwner() (gas: 8413)
Traces:
  [8413] OwnerUpOnlyTest::testFailIncrementAsNotOwner() 
    ├─ [0] VM::prank(0x0000000000000000000000000000000000000000) 
    │   └─ ← ()
    ├─ [247] 0xce71…c246::d09de08a() 
    │   └─ ← 0x82b42900
    └─ ← 0x82b42900

Test result: ok. 1 passed; 0 failed; finished in 677.31µs
</code></pre>
<p>To be sure in the future, let's make sure that we reverted because we are not the owner using the <code>expectRevert</code> cheatcode:</p>
<pre><code class="language-solidity">contract OwnerUpOnlyTest is Test {
    OwnerUpOnly upOnly;

    // ...

    // Notice that we replaced `testFail` with `test`
    function testIncrementAsNotOwner() public {
        vm.expectRevert(Unauthorized.selector);
        vm.prank(address(0));
        upOnly.increment();
    }
}
</code></pre>
<p>If we run <code>forge test</code> one last time, we see that the test still passes, but this time we are sure that it will always fail if we revert for any other reason.</p>
<pre><code class="language-ignore">$ forge test
No files changed, compilation skipped

Running 2 tests for test/OwnerUpOnly.t.sol:OwnerUpOnlyTest
[PASS] testIncrementAsNotOwner() (gas: 8739)
[PASS] testIncrementAsOwner() (gas: 29162)
Test result: ok. 2 passed; 0 failed; finished in 1.15ms
</code></pre>
<p>Another cheatcode that is perhaps not so intuitive is the <code>expectEmit</code> function. Before looking at <code>expectEmit</code>, we need to understand what an event is.</p>
<p>Events are inheritable members of contracts. When you emit an event, the arguments are stored on the blockchain. The <code>indexed</code> attribute can be added to a maximum of three parameters of an event to form a data structure known as a &quot;topic.&quot; Topics allow users to search for events on the blockchain.</p>
<pre><code class="language-solidity">pragma solidity 0.8.10;

import &quot;forge-std/Test.sol&quot;;

contract EmitContractTest is Test {
    event Transfer(address indexed from, address indexed to, uint256 amount);

    function testExpectEmit() public {
        ExpectEmit emitter = new ExpectEmit();
        // Check that topic 1, topic 2, and data are the same as the following emitted event.
        // Checking topic 3 here doesn't matter, because `Transfer` only has 2 indexed topics.
        vm.expectEmit(true, true, false, true);
        // The event we expect
        emit Transfer(address(this), address(1337), 1337);
        // The event we get
        emitter.t();
    }

    function testExpectEmitDoNotCheckData() public {
        ExpectEmit emitter = new ExpectEmit();
        // Check topic 1 and topic 2, but do not check data
        vm.expectEmit(true, true, false, false);
        // The event we expect
        emit Transfer(address(this), address(1337), 1338);
        // The event we get
        emitter.t();
    }
}

contract ExpectEmit {
    event Transfer(address indexed from, address indexed to, uint256 amount);

    function t() public {
        emit Transfer(msg.sender, address(1337), 1337);
    }
}
</code></pre>
<p>When we call <code>vm.expectEmit(true, true, false, true);</code>, we want to check the 1st and 2nd <code>indexed</code> topic for the next event.</p>
<p>The expected <code>Transfer</code> event in <code>testExpectEmit()</code> means we are expecting that <code>from</code> is  <code>address(this)</code>, and <code>to</code> is <code>address(1337)</code>. This is compared against the event emitted from <code>emitter.t()</code>.</p>
<p>In other words, we are checking that the first topic from <code>emitter.t()</code> is equal to <code>address(this)</code>. The 3rd argument in <code>expectEmit</code> is set to <code>false</code> because there is no need to check the third topic in the <code>Transfer</code> event, since there are only two. It does not matter even if we set to <code>true</code>.</p>
<p>The 4th argument in <code>expectEmit</code> is set to <code>true</code>, which means that we want to check &quot;non-indexed topics&quot;, also known as data.</p>
<p>For example, we want the data from the expected event in <code>testExpectEmit</code> - which is <code>amount</code> - to equal to the data in the actual emitted event. In other words, we are asserting that <code>amount</code> emitted by <code>emitter.t()</code> is equal to <code>1337</code>. If the fourth argument in <code>expectEmit</code> was set to <code>false</code>, we would not check <code>amount</code>.</p>
<p>In other words, <code>testExpectEmitDoNotCheckData</code> is a valid test case, even though the amounts differ, since we do not check the data.</p>
<br>
<blockquote>
<p>📚 <strong>Reference</strong></p>
<p>See the <a href="forge/../cheatcodes/">Cheatcodes Reference</a> for a complete overview of all the available cheatcodes.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-standard-library-overview"><a class="header" href="#forge-standard-library-overview">Forge Standard Library Overview</a></h2>
<p>Forge Standard Library (Forge Std for short) is a collection of helpful contracts that make writing tests easier, faster, and more user-friendly.</p>
<p>Using Forge Std is the preferred way of writing tests with Foundry.</p>
<p>It provides all the essential functionality you need to get started writing tests:</p>
<ul>
<li><code>Vm.sol</code>: Up-to-date cheatcodes interface</li>
<li><code>console.sol</code> and <code>console2.sol</code>: Hardhat-style logging functionality</li>
<li><code>Test.sol</code>: A superset of DSTest containing standard libraries, a cheatcodes instance (<code>vm</code>), and Hardhat console</li>
</ul>
<p>Simply import <code>Test.sol</code> and inherit from <code>Test</code> in your test contract:</p>
<pre><code class="language-solidity">import &quot;forge-std/Test.sol&quot;;

contract ContractTest is Test { ...
</code></pre>
<p>Now, you can:</p>
<pre><code class="language-solidity">// Access Hevm via the `vm` instance
vm.startPrank(alice);

// Assert and log using Dappsys Test
assertEq(dai.balanceOf(alice), 10000e18);

// Log with the Hardhat `console` (`console2`)
console.log(alice.balance);

// Use anything from the Forge Std std-libraries
deal(address(dai), alice, 10000e18);
</code></pre>
<p>To import the <code>Vm</code> interface or the <code>console</code> library individually:</p>
<pre><code class="language-solidity">import &quot;forge-std/Vm.sol&quot;;
</code></pre>
<pre><code class="language-solidity">import &quot;forge-std/console.sol&quot;;
</code></pre>
<p><strong>Note:</strong> <code>console2.sol</code> contains patches to <code>console.sol</code> that allows Forge to decode traces for calls to the console, but it is not compatible with Hardhat.</p>
<pre><code class="language-solidity">import &quot;forge-std/console2.sol&quot;;
</code></pre>
<h3 id="standard-libraries"><a class="header" href="#standard-libraries">Standard libraries</a></h3>
<p>Forge Std currently consists of five main libraries.</p>
<h4 id="std-assertions"><a class="header" href="#std-assertions">Std Assertions</a></h4>
<p>Std Assertions expand upon the assertion functions from the <a href="forge/../reference/ds-test.html"><code>DSTest</code></a> library.</p>
<h4 id="std-cheats"><a class="header" href="#std-cheats">Std Cheats</a></h4>
<p>Std Cheats are wrappers around Forge cheatcodes that make them safer to use and improve the UX.</p>
<p>You can access Std Cheats by simply calling them inside your test contract, as you would any other internal function:</p>
<pre><code class="language-solidity">// set up a prank as Alice with 100 ETH balance
hoax(alice, 100 ether);
</code></pre>
<h4 id="std-errors"><a class="header" href="#std-errors">Std Errors</a></h4>
<p>Std Errors provide wrappers around common internal Solidity errors and reverts.</p>
<p>Std Errors are most useful in combination with the <a href="forge/../cheatcodes/expect-revert.html"><code>expectRevert</code></a> cheatcode, as you do not need to remember the internal Solidity panic codes yourself. Note that you have to access them through <code>stdError</code>, as this is a library.</p>
<pre><code class="language-solidity">// expect an arithmetic error on the next call (e.g. underflow)
vm.expectRevert(stdError.arithmeticError);
</code></pre>
<h4 id="std-storage"><a class="header" href="#std-storage">Std Storage</a></h4>
<p>Std Storage makes manipulating contract storage easy. It can find and write to the storage slot(s) associated with a particular variable.</p>
<p>The <code>Test</code> contract already provides a <code>StdStorage</code> instance <code>stdstore</code> through which you can access any std-storage functionality. Note that you must add <code>using stdStorage for StdStorage</code> in your test contract first.</p>
<pre><code class="language-solidity">// find the variable `score` in the contract `game`
// and change its value to 10
stdstore
    .target(address(game))
    .sig(game.score.selector)
    .checked_write(10);
</code></pre>
<h4 id="std-math"><a class="header" href="#std-math">Std Math</a></h4>
<p>Std Math is a library that simplifies the process of some mathematical calculations.</p>
<p>The <code>Test</code> contract also provides access to Std Math. You can use the Std Math functions by typing <code>stdMath.</code> before the name of the function, just like in the next example:</p>
<pre><code class="language-solidity">// Expected result is 10
stdMath.abs(-10)
</code></pre>
<br>
<blockquote>
<p>📚 <strong>Reference</strong></p>
<p>See the <a href="forge/../reference/forge-std/">Forge Standard Library Reference</a> for a complete overview of Forge Standard Library.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="understanding-traces"><a class="header" href="#understanding-traces">Understanding Traces</a></h2>
<p>Forge can produce traces either for failing tests (<code>-vvv</code>) or all tests (<code>-vvvv</code>).</p>
<p>Traces follow the same general format:</p>
<pre><code class="language-ignore">  [&lt;Gas Usage&gt;] &lt;Contract&gt;::&lt;Function&gt;(&lt;Parameters&gt;)
    ├─ [&lt;Gas Usage&gt;] &lt;Contract&gt;::&lt;Function&gt;(&lt;Parameters&gt;)
    │   └─ ← &lt;Return Value&gt;
    └─ ← &lt;Return Value&gt;
</code></pre>
<p>Each trace can have many more subtraces, each denoting a call to a contract and a return value.</p>
<p>If your terminal supports color, the traces will also come with a variety of colors:</p>
<ul>
<li><strong>Green</strong>: For calls that do not revert</li>
<li><strong>Red</strong>: For reverting calls</li>
<li><strong>Blue</strong>: For calls to cheat codes</li>
<li><strong>Cyan</strong>: For emitted logs</li>
<li><strong>Yellow</strong>: For contract deployments</li>
</ul>
<p>The gas usage (marked in square brackets) is for the entirety of the function call. You may notice, however, that sometimes the gas usage of one trace does not exactly match the gas usage of all its subtraces:</p>
<pre><code class="language-ignore">  [24661] OwnerUpOnlyTest::testIncrementAsOwner()
    ├─ [2262] OwnerUpOnly::count()
    │   └─ ← 0
    ├─ [20398] OwnerUpOnly::increment()
    │   └─ ← ()
    ├─ [262] OwnerUpOnly::count()
    │   └─ ← 1
    └─ ← ()
</code></pre>
<p>The gas unaccounted for is due to some extra operations happening between calls, such as arithmetic and store reads/writes.</p>
<p>Forge will try to decode as many signatures and values as possible, but sometimes this is not possible. In these cases, the traces will appear like so:</p>
<pre><code class="language-ignore">  [&lt;Gas Usage&gt;] &lt;Address&gt;::&lt;Calldata&gt;
    └─ ← &lt;Return Data&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forking-mode"><a class="header" href="#forking-mode">Forking mode</a></h2>
<p>Forge supports testing in a forked environment.</p>
<p>To run tests in a forked environment - such as a forked Ethereum mainnet - pass a RPC URL via the <code>--fork-url</code> flag:</p>
<pre><code class="language-bash">forge test --fork-url &lt;your_rpc_url&gt;
</code></pre>
<p>The following values are changed to reflect those of the chain at the moment of forking:</p>
<ul>
<li><a href="forge/../reference/config.html#block_number"><code>block_number</code></a></li>
<li><a href="forge/../reference/config.html#chain_id"><code>chain_id</code></a></li>
<li><a href="forge/../reference/config.html#gas_limit"><code>gas_limit</code></a></li>
<li><a href="forge/../reference/config.html#gas_price"><code>gas_price</code></a></li>
<li><a href="forge/../reference/config.html#block_base_fee_per_gas"><code>block_base_fee_per_gas</code></a></li>
<li><a href="forge/../reference/config.html#block_coinbase"><code>block_coinbase</code></a></li>
<li><a href="forge/../reference/config.html#block_timestamp"><code>block_timestamp</code></a></li>
<li><a href="forge/../reference/config.html#block_difficulty"><code>block_difficulty</code></a></li>
</ul>
<p>It is possible to specify a block from which to fork with <code>--fork-block-number</code>:</p>
<pre><code class="language-bash">forge test --fork-url &lt;your_rpc_url&gt; --fork-block-number 1
</code></pre>
<p>Forking is especially useful when you need to interact with existing contracts, and you may choose to do integration testing this way, as if you were on an actual network.</p>
<h3 id="caching"><a class="header" href="#caching">Caching</a></h3>
<p>If both <code>--fork-url</code> and <code>--fork-block-number</code> are specified, then data for that block is cached for future test runs.</p>
<p>The data is cached in <code>~/.foundry/cache/&lt;chain id&gt;/&lt;block number&gt;</code>. To clear the cache, simply remove the directory.</p>
<p>It is also possible to ignore the cache entirely by passing <code>--no-storage-caching</code>, or with <code>foundry.toml</code> by configuring <a href="forge/../reference/config.html#no_storage_caching"><code>no_storage_caching</code></a> and <a href="forge/../reference/config.html#rpc_storage_caching"><code>rpc_storage_caching</code></a>.</p>
<h3 id="improved-traces"><a class="header" href="#improved-traces">Improved traces</a></h3>
<p>Forge supports identifying contracts in a forked environment with Etherscan.</p>
<p>To use this feature, pass the Etherscan API key via the <code>--etherscan-api-key</code> flag:</p>
<pre><code class="language-bash">forge test --fork-url &lt;your_rpc_url&gt; --etherscan-api-key &lt;your_etherscan_api_key&gt;
</code></pre>
<p>Alternatively, you can set the <code>ETHERSCAN_API_KEY</code> environment variable.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="advanced-testing"><a class="header" href="#advanced-testing">Advanced Testing</a></h2>
<p>Forge comes with a number of advanced testing methods:</p>
<ul>
<li><a href="forge/./fuzz-testing.html">Fuzz Testing</a></li>
<li><a href="forge/./differential-ffi-testing.html">Differential Testing</a></li>
</ul>
<p>In the future, Forge will also support these:</p>
<ul>
<li><a href="forge/advanced-testing.html#">Invariant Testing</a></li>
<li><a href="forge/advanced-testing.html#">Symbolic Execution</a></li>
<li><a href="forge/advanced-testing.html#">Mutation Testing</a></li>
</ul>
<p>Each chapter dives into what problem the testing methods solve, and how to apply them to your own project.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="fuzz-testing"><a class="header" href="#fuzz-testing">Fuzz Testing</a></h2>
<p>Forge supports property based testing.</p>
<p>Property-based testing is a way of testing general behaviors as opposed to isolated scenarios.</p>
<p>Let's examine what that means by writing a unit test, finding the general property we are testing for, and converting it to a property-based test instead:</p>
<pre><code class="language-solidity">pragma solidity 0.8.10;

import &quot;forge-std/Test.sol&quot;;

contract Safe {
    receive() external payable {}

    function withdraw() external {
        payable(msg.sender).transfer(address(this).balance);
    }
}

contract SafeTest is Test {
    Safe safe;

    // Needed so the test contract itself can receive ether
    // when withdrawing
    receive() external payable {}

    function setUp() public {
        safe = new Safe();
    }

    function testWithdraw() public {
        payable(address(safe)).transfer(1 ether);
        uint256 preBalance = address(this).balance;
        safe.withdraw();
        uint256 postBalance = address(this).balance;
        assertEq(preBalance + 1 ether, postBalance);
    }
}
</code></pre>
<p>Running the test, we see it passes:</p>
<pre><code class="language-sh">$ forge test
Compiling 6 files with 0.8.10
Compiler run successful

Running 1 test for test/Safe.t.sol:SafeTest
[PASS] testWithdraw() (gas: 19462)
Test result: ok. 1 passed; 0 failed; finished in 781.50µs
</code></pre>
<p>This unit test <em>does test</em> that we can withdraw ether from our safe. However, who is to say that it works for all amounts, not just 1 ether?</p>
<p>The general property here is: given a safe balance, when we withdraw, we should get whatever is in the safe.</p>
<p>Forge will run any test that takes at least one parameter as a property-based test, so let's rewrite:</p>
<pre><code class="language-solidity">contract SafeTest is Test {
    // ...

    function testWithdraw(uint256 amount) public {
        payable(address(safe)).transfer(amount);
        uint256 preBalance = address(this).balance;
        safe.withdraw();
        uint256 postBalance = address(this).balance;
        assertEq(preBalance + amount, postBalance);
    }
}
</code></pre>
<p>If we run the test now, we can see that Forge runs the property-based test, but it fails for high values of <code>amount</code>:</p>
<pre><code class="language-sh">$ forge test
Compiling 1 files with 0.8.10
Compiler run successful

Running 1 test for test/Safe.t.sol:SafeTest
[FAIL. Counterexample: calldata=0x215a2f200000000000000000000000000000000000000001000000000000000000000000, args=[79228162514264337593543950336]] testWithdraw(uint256) (runs: 45, μ: 19554, ~: 19554)
Test result: FAILED. 0 passed; 1 failed; finished in 23.75ms
</code></pre>
<p>The default amount of ether that the test contract is given is <code>2**96 wei</code> (as in DappTools), so we have to restrict the type of amount to <code>uint96</code> to make sure we don't try to send more than we have:</p>
<pre><code class="language-solidity">    function testWithdraw(uint96 amount) public {
</code></pre>
<p>And now it passes:</p>
<pre><code class="language-sh">$ forge test
Compiling 1 files with 0.8.10
Compiler run successful

Running 1 test for test/Safe.t.sol:SafeTest
[PASS] testWithdraw(uint96) (runs: 256, μ: 13268, ~: 19654)
Test result: ok. 1 passed; 0 failed; finished in 88.82ms
</code></pre>
<p>You may want to exclude certain cases using the <a href="forge/../cheatcodes/assume.html"><code>assume</code></a> cheatcode. In those cases, fuzzer will discard the inputs and start a new fuzz run:</p>
<pre><code class="language-solidity">function testWithdraw(uint96 amount) public {
    vm.assume(amount &gt; 0.1 ether);
    // snip
}
</code></pre>
<p>There are different ways to run property-based tests, notably parametric testing and fuzzing. Forge only supports fuzzing.</p>
<h3 id="interpreting-results"><a class="header" href="#interpreting-results">Interpreting results</a></h3>
<p>You might have noticed that fuzz tests are summarized a bit differently compared to unit tests:</p>
<ul>
<li>&quot;runs&quot; refers to the amount of scenarios the fuzzer tested. By default, the fuzzer will generate 256 scenarios, however, this can be configured using the <a href="forge/../reference/config.html#fuzz_runs"><code>FOUNDRY_FUZZ_RUNS</code></a> environment variable.</li>
<li>&quot;μ&quot; (Greek letter mu) is the mean gas used across all fuzz runs</li>
<li>&quot;~&quot; (tilde) is the median gas used across all fuzz runs</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="differential-testing"><a class="header" href="#differential-testing">Differential Testing</a></h2>
<p>Forge can be used for differential testing and differential fuzzing. You can even test against non-EVM executables using the <code>ffi</code> <a href="forge/../cheatcodes/ffi.html">cheatcode</a>.</p>
<h3 id="background"><a class="header" href="#background">Background</a></h3>
<p><a href="https://en.wikipedia.org/wiki/Differential_testing">Differential testing</a> cross references multiple implementations of the same function by comparing each one's output. Imagine we have a function specification <code>F(X)</code>, and two implementations of that specification: <code>f1(X)</code> and <code>f2(X)</code>. We expect <code>f1(x) == f2(x)</code> for all x that exist in an appropriate input space. If <code>f1(x) != f2(x)</code>, we know that at least one function is incorrectly implementing <code>F(X)</code>. This process of testing for equality and identifying discrepancies is the core of differential testing.</p>
<p>Differential fuzzing is an extension of differential testing. Differential fuzzing programatically generates many values of <code>x</code> to find discrepencies and edge cases that manually chosen inputs might not reveal. </p>
<blockquote>
<p>Note: the <code>==</code> operator in this case can be a custom definition of equality. For example, if testing floating point implementations, you might use approximate equality with a certain tolerance.</p>
</blockquote>
<p>Some real life uses of this type of testing include:</p>
<ul>
<li>Comparing upgraded implementations to their predecessors</li>
<li>Testing code against known reference implementations</li>
<li>Confirming compatibility with third party tools and dependencies</li>
</ul>
<p>Below are some examples of how Forge is used for differential testing.</p>
<h3 id="primer-the-ffi-cheatcode"><a class="header" href="#primer-the-ffi-cheatcode">Primer: The <code>ffi</code> cheatcode</a></h3>
<p><a href="forge/../cheatcodes/ffi.html"><code>ffi</code></a> allows you to execute an arbitrary shell command and capture the output. Here's a mock example:</p>
<pre><code class="language-solidity">import &quot;forge-std/Test.sol&quot;;

contract TestContract is Test {

    function testMyFFI () public {
        string[] memory cmds = new string[](2);
        cmds[0] = &quot;cat&quot;;
        cmds[1] = &quot;address.txt&quot;; // assume contains abi-encoded address.
        bytes memory result = vm.ffi(cmds);
        address loadedAddress = abi.decode(result, (address));
        // Do something with the address
        // ...
    }
}
</code></pre>
<p>An address has previously been written to <code>address.txt</code>, and we read it in using the FFI cheatcode. This data can now be used throughout your test contract.</p>
<h3 id="example-differential-testing-merkle-tree-implementations"><a class="header" href="#example-differential-testing-merkle-tree-implementations">Example: Differential Testing Merkle Tree Implementations</a></h3>
<p><a href="https://en.wikipedia.org/wiki/Merkle_tree">Merkle Trees</a> are a cryptographic commitment scheme frequently used in blockchain applications. Their popularity has led to a number of different implementations of Merkle Tree generators, provers, and verifiers. Merkle roots and proofs are often generated using a language like JavaScript or Python, while proof verification usually occurs on-chain in Solidity.</p>
<p><a href="https://github.com/dmfxyz/murky">Murky</a> is a complete implementation of Merkle roots, proofs, and verification in Solidity. Its test suite includes differential tests against OpenZeppelin's Merkle proof library, as well as root generation tests against a reference JavaScript implementation. These tests are powered by Foundry's fuzzing and <code>ffi</code> capabilities.</p>
<h4 id="differential-fuzzing-against-a-reference-typescript-implementation"><a class="header" href="#differential-fuzzing-against-a-reference-typescript-implementation">Differential fuzzing against a reference TypeScript implementation</a></h4>
<p>Using the <code>ffi</code> cheatcode, Murky tests its own Merkle root implementation against a TypeScript implementation using data provided by Forge's fuzzer:</p>
<pre><code class="language-solidity">function testMerkleRootMatchesJSImplementationFuzzed(bytes32[] memory leaves) public {
    vm.assume(leaves.length &gt; 1);
    bytes memory packed = abi.encodePacked(leaves);
    string[] memory runJsInputs = new string[](8);

    // Build ffi command string
    runJsInputs[0] = 'npm';
    runJsInputs[1] = '--prefix';
    runJsInputs[2] = 'differential_testing/scripts/';
    runJsInputs[3] = '--silent';
    runJsInputs[4] = 'run';
    runJsInputs[5] = 'generate-root-cli';
    runJsInputs[6] = leaves.length.toString();
    runJsInputs[7] = packed.toHexString();

    // Run command and capture output
    bytes memory jsResult = vm.ffi(runJsInputs);
    bytes32 jsGeneratedRoot = abi.decode(jsResult, (bytes32));
    
    // Calculate root using Murky
    bytes32 murkyGeneratedRoot = m.getRoot(leaves);
    assertEq(murkyGeneratedRoot, jsGeneratedRoot);
}
</code></pre>
<blockquote>
<p>Note: see <a href="https://github.com/dmfxyz/murky/blob/main/differential_testing/test/utils/Strings2.sol"><code>Strings2.sol</code></a> in the Murky Repo for the library that enables <code>(bytes memory).toHexString()</code></p>
</blockquote>
<p>Forge runs <code>npm --prefix differential_testing/scripts/ --silent run generate-root-cli {numLeaves} {hexEncodedLeaves}</code>. This calculates the Merkle root for the input data using the reference JavaScript implementation. The script prints the root to stdout, and that printout is captured as <code>bytes</code> in the return value of <code>vm.ffi()</code>.</p>
<p>The test then calculates the root using the Solidity implementation. </p>
<p>Finally, the test asserts that the both roots are exactly equal. If they are not equal, the test fails.</p>
<h4 id="differential-fuzzing-against-openzeppelins-merkle-proof-library"><a class="header" href="#differential-fuzzing-against-openzeppelins-merkle-proof-library">Differential fuzzing against OpenZeppelin's Merkle Proof Library</a></h4>
<p>You may want to use differential testing against another Solidity implementation. In that case, <code>ffi</code> is not needed. Instead, the reference implementation is imported directly into the test.</p>
<pre><code class="language-solidity">import &quot;openzeppelin-contracts/contracts/utils/cryptography/MerkleProof.sol&quot;;
//...
function testCompatabilityOpenZeppelinProver(bytes32[] memory _data, uint256 node) public {
    vm.assume(_data.length &gt; 1);
    vm.assume(node &lt; _data.length);
    bytes32 root = m.getRoot(_data);
    bytes32[] memory proof = m.getProof(_data, node);
    bytes32 valueToProve = _data[node];
    bool murkyVerified = m.verifyProof(root, proof, valueToProve);
    bool ozVerified = MerkleProof.verify(proof, root, valueToProve);
    assertTrue(murkyVerified == ozVerified);
}
</code></pre>
<h4 id="differential-testing-against-a-known-edge-case"><a class="header" href="#differential-testing-against-a-known-edge-case">Differential testing against a known edge case</a></h4>
<p>Differential tests are not always fuzzed -- they are also useful for testing known edge cases. In the case of the Murky codebase, the initial implementation of the <code>log2ceil</code> function did not work for certain arrays whose lengths were close to a power of 2 (like 129). As a safety check, a test is always run against an array of this length and compared to the TypeScript implementation. You can see the full test <a href="https://github.com/dmfxyz/murky/blob/main/differential_testing/test/DifferentialTests.t.sol#L21">here</a>.</p>
<h4 id="standardized-testing-against-reference-data"><a class="header" href="#standardized-testing-against-reference-data">Standardized Testing against reference data</a></h4>
<p>FFI is also useful for injecting reproducible, standardized data into the testing environment. In the Murky library, this is used as a benchmark for gas snapshotting (see <a href="forge/./gas-snapshots.html">forge snapshot</a>).</p>
<pre><code class="language-solidity">bytes32[100] data;
uint256[8] leaves = [4, 8, 15, 16, 23, 42, 69, 88];

function setUp() public {
    string[] memory inputs = new string[](2);
    inputs[0] = &quot;cat&quot;;
    inputs[1] = &quot;src/test/standard_data/StandardInput.txt&quot;;
    bytes memory result =  vm.ffi(inputs);
    data = abi.decode(result, (bytes32[100]));
    m = new Merkle();
}
    
function testMerkleGenerateProofStandard() public view {
    bytes32[] memory _data = _getData(); 
    for (uint i = 0; i &lt; leaves.length; ++i) {
        m.getProof(_data, leaves[i]);
    }
}
</code></pre>
<p><code>src/test/standard_data/StandardInput.txt</code> is a text file that contains an encoded <code>bytes32[100]</code> array. It's generated outside of the test and can be used in any language's Web3 SDK. It looks something like:</p>
<pre><code class="language-ignore">0xf910ccaa307836354233316666386231414464306335333243453944383735313..423532
</code></pre>
<p>The standardized testing contract reads in the file using <code>ffi</code>. It decodes the data into an array and then, in this example, generates proofs for 8 different leaves. Because the data is constant and standard, we can meaningfully measure gas and performance improvements using this test. </p>
<blockquote>
<p>Of course, one could just hardcode the array into the test! But that makes it much harder to do consistent testing across contracts, implementations, etc.</p>
</blockquote>
<h3 id="example-differential-testing-gradual-dutch-auctions"><a class="header" href="#example-differential-testing-gradual-dutch-auctions">Example: Differential Testing Gradual Dutch Auctions</a></h3>
<p>The reference implementation for Paradigm's <a href="https://www.paradigm.xyz/2022/04/gda">Gradual Dutch Auction</a> mechanism contains a number of differential, fuzzed tests. It is an excellent repository to further explore differential testing using <code>ffi</code>.</p>
<ul>
<li>Differential tests for <a href="https://github.com/FrankieIsLost/gradual-dutch-auction/blob/master/src/test/DiscreteGDA.t.sol#L78">Discrete GDAs</a></li>
<li>Differential tests for <a href="https://github.com/FrankieIsLost/gradual-dutch-auction/blob/master/src/test/ContinuousGDA.t.sol#L89">Continuous GDAs</a></li>
<li>Reference <a href="https://github.com/FrankieIsLost/gradual-dutch-auction/blob/master/analysis/compute_price.py">Python implementation</a></li>
</ul>
<h3 id="reference-repositories"><a class="header" href="#reference-repositories">Reference Repositories</a></h3>
<ul>
<li><a href="https://github.com/FrankieIsLost/gradual-dutch-auction">Gradual Dutch Auctions</a></li>
<li><a href="https://www.github.com/dmfxyz/murky">Murky</a></li>
<li><a href="https://github.com/patrickd-/solidity-fuzzing-boilerplate">Solidity Fuzzing Template</a></li>
</ul>
<p>If you have another repository that would serve as a reference, please contribute it!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="deploying"><a class="header" href="#deploying">Deploying</a></h2>
<p>Forge can deploy smart contracts to a given network with the <a href="forge/../reference/forge/forge-create.html"><code>forge create</code></a> command.</p>
<p>Forge can deploy only one contract at a time.</p>
<p>To deploy a contract, you must provide a RPC URL (env: <code>ETH_RPC_URL</code>) and the private key of the account that will deploy the contract.</p>
<p>To deploy <code>MyContract</code> to a network:</p>
<pre><code class="language-sh">$ forge create --rpc-url &lt;your_rpc_url&gt; --private-key &lt;your_private_key&gt; src/MyContract.sol:MyContract
compiling...
success.
Deployer: 0xa735b3c25f...
Deployed to: 0x4054415432...
Transaction hash: 0x6b4e0ff93a...
</code></pre>
<p>Solidity files may contain multiple contracts. <code>:MyContract</code> above specifies which contract to deploy from the <code>src/MyContract.sol</code> file.</p>
<p>Use the <code>--constructor-args</code> flag to pass arguments to the constructor:</p>
<pre><code class="language-solidity">// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

import {ERC20} from &quot;solmate/tokens/ERC20.sol&quot;;

contract MyToken is ERC20 {
    constructor(
        string memory name,
        string memory symbol,
        uint8 decimals,
        uint256 initialSupply
    ) ERC20(name, symbol, decimals) {
        _mint(msg.sender, initialSupply);
    }
}
</code></pre>
<p>Additionally, we can tell Forge to verify our contract on Etherscan, if the network is supported, by passing <code>--verify</code>.</p>
<pre><code class="language-sh">$ forge create --rpc-url &lt;your_rpc_url&gt; \
    --constructor-args &quot;ForgeUSD&quot; &quot;FUSD&quot; 18 1000000000000000000000 \
    --private-key &lt;your_private_key&gt; src/MyToken.sol:MyToken \
    --verify
</code></pre>
<h2 id="verifying-a-pre-existing-contract"><a class="header" href="#verifying-a-pre-existing-contract">Verifying a pre-existing contract</a></h2>
<p>It is recommended to use the <code>--verify</code> flag with <code>forge create</code> to automatically verify the contract on Etherscan after a deployment.
Note that <a href="forge/../reference/config.html#etherscan_api_key"><code>ETHERSCAN_API_KEY</code></a> must be set.</p>
<p>If you are verifying an already deployed contract, read on.</p>
<p>You can verify a contract on Etherscan with the <a href="forge/../reference/forge/forge-verify-contract.html"><code>forge verify-contract</code></a> command.</p>
<p>You must provide:</p>
<ul>
<li>the contract address</li>
<li>the path to the contract <code>&lt;path&gt;:&lt;contractname&gt;</code></li>
<li>your Etherscan API key (env: <code>ETHERSCAN_API_KEY</code>).</li>
</ul>
<p>Moreover, you may need to provide:</p>
<ul>
<li><a href="https://etherscan.io/solcversions">compiler version</a> used for build, with 8 hex digits from the commit version prefix (the commit will usually not be a nightly build).  It is auto-detected if not specified.</li>
<li>the constructor arguments in the ABI-encoded format, if there are any</li>
<li>the number of optimizations, if the Solidity optimizer was activated.  It is auto-detected if not specified.</li>
<li>the <a href="https://evm-chainlist.netlify.app/">chain ID</a>, if the contract is not on Ethereum Mainnet</li>
</ul>
<p>Let's say you want to verify <code>MyToken</code> (see above). You set the <a href="forge/../reference/config.html#optimizer_runs">number of optimizations</a> to 1 million, compiled it with v0.8.10, and deployed it, as shown above, to the Kovan testnet (chain ID: 42). Note that <code>--num-of-optimizations</code> will default to 0 if not set on verification, while it defaults to 200 if not set on deployment, so make sure you pass <code>--num-of-optimizations 200</code> if you left the default compilation settings. </p>
<p>Here's how to verify it:</p>
<pre><code class="language-bash">$ forge verify-contract --chain-id 42 --num-of-optimizations 1000000 --constructor-args \ 
    $(cast abi-encode &quot;constructor(string,string,uint256,uint256)&quot; &quot;ForgeUSD&quot; &quot;FUSD&quot; 18 1000000000000000000000) \
    --compiler-version v0.8.10+commit.fc410830 &lt;the_contract_address&gt; src/MyToken.sol:MyToken &lt;your_etherscan_api_key&gt;

Submitted contract for verification:
                Response: `OK`
                GUID: `a6yrbjp5prvakia6bqp5qdacczyfhkyi5j1r6qbds1js41ak1a`
                url: https://kovan.etherscan.io//address/0x6a54…3a4c#code
</code></pre>
<p>You can check verification status with the <a href="forge/../reference/forge/forge-verify-check.html"><code>forge verify-check</code></a> command:</p>
<pre><code class="language-bash">$ forge verify-check --chain-id 42 &lt;GUID&gt; &lt;your_etherscan_api_key&gt;
Contract successfully verified.
</code></pre>
<br>
<blockquote>
<p>💡 <strong>Tip</strong></p>
<p>Use Cast's <a href="forge/../reference/cast/cast-abi-encode.html"><code>abi-encode</code></a> to ABI-encode arguments.</p>
<p>In this example, we ran <code>cast abi-encode &quot;constructor(string,string,uint8,uint256)&quot; &quot;ForgeUSD&quot; &quot;FUSD&quot; 18 1000000000000000000000</code> to ABI-encode the arguments.</p>
</blockquote>
<br>
<h3 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h3>
<h5 id="invalid-character-x-at-position-1"><a class="header" href="#invalid-character-x-at-position-1"><code>Invalid character 'x' at position 1</code></a></h5>
<p>Make sure the private key string does not begin with <code>0x</code>.</p>
<h5 id="eip-1559-not-activated"><a class="header" href="#eip-1559-not-activated"><code>EIP-1559 not activated</code></a></h5>
<p>EIP-1559 is not supported or not activated on the RPC server. Pass the <code>--legacy</code> flag to use legacy transactions instead of the EIP-1559 ones. If you do development in a local environment, you can use Hardhat instead of Ganache.</p>
<h5 id="failed-to-parse-tokens"><a class="header" href="#failed-to-parse-tokens"><code>Failed to parse tokens</code></a></h5>
<p>Make sure the passed arguments are of correct type.</p>
<h5 id="signature-error"><a class="header" href="#signature-error"><code>Signature error</code></a></h5>
<p>Make sure the private key is correct.</p>
<h5 id="compiler-version-commit-for-verify"><a class="header" href="#compiler-version-commit-for-verify"><code>Compiler version commit for verify</code></a></h5>
<p>If you want to check the exact commit you are running locally, try: <code> ~/.svm/0.x.y/solc-0.x.y --version</code> where <code>x</code> and
<code>y</code> are major and minor version numbers respectively.  The output of this will be something like:</p>
<pre><code class="language-ignore">solc, the solidity compiler commandline interface
Version: 0.8.12+commit.f00d7308.Darwin.appleclang
</code></pre>
<p>Note: You cannot just paste the entire string &quot;0.8.12+commit.f00d7308.Darwin.appleclang&quot; as the argument for the compiler-version.  But you can use the 8 hex digits of the commit to look up exactly what you should copy and paste from <a href="https://etherscan.io/solcversions">compiler version</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="gas-tracking"><a class="header" href="#gas-tracking">Gas Tracking</a></h2>
<p>Forge can help you estimate how much gas your contract will consume.</p>
<p>Currently, Forge ships with two different tools for this job, but they may be merged in the future:</p>
<ul>
<li><a href="forge/./gas-reports.html"><strong>Gas reports</strong></a>: Gas reports give you an overview of how much Forge thinks the
individual functions in your contracts will consume in gas.</li>
<li><a href="forge/./gas-snapshots.html"><strong>Gas snapshots</strong></a>: Gas snapshots give you an overview of how much
each test consumes in gas.</li>
</ul>
<p>Gas reports and gas snapshots differ in some ways:</p>
<ul>
<li>Gas reports use tracing to figure out gas costs for individual contract calls.<br />
This gives more granular insight, at the cost of speed.</li>
<li>Gas snapshots have more built-in tools, such as diffs and exporting the results to a file.<br />
Snapshots are not as granular as gas reports, but they are faster to generate.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="gas-reports"><a class="header" href="#gas-reports">Gas Reports</a></h2>
<p>Forge can produce gas reports for your contracts. You can configure which contracts output gas reports via the <code>gas_reports</code> field in <code>foundry.toml</code>.</p>
<p>To produce reports for specific contracts:</p>
<pre><code class="language-toml">gas_reports = [&quot;MyContract&quot;, &quot;MyContractFactory&quot;]
</code></pre>
<p>To produce reports for all contracts:</p>
<pre><code class="language-toml">gas_reports = [&quot;*&quot;]
</code></pre>
<p>To generate gas reports, run <code>forge test --gas-report</code>.</p>
<p>You can also use it in combination with other subcommands, such as <code>forge test --match-test testBurn --gas-report</code>, to generate only a gas report relevant to this test.</p>
<p>Example output:</p>
<pre><code class="language-ignore">╭───────────────────────┬─────────────────┬────────┬────────┬────────┬─────────╮
│ MockERC1155 contract  ┆                 ┆        ┆        ┆        ┆         │
╞═══════════════════════╪═════════════════╪════════╪════════╪════════╪═════════╡
│ Deployment Cost       ┆ Deployment Size ┆        ┆        ┆        ┆         │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ 1082720               ┆ 5440            ┆        ┆        ┆        ┆         │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ Function Name         ┆ min             ┆ avg    ┆ median ┆ max    ┆ # calls │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ balanceOf             ┆ 596             ┆ 596    ┆ 596    ┆ 596    ┆ 44      │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ balanceOfBatch        ┆ 2363            ┆ 4005   ┆ 4005   ┆ 5647   ┆ 2       │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ batchBurn             ┆ 2126            ┆ 5560   ┆ 2584   ┆ 11970  ┆ 3       │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ batchMint             ┆ 2444            ┆ 135299 ┆ 125081 ┆ 438531 ┆ 18      │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ burn                  ┆ 814             ┆ 2117   ┆ 2117   ┆ 3421   ┆ 2       │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ isApprovedForAll      ┆ 749             ┆ 749    ┆ 749    ┆ 749    ┆ 1       │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ mint                  ┆ 26039           ┆ 31943  ┆ 27685  ┆ 118859 ┆ 22      │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ safeBatchTransferFrom ┆ 2561            ┆ 137750 ┆ 126910 ┆ 461304 ┆ 8       │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ safeTransferFrom      ┆ 1335            ┆ 34505  ┆ 28103  ┆ 139557 ┆ 9       │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ setApprovalForAll     ┆ 24485           ┆ 24485  ┆ 24485  ┆ 24485  ┆ 12      │
╰───────────────────────┴─────────────────┴────────┴────────┴────────┴─────────╯
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="gas-snapshots"><a class="header" href="#gas-snapshots">Gas Snapshots</a></h2>
<p>Forge can generate gas snapshots for all your test functions. This can
be useful to get a general feel for how much gas your contract will consume,
or to compare gas usage before and after various optimizations.</p>
<p>To generate the gas snapshot, run <a href="forge/../reference/forge/forge-snapshot.html"><code>forge snapshot</code></a>.</p>
<p>This will generate a file called <code>.gas-snapshot</code> by default with all your
tests (not including fuzz tests) and their respective gas usage.</p>
<pre><code class="language-ignore">$ forge snapshot
$ cat .gas-snapshot

ERC20Test:testApprove() (gas: 31162)
ERC20Test:testBurn() (gas: 59875)
ERC20Test:testFailTransferFromInsufficientAllowance() (gas: 81034)
ERC20Test:testFailTransferFromInsufficientBalance() (gas: 81662)
ERC20Test:testFailTransferInsufficientBalance() (gas: 52882)
ERC20Test:testInfiniteApproveTransferFrom() (gas: 90167)
ERC20Test:testMetadata() (gas: 14606)
ERC20Test:testMint() (gas: 53830)
ERC20Test:testTransfer() (gas: 60473)
ERC20Test:testTransferFrom() (gas: 84152)
</code></pre>
<h3 id="filtering"><a class="header" href="#filtering">Filtering</a></h3>
<p>If you would like to specify a different output file, run <code>forge snapshot --snap &lt;FILE_NAME&gt;</code>.</p>
<p>You can also sort the results by gas usage. Use the <code>--asc</code> option to sort the results in
ascending order and <code>--desc</code> to sort the results in descending order.</p>
<p>Finally, you can also specify a min/max gas threshold for all your tests.
To only include results above a threshold, you can use the <code>--min &lt;VALUE&gt;</code> option.
In the same way, to only include results under a threshold,
you can use the <code>--max &lt;VALUE&gt;</code> option.</p>
<p>Keep in mind that the changes will be made in the snapshot file, and not in the snapshot being
displayed on your screen.</p>
<h3 id="comparing-gas-usage"><a class="header" href="#comparing-gas-usage">Comparing gas usage</a></h3>
<p>If you would like to compare the current snapshot file with your 
latest changes, you can use the <code>--diff</code> or <code>--check</code> options.</p>
<p><code>--diff</code> will compare against the snapshot and display changes from the snapshot.</p>
<p>It can also optionally take a file name (<code>--diff &lt;FILE_NAME&gt;</code>), with the default
being <code>.gas-snapshot</code>.</p>
<p>For example:</p>
<pre><code class="language-ignore">$ forge snapshot --diff .gas-snapshot2

Running 10 tests for src/test/ERC20.t.sol:ERC20Test
[PASS] testApprove() (gas: 31162)
[PASS] testBurn() (gas: 59875)
[PASS] testFailTransferFromInsufficientAllowance() (gas: 81034)
[PASS] testFailTransferFromInsufficientBalance() (gas: 81662)
[PASS] testFailTransferInsufficientBalance() (gas: 52882)
[PASS] testInfiniteApproveTransferFrom() (gas: 90167)
[PASS] testMetadata() (gas: 14606)
[PASS] testMint() (gas: 53830)
[PASS] testTransfer() (gas: 60473)
[PASS] testTransferFrom() (gas: 84152)
Test result: ok. 10 passed; 0 failed; finished in 2.86ms
testBurn() (gas: 0 (0.000%))
testFailTransferFromInsufficientAllowance() (gas: 0 (0.000%))
testFailTransferFromInsufficientBalance() (gas: 0 (0.000%))
testFailTransferInsufficientBalance() (gas: 0 (0.000%))
testInfiniteApproveTransferFrom() (gas: 0 (0.000%))
testMetadata() (gas: 0 (0.000%))
testMint() (gas: 0 (0.000%))
testTransfer() (gas: 0 (0.000%))
testTransferFrom() (gas: 0 (0.000%))
testApprove() (gas: -8 (-0.000%))
Overall gas change: -8 (-0.000%)
</code></pre>
<p><code>--check</code> will compare a snapshot with an existing snapshot file and display all the 
differences, if any. You can change the file to compare against by providing a different file name: <code>--check &lt;FILE_NAME&gt;</code>.</p>
<p>For example:</p>
<pre><code class="language-ignore">$ forge snapshot --check .gas-snapshot2

Running 10 tests for src/test/ERC20.t.sol:ERC20Test
[PASS] testApprove() (gas: 31162)
[PASS] testBurn() (gas: 59875)
[PASS] testFailTransferFromInsufficientAllowance() (gas: 81034)
[PASS] testFailTransferFromInsufficientBalance() (gas: 81662)
[PASS] testFailTransferInsufficientBalance() (gas: 52882)
[PASS] testInfiniteApproveTransferFrom() (gas: 90167)
[PASS] testMetadata() (gas: 14606)
[PASS] testMint() (gas: 53830)
[PASS] testTransfer() (gas: 60473)
[PASS] testTransferFrom() (gas: 84152)
Test result: ok. 10 passed; 0 failed; finished in 2.47ms
Diff in &quot;ERC20Test::testApprove()&quot;: consumed &quot;(gas: 31162)&quot; gas, expected &quot;(gas: 31170)&quot; gas 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="debugger"><a class="header" href="#debugger">Debugger</a></h2>
<p>Forge ships with an interactive debugger.</p>
<p>The debugger is accessible on <a href="forge/../reference/forge/forge-debug.html"><code>forge debug</code></a> and on <a href="forge/../reference/forge/forge-test.html"><code>forge test</code></a>.</p>
<p>Using <code>forge test</code>:</p>
<pre><code class="language-sh">$ forge test --debug $FUNC
</code></pre>
<p>Where <code>$FUNC</code> is the signature of the function you want to debug. For example:</p>
<pre><code class="language-sh">$ forge test --debug &quot;testSomething&quot;
</code></pre>
<p>If you have multiple contracts with the same function name, you need to limit the matching functions down to only one case using <code>--match-path</code> and <code>--match-contract</code>.</p>
<p>If the matching test is a fuzz test, the debugger will open the first failing fuzz scenario, or the last successful one, whichever comes first.</p>
<p>Using <code>forge debug</code>:</p>
<pre><code class="language-sh">$ forge debug --debug $FILE --sig $FUNC
</code></pre>
<p>Where <code>$FILE</code> is the path to the contract you want to debug, and <code>$FUNC</code> is the signature of the function you want to debug. For example:</p>
<pre><code class="language-sh">$ forge debug --debug src/SomeContract.sol --sig &quot;myFunc(uint256,string)&quot; 123 &quot;hello&quot;
</code></pre>
<p>You can also specify raw calldata using <code>--sig</code> instead of a function signature.</p>
<p>If your source file contains more than one contract, specify the contract you want to debug using the <code>--target-contract</code> flag.</p>
<h3 id="debugger-layout"><a class="header" href="#debugger-layout">Debugger layout</a></h3>
<p><img src="forge/../images/debugger.png" alt="An image of the debugger UI" /></p>
<p>When the debugger is run, you are presented with a terminal divided into four quadrants:</p>
<ul>
<li><strong>Quadrant 1</strong>: The opcodes in the debugging session, with the current opcode highlighted. Additionally, the address of the current account, the program counter and the accumulated gas usage is also displayed</li>
<li><strong>Quadrant 2</strong>: The current stack, as well as the size of the stack</li>
<li><strong>Quadrant 3</strong>: The source view</li>
<li><strong>Quadrant 4</strong>: The current memory of the EVM</li>
</ul>
<p>As you step through your code, you will notice that the words in the stack and memory sometimes change color.</p>
<p>For the memory:</p>
<ul>
<li><strong>Red words</strong> are about to be written to by the current opcode</li>
<li><strong>Green words</strong> were written to by the previous opcode</li>
<li><strong>Cyan words</strong> are being read by the current opcode</li>
</ul>
<p>For the stack, <strong>cyan words</strong> are either being read or popped by the current opcode.</p>
<h3 id="navigating"><a class="header" href="#navigating">Navigating</a></h3>
<h3 id="general"><a class="header" href="#general">General</a></h3>
<ul>
<li><kbd>q</kbd>: Quit the debugger</li>
</ul>
<h3 id="navigating-calls"><a class="header" href="#navigating-calls">Navigating calls</a></h3>
<ul>
<li><kbd>0-9</kbd> + <kbd>k</kbd>: Step a number of times backwards (alternatively scroll up with your mouse)</li>
<li><kbd>0-9</kbd> + <kbd>j</kbd>: Step a number of times forwards (alternatively scroll down with your mouse)</li>
<li><kbd>g</kbd>: Move to the beginning of the transaction</li>
<li><kbd>G</kbd>: Move to the end of the transaction</li>
<li><kbd>c</kbd>: Move to the previous call-type instruction (i.e. <a href="https://www.evm.codes/#f1"><code>CALL</code></a>, <a href="https://www.evm.codes/#fa"><code>STATICCALL</code></a>, <a href="https://www.evm.codes/#f4"><code>DELEGATECALL</code></a>, and <a href="https://www.evm.codes/#f2"><code>CALLCODE</code></a>).</li>
<li><kbd>C</kbd>: Move to the next call-type instruction</li>
<li><kbd>a</kbd>: Move to the previous <a href="https://www.evm.codes/#f1"><code>JUMP</code></a> or <a href="https://www.evm.codes/#57"><code>JUMPI</code></a> instruction</li>
<li><kbd>s</kbd>: Move to the next <a href="https://www.evm.codes/#5b"><code>JUMPDEST</code></a> instruction</li>
</ul>
<h3 id="navigating-memory"><a class="header" href="#navigating-memory">Navigating memory</a></h3>
<ul>
<li><kbd>Ctrl</kbd> + <kbd>j</kbd>: Scroll the memory view down</li>
<li><kbd>Ctrl</kbd> + <kbd>k</kbd>: Scroll the memory view up</li>
<li><kbd>m</kbd>: Show memory as UTF8</li>
</ul>
<h3 id="navigating-the-stack"><a class="header" href="#navigating-the-stack">Navigating the stack</a></h3>
<ul>
<li><kbd>J</kbd>: Scroll the stack view down</li>
<li><kbd>K</kbd>: Scroll the stack view up</li>
<li><kbd>t</kbd>: Show labels on the stack to see what items the current op will consume</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="overview-of-cast"><a class="header" href="#overview-of-cast">Overview of Cast</a></h2>
<p>Cast is Foundry's command-line tool for performing Ethereum RPC calls. You can make smart contract calls, send transactions, or retrieve any type of chain data - all from your command-line!</p>
<h3 id="how-to-use-cast"><a class="header" href="#how-to-use-cast">How to use Cast</a></h3>
<p>To use Cast, run the <a href="cast/../reference/cast/cast.html"><code>cast</code></a> command followed by a subcommand:</p>
<pre><code class="language-bash">$ cast &lt;subcommand&gt;
</code></pre>
<h4 id="examples"><a class="header" href="#examples">Examples</a></h4>
<p>Let's use <code>cast</code> to retrieve the total supply of the DAI token:</p>
<pre><code class="language-bash">$ cast call 0x6b175474e89094c44da98b954eedeac495271d0f &quot;totalSupply()(uint256)&quot; --rpc-url https://eth-mainnet.alchemyapi.io/v2/Lc7oIGYeL_QvInzI0Wiu_pOZZDEKBrdf
8603853182003814300330472690
</code></pre>
<p><code>cast</code> also provides many convenient subcommands, such as for decoding calldata:</p>
<pre><code class="language-bash">$ cast 4byte-decode 0x1F1F897F676d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003e7
1) &quot;fulfillRandomness(bytes32,uint256)&quot;
0x676d000000000000000000000000000000000000000000000000000000000000
999
</code></pre>
<p>You can also use <code>cast</code> to send arbitrary messages. Here's an example of sending a message between two Anvil accounts.</p>
<pre><code class="language-bash">$ cast send --private-key &lt;Your Private Key&gt; 0x3c44cdddb6a900fa2b585dd299e03d12fa4293bc $(cast --from-utf8 &quot;hello world&quot;) --rpc-url http://127.0.0.1:8545/
</code></pre>
<br>
<blockquote>
<p>📚 <strong>Reference</strong></p>
<p>See the <a href="cast/../reference/cast/"><code>cast</code> Reference</a> for a complete overview of all the available subcommands.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="overview-of-anvil"><a class="header" href="#overview-of-anvil">Overview of Anvil</a></h2>
<p>Anvil is a local testnet node shipped with Foundry. You can use it for testing your contracts from frontends or for interacting over RPC.</p>
<p>Anvil is part of the Foundry suite and is installed alongside <code>forge</code> and <code>cast</code>. If you haven't installed Foundry yet, see <a href="anvil/../getting-started/installation.html">Foundry installation</a>. </p>
<blockquote>
<p>Note: If you have an older version of Foundry installed, you'll need to re-install <code>foundryup</code> in order for Anvil to be downloaded.</p>
</blockquote>
<h3 id="how-to-use-anvil"><a class="header" href="#how-to-use-anvil">How to use Anvil</a></h3>
<p>To use Anvil, simply type <code>anvil</code>. You should see a list of accounts and private keys available for use, as well as the address and port that the node is listening on. </p>
<p>Anvil is highly configurable. You can run <code>anvil -h</code> to see all the configuration options.</p>
<p>Some basic options are:</p>
<pre><code class="language-bash">#  Number of dev accounts to generate and configure. [default: 10]
anvil -a, --accounts &lt;ACCOUNTS&gt;

# The EVM hardfork to use. [default: latest]
anvil --hardfork &lt;HARDFORK&gt;

# Port number to listen on. [default: 8545]
anvil  -p, --port &lt;PORT&gt;
</code></pre>
<blockquote>
<p>📚 <strong>Reference</strong></p>
<p>See the <a href="anvil/../reference/anvil/"><code>anvil</code> Reference</a> for in depth information on Anvil and its capabilities.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="configuring-with-foundrytoml"><a class="header" href="#configuring-with-foundrytoml">Configuring with <code>foundry.toml</code></a></h2>
<p>Forge can be configured using a configuration file called <code>foundry.toml</code>, which is placed in the root of your project.</p>
<p>Configuration can be namespaced by profiles. The default profile is named <code>default</code>, from which all other profiles inherit. You are free to customize the <code>default</code> profile, and add as many new profiles as you need.</p>
<p>Additionally, you can create a global <code>foundry.toml</code> in your home directory.</p>
<p>Let's take a look at a configuration file that contains two profiles: the default profile, which always enables the optimizer, as well as a CI profile, that always displays traces:</p>
<pre><code class="language-toml">[default]
optimizer = true
optimizer_runs = 20000

[ci]
verbosity = 4
</code></pre>
<p>When running <code>forge</code>, you can specify the profile to use using the <code>FOUNDRY_PROFILE</code> environment variable.</p>
<br>
<blockquote>
<p>📚 <strong>Reference</strong></p>
<p>See the <a href="config/../reference/config.html"><code>foundry.toml</code> Reference</a> for a complete overview of what you can configure.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="continuous-integration"><a class="header" href="#continuous-integration">Continuous Integration</a></h2>
<h3 id="github-actions"><a class="header" href="#github-actions">GitHub Actions</a></h3>
<p>To test your project using GitHub Actions, here is a sample workflow:</p>
<pre><code class="language-yml">on: [push]

name: test

jobs:
  check:
    name: Foundry project
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: recursive

      - name: Install Foundry
        uses: foundry-rs/foundry-toolchain@v1
        with:
          version: nightly

      - name: Run tests
        run: forge test -vvv
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="integrating-with-vscode"><a class="header" href="#integrating-with-vscode">Integrating with VSCode</a></h2>
<p>You can get Solidity support for Visual Studio Code by installing <a href="https://github.com/juanfranblanco/vscode-solidity">the VSCode Solidity extension</a>.</p>
<p>To make the extension play nice with Foundry, you will need to place your remappings in <code>remappings.txt</code>. If they are already in <code>foundry.toml</code>, copy them over and use <code>remappings.txt</code> instead. If you just use the autogenerated remappings that Foundry provides, run <code>forge remappings &gt; remappings.txt</code>.</p>
<p>If you use a non-standard project layout, you may have to add the following to your <code>.vscode/settings.json</code>:</p>
<pre><code class="language-json">{
  &quot;solidity.packageDefaultDependenciesContractsDirectory&quot;: &quot;src&quot;,
  &quot;solidity.packageDefaultDependenciesDirectory&quot;: &quot;lib&quot;
}
</code></pre>
<p>Where <code>src</code> is the source code directory and <code>lib</code> is your dependency directory.</p>
<p>It is also recommended to specify a Solidity compiler version:</p>
<pre><code class="language-json">&quot;solidity.compileUsingRemoteVersion&quot;: &quot;v0.8.10&quot;
</code></pre>
<p>To get Foundry in line with the chosen version, add the following to your <code>default</code> profile in <code>foundry.toml</code>.</p>
<pre><code class="language-toml">solc_version = &quot;0.8.10&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="shell-autocompletion"><a class="header" href="#shell-autocompletion">Shell Autocompletion</a></h2>
<p>You can generate autocompletion shell scripts for <code>bash</code>, <code>elvish</code>, <code>fish</code>, <code>powershell</code>, and <code>zsh</code>.</p>
<h3 id="zsh"><a class="header" href="#zsh">zsh</a></h3>
<p>First, ensure that the following is present somewhere in your <code>~/.zshrc</code> file (if not, add it):</p>
<pre><code class="language-sh">autoload -U compinit
compinit -i
</code></pre>
<p>Then run:</p>
<pre><code class="language-sh">forge completions zsh &gt; /usr/local/share/zsh/site-functions/_forge
cast completions zsh &gt; /usr/local/share/zsh/site-functions/_cast
</code></pre>
<h3 id="fish"><a class="header" href="#fish">fish</a></h3>
<pre><code class="language-sh">mkdir -p $HOME/.config/fish/completions
forge completions fish &gt; $HOME/.config/fish/completions/forge.fish
cast completions fish &gt; $HOME/.config/fish/completions/cast.fish
source $HOME/.config/fish/config.fish
</code></pre>
<h3 id="bash"><a class="header" href="#bash">bash</a></h3>
<pre><code class="language-sh">mkdir -p $HOME/.local/share/bash-completion/completions
forge completions bash &gt; $HOME/.local/share/bash-completion/completions/forge
cast completions bash &gt; $HOME/.local/share/bash-completion/completions/cast
exec bash
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="static-analyzers"><a class="header" href="#static-analyzers">Static Analyzers</a></h2>
<h3 id="slither"><a class="header" href="#slither">Slither</a></h3>
<p>To test your project using <a href="https://github.com/crytic/slither">slither</a>, here is a sample <code>slither.config.json</code>:</p>
<pre><code class="language-json">{
  &quot;filter_paths&quot;: &quot;lib&quot;,
  &quot;solc_remaps&quot;: [
    &quot;ds-test/=lib/ds-test/src/&quot;,
    &quot;forge-std/=lib/forge-std/src/&quot;
  ]
}
</code></pre>
<p>Note, you need to update <code>solc</code> used by Slither to the same version used by Forge with <code>solc-select</code>:</p>
<pre><code class="language-ignore">pip3 install slither-analyzer
pip3 install solc-select
solc-select install 0.8.13
solc-select use 0.8.13
slither src/Contract.sol
</code></pre>
<p>See the <a href="https://github.com/crytic/slither/wiki/Usage">slither wiki</a> for more information.</p>
<h3 id="mythril"><a class="header" href="#mythril">Mythril</a></h3>
<p>To test your project using <a href="https://github.com/ConsenSys/mythril">mythril</a>, here is a sample <code>mythril.config.json</code>:</p>
<pre><code class="language-json">{
  &quot;remappings&quot;: [
    &quot;ds-test/=lib/ds-test/src/&quot;,
    &quot;forge-std/=lib/forge-std/src/&quot;
  ],
  &quot;optimizer&quot;: {
    &quot;enabled&quot;: true,
    &quot;runs&quot;: 200
  }
}
</code></pre>
<p>See the <a href="https://mythril-classic.readthedocs.io/en/master/">mythril docs</a> for more information.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="integrating-with-hardhat"><a class="header" href="#integrating-with-hardhat">Integrating with Hardhat</a></h2>
<p>It's possible to have your Foundry project work alongside <a href="https://hardhat.org/">Hardhat</a>. This assume that you have a working Foundry project and want to add Hardhat. It also assumes familiarity with Hardhat.</p>
<h3 id="why-does-this-not-work-out-of-the-box"><a class="header" href="#why-does-this-not-work-out-of-the-box">Why does this not work out of the box?</a></h3>
<p>Hardhat by default expects libraries to be installed in <code>node_modules</code>, the default folder for all NodeJS dependencies. Foundry expects them to be in <code>lib</code>. Of course <a href="config/../reference/config.html">we can configure Foundry</a> but not easily to the directory structure of <code>node_modules</code>.</p>
<p>For this reason, the recommended setup is to use <a href="https://www.npmjs.com/package/hardhat-preprocessor">hardhat-preprocessor</a>. Hardhat-preprocessor is, as the name suggests, a Hardhat plugin which allows us to preprocess our contracts before they are run through the Solidity compiler.</p>
<p>We use this to modify the import directives in our Solidity files to resolve absolute paths to the libraries based on the Foundry <code>remappings.txt</code> file before Hardhat attempts to compile them. This of course just happens in memory so your actual Solidity files are never changed. Now, Hardhat is happy to comply and compiles using the libraries you installed with Foundry.</p>
<h3 id="just-show-me-the-example-repo"><a class="header" href="#just-show-me-the-example-repo">Just show me the example repo!</a></h3>
<p><a href="https://github.com/foundry-rs/hardhat-foundry-template">Enjoy!</a></p>
<p>If you want to adapt this to a Foundry project you already have or learn how it works, read below:</p>
<h3 id="instructions"><a class="header" href="#instructions">Instructions</a></h3>
<p>Inside your Foundry project working directory:</p>
<ol>
<li><code>npm init</code> - Setup your project details as usual.</li>
<li><code>npm install --save-dev hardhat</code> - Install Hardhat.</li>
<li><code>npx hardhat</code> - Setup your Hardhat project as you see fit in the same directory.</li>
<li><code>forge remappings &gt; remappings.txt</code> - You will need to re-run this everytime you modify libraries in Foundry.</li>
</ol>
<p>Now you need to make the following changes to your Hardhat project. The following assumes a TypeScript setup:</p>
<ol>
<li><code>npm install --save-dev hardhat-preprocessor</code> - <a href="https://www.npmjs.com/package/hardhat-preprocessor">Details on hardhat-preprocessor</a></li>
<li>Add <code>import &quot;hardhat-preprocessor&quot;;</code> to your <code>hardhat.config.ts</code> file.</li>
<li>Ensure the following function is present (you can add it to your <code>hardhat.config.ts</code> file or somewhere else and import it):</li>
</ol>
<pre><code class="language-typescript">function getRemappings() {
  return fs
    .readFileSync(&quot;remappings.txt&quot;, &quot;utf8&quot;)
    .split(&quot;\n&quot;)
    .filter(Boolean) // remove empty lines
    .map((line) =&gt; line.trim().split(&quot;=&quot;));
}
</code></pre>
<p><em>Thanks to <a href="https://twitter.com/drakeevansv1">@DrakeEvansV1</a> for this snippet</em></p>
<ol start="4">
<li>Add the following to your exported <code>HardhatUserConfig</code> object:</li>
</ol>
<pre><code class="language-typescript">...
preprocess: {
  eachLine: (hre) =&gt; ({
    transform: (line: string) =&gt; {
      if (line.match(/^\s*import /i)) {
        getRemappings().forEach(([find, replace]) =&gt; {
          if (line.match(find)) {
            line = line.replace(find, replace);
          }
        });
      }
      return line;
    },
  }),
},
paths: {
  sources: &quot;./src&quot;,
  cache: &quot;./cache_hardhat&quot;,
},
...
</code></pre>
<p>Now, Hardhat should work well with Foundry. You can run Foundry tests or Hardhat tests / scripts and have access to your contracts.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="creating-an-nft-with-solmate"><a class="header" href="#creating-an-nft-with-solmate">Creating an NFT with Solmate</a></h2>
<p>This tutorial will walk you through creating an OpenSea compatible NFT with Foundry and <a href="https://github.com/Rari-Capital/solmate/blob/main/src/tokens/ERC721.sol">Solmate</a>. A full implementation of this tutorial can be found <a href="https://github.com/FredCoen/nft-tutorial">here</a>.</p>
<h5 id="this-tutorial-is-for-illustrative-purposes-only-and-provided-on-an-as-is-basis-the-tutorial-is-not-audited-nor-fully-tested-no-code-in-this-tutorial-should-be-used-in-a-production-environment"><a class="header" href="#this-tutorial-is-for-illustrative-purposes-only-and-provided-on-an-as-is-basis-the-tutorial-is-not-audited-nor-fully-tested-no-code-in-this-tutorial-should-be-used-in-a-production-environment">This tutorial is for illustrative purposes only and provided on an as-is basis. The tutorial is not audited nor fully tested. No code in this tutorial should be used in a production environment.</a></h5>
<h3 id="create-project-and-install-dependencies"><a class="header" href="#create-project-and-install-dependencies">Create project and install dependencies</a></h3>
<p>Start by setting up a Foundry project following the steps outlined in the <a href="tutorials/../getting-started/installation.html">Getting started section</a>. We will also install Solmate for their ERC721 implementation, as well as some OpenZeppelin utility libraries. Install the dependencies by running the following commands from the root of your project:</p>
<pre><code class="language-bash">forge install Rari-Capital/solmate Openzeppelin/openzeppelin-contracts 
</code></pre>
<p>These dependencies will be added as git submodules to your project.</p>
<p>If you have followed the instructions correctly your project should be structured like this:</p>
<p><img src="tutorials/../images/nft-tutorial/nft-tutorial-project-structure.png" alt="Project structure" /></p>
<h3 id="implement-a-basic-nft"><a class="header" href="#implement-a-basic-nft">Implement a basic NFT</a></h3>
<p>We are then going to rename the boilerplate contract in <code>src/Contract.sol</code> to <code>src/NFT.sol</code> and replace the code:</p>
<pre><code class="language-solidity">// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.10;

import &quot;solmate/tokens/ERC721.sol&quot;;
import &quot;openzeppelin-contracts/contracts/utils/Strings.sol&quot;;

contract NFT is ERC721 {
    uint256 public currentTokenId;

    constructor(
        string memory _name,
        string memory _symbol
    ) ERC721(_name, _symbol) {}

    function mintTo(address recipient) public payable returns (uint256) {
        uint256 newItemId = ++currentTokenId;
        _safeMint(recipient, newItemId);
        return newItemId;
    }

    function tokenURI(uint256 id) public view virtual override returns (string memory) {
        return Strings.toString(id);
    }
}
</code></pre>
<p>Let's take a look at this very basic implementation of an NFT. We start by importing to contracts from our git submodules. We import solmate's gas optimised implementation of the ERC721 standard which our NFT contract will inherit from. Our constructor takes the <code>_name</code> and <code>_symbol</code> arguments for our NFT and passes them on to the constructor of the parent ERC721 implementation. Lastly we implement the <code>mintTo</code> function which allows anyone to mint an NFT. This function increments the <code>currentTokenId</code> and makes use of the <code>_safeMint</code> function of our parent contract.</p>
<h3 id="compile--deploy-with-forge"><a class="header" href="#compile--deploy-with-forge">Compile &amp; deploy with forge</a></h3>
<p>To compile the NFT contract run <code>forge build</code>. By default the compiler output will be in the <code>out</code> directory. To deploy our compiled contract with Forge we have to set environment variables for the RPC endpoint and the private key we want to use to deploy.</p>
<p>Set your environment variables by running:</p>
<pre><code class="language-bash">export RPC_URL=&lt;Your RPC endpoint&gt;
export PRIVATE_KEY=&lt;Your wallets private key&gt;
</code></pre>
<p>Once set, you can deploy your NFT with Forge by running the below command while adding the relevant constructor arguments to the NFT contract:</p>
<pre><code class="language-bash">forge create NFT --rpc-url=$RPC_URL --private-key=$PRIVATE_KEY --constructor-args &lt;name&gt; &lt;symbol&gt; 
</code></pre>
<p>If successfully deployed, you will see the deploying wallet's address, the contract's address as well as the transaction hash printed to your terminal.</p>
<h3 id="minting-nfts-from-your-contract"><a class="header" href="#minting-nfts-from-your-contract">Minting NFTs from your contract</a></h3>
<p>Calling functions on your NFT contract is made simple with Cast, Foundry's command-line tool for interacting with smart contracts, sending transactions, and getting chain data. Let's have a look at how we can use it to mint NFTs from our NFT contract.</p>
<p>Given that you already set your RPC and private key env variables during deployment, mint an NFT from your contract by
running:</p>
<pre><code class="language-bash">cast send --rpc-url=$RPC_URL &lt;contractAddress&gt;  &quot;mintTo(address)&quot; &lt;arg&gt; --private-key=$PRIVATE_KEY
</code></pre>
<p>Well done! You just minted your first NFT from your contract. You can sanity check the owner of the NFT with <code>currentTokenId</code> equal to <strong>1</strong> by running the below <code>cast call</code> command. The address you provided above should be returned as the owner.</p>
<pre><code class="language-bash">cast call --rpc-url=$RPC_URL --private-key=$PRIVATE_KEY &lt;contractAddress&gt; &quot;ownerOf(uint256)&quot; 1
</code></pre>
<h3 id="extending-our-nft-contract-functionality-and-testing"><a class="header" href="#extending-our-nft-contract-functionality-and-testing">Extending our NFT contract functionality and testing</a></h3>
<p>Let's extend our NFT by adding metadata to represent the content of our NFTs, as well as set a minting price, a maximum supply and the possibility to withdraw the collected proceeds from minting. To follow along you can replace your current NFT contract with the code snippet below:</p>
<pre><code class="language-solidity">// SPDX-License-Identifier: UNLICENSED
pragma solidity &gt;=0.8.10;

import &quot;solmate/tokens/ERC721.sol&quot;;
import &quot;openzeppelin-contracts/contracts/utils/Strings.sol&quot;;
import &quot;openzeppelin-contracts/contracts/access/Ownable.sol&quot;;

error MintPriceNotPaid();
error MaxSupply();
error NonExistentTokenURI();
error WithdrawTransfer();

contract NFT is ERC721, Ownable {

    using Strings for uint256;
    string public baseURI;
    uint256 public currentTokenId;
    uint256 public constant TOTAL_SUPPLY = 10_000;
    uint256 public constant MINT_PRICE = 0.08 ether;

    constructor(
        string memory _name,
        string memory _symbol,
        string memory _baseURI
    ) ERC721(_name, _symbol) {
        baseURI = _baseURI;
    }

    function mintTo(address recipient) public payable returns (uint256) {
        if (msg.value != MINT_PRICE) {
            revert MintPriceNotPaid();
        }
        uint256 newTokenId = ++currentTokenId;
        if (newTokenId &gt; TOTAL_SUPPLY) {
            revert MaxSupply();
        }
        _safeMint(recipient, newTokenId);
        return newTokenId;
    }

    function tokenURI(uint256 tokenId)
        public
        view
        virtual
        override
        returns (string memory)
    {
        if (ownerOf(tokenId) == address(0)) {
            revert NonExistentTokenURI();
        }
        return
            bytes(baseURI).length &gt; 0
                ? string(abi.encodePacked(baseURI, tokenId.toString()))
                : &quot;&quot;;
    }

    function withdrawPayments(address payable payee) external onlyOwner {
        uint256 balance = address(this).balance;
        (bool transferTx, ) = payee.call{value: balance}(&quot;&quot;);
        if (!transferTx) {
            revert WithdrawTransfer();
        }
    }
}
</code></pre>
<p>Among other things, we have added metadata that can be queried from any front-end application like OpenSea, by calling the <code>tokenURI</code> method on our NFT contract.</p>
<blockquote>
<p><strong>Note</strong>: If you want to provide a real URL to the constructor at deployment, and host the metadata of this NFT contract please follow the steps outlined <a href="https://docs.opensea.io/docs/part-3-adding-metadata-and-payments-to-your-contract#intro-to-nft-metadata">here</a>.</p>
</blockquote>
<p>Let's test some of this added functionality to make sure it works as intended. Foundry offers an extremely fast EVM native testing framework through Forge.</p>
<p>Within your test folder rename the current <code>Contract.t.sol</code> test file to <code>NFT.t.sol</code>. This file will contain all tests regarding the NFT's <code>mintTo</code> method. Next, replace the existing boilerplate code with the below:</p>
<pre><code class="language-solidity">// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.10;

import &quot;forge-std/Test.sol&quot;;
import &quot;../src/NFT.sol&quot;;

contract NFTTest is Test {
    using stdStorage for StdStorage;

    NFT private nft;

    function setUp() public {
        // Deploy NFT contract
        nft = new NFT(&quot;NFT_tutorial&quot;, &quot;TUT&quot;, &quot;baseUri&quot;);
    }

    function testFailNoMintPricePaid() public {
        nft.mintTo(address(1));
    }

    function testMintPricePaid() public {
        nft.mintTo{value: 0.08 ether}(address(1));
    }

    function testFailMaxSupplyReached() public {
        uint256 slot = stdstore
            .target(address(nft))
            .sig(&quot;currentTokenId()&quot;)
            .find();
        bytes32 loc = bytes32(slot);
        bytes32 mockedCurrentTokenId = bytes32(abi.encode(10000));
        vm.store(address(nft), loc, mockedCurrentTokenId);
        nft.mintTo{value: 0.08 ether}(address(1));
    }

    function testFailMintToZeroAddress() public {
        nft.mintTo{value: 0.08 ether}(address(0));
    }

    function testNewMintOwnerRegistered() public {
        nft.mintTo{value: 0.08 ether}(address(1));
        uint256 slotOfNewOwner = stdstore
            .target(address(nft))
            .sig(nft.ownerOf.selector)
            .with_key(1)
            .find();

        uint160 ownerOfTokenIdOne = uint160(
            uint256(
                (vm.load(address(nft), bytes32(abi.encode(slotOfNewOwner))))
            )
        );
        assertEq(address(ownerOfTokenIdOne), address(1));
    }

    function testBalanceIncremented() public {
        nft.mintTo{value: 0.08 ether}(address(1));
        uint256 slotBalance = stdstore
            .target(address(nft))
            .sig(nft.balanceOf.selector)
            .with_key(address(1))
            .find();

        uint256 balanceFirstMint = uint256(
            vm.load(address(nft), bytes32(slotBalance))
        );
        assertEq(balanceFirstMint, 1);

        nft.mintTo{value: 0.08 ether}(address(1));
        uint256 balanceSecondMint = uint256(
            vm.load(address(nft), bytes32(slotBalance))
        );
        assertEq(balanceSecondMint, 2);
    }

    function testSafeContractReceiver() public {
        Receiver receiver = new Receiver();
        nft.mintTo{value: 0.08 ether}(address(receiver));
        uint256 slotBalance = stdstore
            .target(address(nft))
            .sig(nft.balanceOf.selector)
            .with_key(address(receiver))
            .find();

        uint256 balance = uint256(vm.load(address(nft), bytes32(slotBalance)));
        assertEq(balance, 1);
    }

    function testFailUnSafeContractReceiver() public {
        vm.etch(address(1), bytes(&quot;mock code&quot;));
        nft.mintTo{value: 0.08 ether}(address(1));
    }

    function testWithdrawalWorksAsOwner() public {
        // Mint an NFT, sending eth to the contract
        Receiver receiver = new Receiver();
        address payable payee = payable(address(0x1337));
        uint256 priorPayeeBalance = payee.balance;
        nft.mintTo{value: nft.MINT_PRICE()}(address(receiver));
        // Check that the balance of the contract is correct
        assertEq(address(nft).balance, nft.MINT_PRICE());
        uint256 nftBalance = address(nft).balance;
        // Withdraw the balance and assert it was transferred
        nft.withdrawPayments(payee);
        assertEq(payee.balance, priorPayeeBalance + nftBalance);
    }

    function testWithdrawalFailsAsNotOwner() public {
        // Mint an NFT, sending eth to the contract
        Receiver receiver = new Receiver();
        nft.mintTo{value: nft.MINT_PRICE()}(address(receiver));
        // Check that the balance of the contract is correct
        assertEq(address(nft).balance, nft.MINT_PRICE());
        // Confirm that a non-owner cannot withdraw
        vm.expectRevert(&quot;Ownable: caller is not the owner&quot;);
        vm.startPrank(address(0xd3ad));
        nft.withdrawPayments(payable(address(0xd3ad)));
        vm.stopPrank();
    }
}

contract Receiver is ERC721TokenReceiver {
    function onERC721Received(
        address operator,
        address from,
        uint256 id,
        bytes calldata data
    ) external override returns (bytes4) {
        return this.onERC721Received.selector;
    }
}

</code></pre>
<p>The test suite is set up as a contract with a <code>setUp</code> method which runs before every individual test.</p>
<p>As you can see, Forge offers a number of <a href="tutorials/../cheatcodes/">cheatcodes</a> to manipulate state to accommodate your testing scenario.</p>
<p>For example, our <code>testFailMaxSupplyReached</code> test checks that an attempt to mint fails when the max supply of NFT is reached. Thus, the <code>currentTokenId</code> of the NFT contract needs to be set to the max supply by using the store cheatcode which allows you to write data to your contracts storage slots. The storage slots you wish to write to can easily be found using the
<a href="https://github.com/foundry-rs/forge-std/"><code>forge-std</code></a> helper library. You can run the test with the following command:</p>
<pre><code class="language-bash">forge test
</code></pre>
<p>If you want to put your Forge skills to practice, write tests for the remaining methods of our NFT contract. Feel free to PR them to <a href="https://github.com/FredCoen/nft-tutorial">nft-tutorial</a>, where you will find the full implementation of this tutorial.</p>
<h3 id="gas-reports-for-your-function-calls"><a class="header" href="#gas-reports-for-your-function-calls">Gas reports for your function calls</a></h3>
<p>Foundry provides comprehensive gas reports about your contracts. For every function called within your tests, it returns the minimum, average, median and max gas cost. To print the gas report simply run:</p>
<pre><code class="language-bash">forge test --gas-report
</code></pre>
<p>This comes in handy when looking at various gas optimizations within your contracts.</p>
<p>Let's have a look at the gas savings we made by substituting OpenZeppelin with Solmate for our ERC721 implementation. You can find the NFT implementation using both libraries <a href="https://github.com/FredCoen/nft-tutorial">here</a>. Below are the resulting gas reports when running <code>forge test --gas-report</code> on that repository.</p>
<p>As you can see, our implementation using Solmate saves around 500 gas on a successful mint (the max gas cost of the <code>mintTo</code> function calls).</p>
<p><img src="tutorials/../images/nft-tutorial/gas-report-solmate-nft.png" alt="Gas report solmate NFT" /></p>
<p><img src="tutorials/../images/nft-tutorial/gas-report-oz-nft.png" alt="Gas report OZ NFT" /></p>
<p>That's it, I hope this will give you a good practical basis of how to get started with foundry. We think there is no better way to deeply understand solidity than writing your tests in solidity. You will also experience less context switching between javascript and solidity. Happy coding!</p>
<blockquote>
<p>Note: Follow <a href="tutorials/./solidity-scripting.html">this</a> tutorial to learn how to deploy the NFT contract used here with solidity scripting. </p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dockerizing-a-foundry-project"><a class="header" href="#dockerizing-a-foundry-project">Dockerizing a Foundry project</a></h2>
<p>This tutorial shows you how to build, test, and deploy a smart contract using Foundry's Docker image. It adapts code from the <a href="tutorials/./solmate-nft.html">solmate nft</a> tutorial. If you haven't completed that tutorial yet, and are new to solidity, you may want to start with it first. Alternatively, if you have some familiarity with Docker and Solidity, you can use your own existing project and adjust accordingly. The full source code for both the NFT and the Docker stuff is available <a href="https://github.com/dmfxyz/foundry-docker-tutorial">here</a>.</p>
<blockquote>
<p>This tutorial is for illustrative purposes only and provided on an as-is basis. The tutorial is not audited nor fully tested. No code in this tutorial should be used in a production environment.</p>
</blockquote>
<h3 id="installation-and-setup"><a class="header" href="#installation-and-setup">Installation and Setup</a></h3>
<p>The only installation required to run this tutorial is Docker, and optionally, an IDE of your choice. 
Follow the <a href="tutorials//getting-started/installation.html#using-with-docker">Docker installation instructions</a>.</p>
<p>To keep future commands succinct, let's re-tag the image:<br />
<code>docker tag ghcr.io/foundry-rs/foundry:latest foundry:latest</code></p>
<p>Having Foundry installed locally is not strictly required, but it may be helpful for debugging. You can install it using <a href="tutorials//getting-started/installation.html#using-foundryup">foundryup</a>.</p>
<p>Finally, to use any of the <code>cast</code> or <code>forge create</code> portions of this tutorial, you will need access to an Ethereum node. If you don't have your own node running (likely), you can use a 3rd party node service. We won't recommend a specific provider in this tutorial. A good place to start learning about Nodes-as-a-Service is <a href="https://ethereum.org/en/developers/docs/nodes-and-clients/nodes-as-a-service/">Ethereum's article</a> on the subject.</p>
<p><strong>For the rest of this tutorial, it is assumed that the RPC endpoint of your ethereum node is set like this</strong>: <code>export RPC_URL=&lt;YOUR_RPC_URL&gt;</code></p>
<h3 id="a-tour-around-the-foundry-docker-image"><a class="header" href="#a-tour-around-the-foundry-docker-image">A tour around the Foundry docker image</a></h3>
<p>The docker image can be used in two primary ways:</p>
<ol>
<li>As an interface directly to forge and cast</li>
<li>As a base image for building your own containerized test, build, and deployment tooling</li>
</ol>
<p>We will cover both, but let's start by taking a look at interfacing with foundry using docker. This is also a good test that your local installation worked!</p>
<p>We can run any of the <code>cast</code> <a href="tutorials//reference/cast/">commands</a> against our docker image. Let's fetch the latest block information:</p>
<pre><code class="language-sh">$ docker run foundry &quot;cast block --rpc-url $RPC_URL latest&quot;
baseFeePerGas        &quot;0xb634241e3&quot;
difficulty           &quot;0x2e482bdf51572b&quot;
extraData            &quot;0x486976656f6e20686b&quot;
gasLimit             &quot;0x1c9c380&quot;
gasUsed              &quot;0x652993&quot;
hash                 &quot;0x181748772da2f968bcc91940c8523bb6218a7d57669ded06648c9a9fb6839db5&quot;
logsBloom            &quot;0x406010046100001198c220108002b606400029444814008210820c04012804131847150080312500300051044208430002008029880029011520380060262400001c538d00440a885a02219d49624aa110000003094500022c003600a00258009610c410323580032000849a0408a81a0a060100022505202280c61880c80020e080244400440404520d210429a0000400010089410c8408162903609c920014028a94019088681018c909980701019201808040004100000080540610a9144d050020220c10a24c01c000002005400400022420140e18100400e10254926144c43a200cc008142080854088100128844003010020c344402386a8c011819408&quot;
miner                &quot;0x1ad91ee08f21be3de0ba2ba6918e714da6b45836&quot;
mixHash              &quot;0xb920857687476c1bcb21557c5f6196762a46038924c5f82dc66300347a1cfc01&quot;
nonce                &quot;0x1ce6929033fbba90&quot;
number               &quot;0xdd3309&quot;
parentHash           &quot;0x39c6e1aa997d18a655c6317131589fd327ae814ef84e784f5eb1ab54b9941212&quot;
receiptsRoot         &quot;0x4724f3b270dcc970f141e493d8dc46aeba6fffe57688210051580ac960fe0037&quot;
sealFields           []
sha3Uncles           &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;
size                 &quot;0x1d6bb&quot;
stateRoot            &quot;0x0d4b714990132cf0f21801e2931b78454b26aad706fc6dc16b64e04f0c14737a&quot;
timestamp            &quot;0x6246259b&quot;
totalDifficulty      &quot;0x9923da68627095fd2e7&quot;
transactions         [...]
uncles               []
</code></pre>
<p>If we're in a directory with some Solidity <a href="https://github.com/dmfxyz/foundry-docker-tutorial">source code</a>, we can mount that directory into docker and use <code>forge</code> however we wish. For example:</p>
<pre><code class="language-sh">$ docker run -v $PWD:/app foundry &quot;forge test --root /app --watch&quot;
No files changed, compilation skipped

Running 8 tests for src/test/SolmateNft.sol:SolmateNftTests
[PASS] testBalanceIncremented() (gas: 218897)
[PASS] testFailMaxSupplyReached() (gas: 136426)
[PASS] testFailMintToZeroAddress() (gas: 34564)
[PASS] testFailNoMintPricePaid() (gas: 5503)
[PASS] testFailUnSafeContractReceiver() (gas: 89813)
[PASS] testMintPricePaid() (gas: 81279)
[PASS] testNewMintOwnerRegistered() (gas: 192272)
[PASS] testSafeContractReceiver() (gas: 274092)
Test result: ok. 8 passed; 0 failed; finished in 2.50ms

Running 8 tests for src/test/OpenZeppelinNft.t.sol:OpenZeppelinNftTests
[PASS] testBalanceIncremented() (gas: 219326)
[PASS] testFailMaxSupplyReached() (gas: 136426)
[PASS] testFailMintToZeroAddress() (gas: 34620)
[PASS] testFailNoMintPricePaid() (gas: 5503)
[PASS] testFailUnSafeContractReceiver() (gas: 90282)
[PASS] testMintPricePaid() (gas: 81512)
[PASS] testNewMintOwnerRegistered() (gas: 192487)
[PASS] testSafeContractReceiver() (gas: 274588)
Test result: ok. 8 passed; 0 failed; finished in 2.71ms
</code></pre>
<p>You can see our code was compiled and tested entirely within the container. Also, since we passed the <code>--watch</code> option, the container will recompile the code whenever a change is detected.</p>
<blockquote>
<p>Note: The Foundry docker image is built on alpine and designed to be as slim as possible. For this reason, it does not currently include development resources like <code>git</code>. If you are planning to manage your entire development lifecycle within the container, you should build a custom development image on top of Foundry's image.</p>
</blockquote>
<h3 id="creating-a-build-and-test-image"><a class="header" href="#creating-a-build-and-test-image">Creating a &quot;build and test&quot; image</a></h3>
<p>Let's use the Foundry docker image as a base for using our own Docker image. We'll use the image to:</p>
<ol>
<li>Build our solidity code</li>
<li>Run our solidity tests</li>
</ol>
<p>A simple <code>Dockerfile</code> can accomplish these two goals:</p>
<pre><code class="language-docker"># Use the latest foundry image
FROM ghcr.io/foundry-rs/foundry

# Copy our source code into the container
WORKDIR /app

# Build and test the source code
COPY . .
RUN forge build
RUN forge test
</code></pre>
<p>You can build this docker image and watch forge build/run the tests within the container:</p>
<pre><code class="language-sh">$ docker build --no-cache --progress=plain .
</code></pre>
<p>Now, what happens if one of our tests fail? Modify <code>src/test/NFT.t.sol</code> as you please to make one of the tests fail. Try to build image again.</p>
<pre><code class="language-sh">$ docker build --no-cache --progress=plain .
&lt;...&gt;
#9 0.522 Failed tests:
#9 0.522 [FAIL. Reason: Ownable: caller is not the owner] testWithdrawalFailsAsNotOwner() (gas: 193917)
#9 0.522
#9 0.522 Encountered a total of 1 failing tests, 9 tests succeeded
------
error: failed to solve: executor failed running [/bin/sh -c forge test]: exit code: 1
</code></pre>
<p>Our image failed to build because our tests failed! This is actually a nice property, because it means if we have a Docker image that successfully built (and therefore is available for use), we know the code inside the image passed the tests.*</p>
<blockquote>
<p>*Of course, chain of custody of your docker images is very important. Docker layer hashes can be very useful for verification. In a production environment, consider <a href="https://docs.docker.com/engine/security/trust/#:%7E:text=To%20sign%20a%20Docker%20Image,the%20local%20Docker%20trust%20repository">signing your docker images</a>.</p>
</blockquote>
<h3 id="creating-a-deployer-image"><a class="header" href="#creating-a-deployer-image">Creating a deployer image</a></h3>
<p>Now, we'll move on to a bit more of an advanced Dockerfile. Let's add an entrypoint that allows us to deploy our code by using the built (and tested!) image. We can target the Rinkeby testnet first.</p>
<pre><code class="language-docker"># Use the latest foundry image
FROM ghcr.io/foundry-rs/foundry

# Copy our source code into the container
WORKDIR /app

# Build and test the source code
COPY . .
RUN forge build
RUN forge test

# Set the entrypoint to the forge deployment command
ENTRYPOINT [&quot;forge&quot;, &quot;create&quot;]
</code></pre>
<p>Let's build the image, this time giving it a name:</p>
<pre><code class="language-sh">$ docker build --no-cache --progress=plain -t nft-deployer .
</code></pre>
<p>Here's how we can use our docker image to deploy:</p>
<pre><code class="language-sh">$ docker run nft-deployer --rpc-url $RPC_URL --constructor-args &quot;ForgeNFT&quot; &quot;FNFT&quot; &quot;https://ethereum.org&quot; --private-key $PRIVATE_KEY ./src/NFT.sol:NFT
No files changed, compilation skipped
Deployer: 0x496e09fcb240c33b8fda3b4b74d81697c03b6b3d
Deployed to: 0x23d465eaa80ad2e5cdb1a2345e4b54edd12560d3
Transaction hash: 0xf88c68c4a03a86b0e7ecb05cae8dea36f2896cd342a6af978cab11101c6224a9
</code></pre>
<p>We've just built, tested, and deployed our contract entirely within a docker container! This tutorial was intended to for testnet, but you can run the exact same Docker image targeting mainnet and be confident that the same code is being deployed by the same tooling.</p>
<h3 id="why-is-this-useful"><a class="header" href="#why-is-this-useful">Why is this useful?</a></h3>
<p>Docker is about portability, re-producibility, and environment invariance. This means you can be less concerned about unexpected changes when you switch between environments, networks, developers, etc. Here are a few basic examples of why <strong>I</strong> like to use Docker images for smart contract deployment:</p>
<ul>
<li>Reduces overhead of ensuring system level dependencies match between deployment environments (e.g. does your production runner always have the same version of <code>forge</code> as your dev runner?)</li>
<li>Increases confidence that code has been tested prior to deployment and has not been altered (e.g. if, in the above image, your code re-compiles on deployment, that's a major red flag).</li>
<li>Eases pain points around segregation of duties: people with your mainnet credentials do not need to ensure they have the latest compiler, codebase, etc. It's easy to ensure that the docker deploy image someone ran in testnet is identical to the one targeting mainnet.</li>
<li>At the risk of sounding web2, Docker is an accepted standard on virtually all public cloud providers. It makes it easy to schedule jobs, tasks, etc that need to interact with the blockchain.</li>
</ul>
<h3 id="troubleshooting-1"><a class="header" href="#troubleshooting-1">Troubleshooting</a></h3>
<p>As noted above, the Foundry image does not include <code>git</code> by default. This can cause certain commands to fail without a clear cause. For example:</p>
<pre><code class="language-bash">$ docker run foundry &quot;forge init --no-git /test&quot;
Initializing /test...
Installing ds-test in &quot;/test/lib/ds-test&quot;, (url: https://github.com/dapphub/ds-test, tag: None)
Error:
   0: No such file or directory (os error 2)

Location:
   cli/src/cmd/forge/install.rs:107
</code></pre>
<p>In this case, the failure is still caused by a missing <code>git</code> installation. The recommended fix is to build off the existing Foundry image and install any additional development dependencies you need.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="testing-eip-712-signatures"><a class="header" href="#testing-eip-712-signatures">Testing EIP-712 Signatures</a></h2>
<h3 id="intro"><a class="header" href="#intro">Intro</a></h3>
<p><a href="https://eips.ethereum.org/EIPS/eip-712">EIP-712</a> introduced the ability to sign transactions off-chain which other users can later execute on-chain. A common example is <a href="https://eips.ethereum.org/EIPS/eip-2612">EIP-2612</a> gasless token approvals.</p>
<p>Traditionally, setting a user or contract allowance to transfer ERC-20 tokens from an owner's balance required the owner to submit an approval on-chain. As this proved to be poor UX, DAI introduced ERC-20 <code>permit</code> (later standardized as EIP-2612) allowing the owner to sign the approval <em>off-chain</em> which the spender (or anyone else!) can submit on-chain prior to the <code>transferFrom</code>.</p>
<p>This guide will cover testing this pattern in Solidity using Foundry.</p>
<h3 id="diving-in"><a class="header" href="#diving-in">Diving In</a></h3>
<p>First we'll cover a basic token transfer:</p>
<ul>
<li>Owner signs approval off-chain</li>
<li>Spender calls <code>permit</code> and <code>transferFrom</code> on-chain</li>
</ul>
<p>We'll use <a href="https://github.com/Rari-Capital/solmate/blob/main/src/tokens/ERC20.sol">Solmate's ERC-20</a>, as EIP-712 and EIP-2612 batteries come included. Take a glance over the full contract if you haven't already - here is <code>permit</code> implemented:</p>
<pre><code class="language-solidity">    /*//////////////////////////////////////////////////////////////
                             EIP-2612 LOGIC
    //////////////////////////////////////////////////////////////*/

    function permit(
        address owner,
        address spender,
        uint256 value,
        uint256 deadline,
        uint8 v,
        bytes32 r,
        bytes32 s
    ) public virtual {
        require(deadline &gt;= block.timestamp, &quot;PERMIT_DEADLINE_EXPIRED&quot;);

        // Unchecked because the only math done is incrementing
        // the owner's nonce which cannot realistically overflow.
        unchecked {
            address recoveredAddress = ecrecover(
                keccak256(
                    abi.encodePacked(
                        &quot;\x19\x01&quot;,
                        DOMAIN_SEPARATOR(),
                        keccak256(
                            abi.encode(
                                keccak256(
                                    &quot;Permit(address owner,address spender,uint256 value,uint256 nonce,uint256 deadline)&quot;
                                ),
                                owner,
                                spender,
                                value,
                                nonces[owner]++,
                                deadline
                            )
                        )
                    )
                ),
                v,
                r,
                s
            );

            require(recoveredAddress != address(0) &amp;&amp; recoveredAddress == owner, &quot;INVALID_SIGNER&quot;);

            allowance[recoveredAddress][spender] = value;
        }

        emit Approval(owner, spender, value);
    }
</code></pre>
<p>We'll also be using a custom <code>SigUtils</code> contract to help create, hash, and sign the approvals off-chain.</p>
<pre><code class="language-solidity">// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.13;

contract SigUtils {
    bytes32 internal DOMAIN_SEPARATOR;

    constructor(bytes32 _DOMAIN_SEPARATOR) {
        DOMAIN_SEPARATOR = _DOMAIN_SEPARATOR;
    }

    // keccak256(&quot;Permit(address owner,address spender,uint256 value,uint256 nonce,uint256 deadline)&quot;);
    bytes32 public constant PERMIT_TYPEHASH =
        0x6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9;

    struct Permit {
        address owner;
        address spender;
        uint256 value;
        uint256 nonce;
        uint256 deadline;
    }

    // computes the hash of a permit
    function getStructHash(Permit memory _permit)
        internal
        pure
        returns (bytes32)
    {
        return
            keccak256(
                abi.encode(
                    PERMIT_TYPEHASH,
                    _permit.owner,
                    _permit.spender,
                    _permit.value,
                    _permit.nonce,
                    _permit.deadline
                )
            );
    }

    // computes the hash of the fully encoded EIP-712 message for the domain, which can be used to recover the signer
    function getTypedDataHash(Permit memory _permit)
        public
        view
        returns (bytes32)
    {
        return
            keccak256(
                abi.encodePacked(
                    &quot;\x19\x01&quot;,
                    DOMAIN_SEPARATOR,
                    getStructHash(_permit)
                )
            );
    }
}
</code></pre>
<p><strong>Setup</strong></p>
<ul>
<li>Deploy a mock ERC-20 token and <code>SigUtils</code> helper with the token's EIP-712 domain separator</li>
<li>Create private keys to mock the owner and spender</li>
<li>Derive their addresses using the <code>vm.addr</code> <a href="https://book.getfoundry.sh/cheatcodes/addr.html">cheatcode</a></li>
<li>Mint the owner a test token</li>
</ul>
<pre><code class="language-solidity">contract ERC20Test is Test {
    MockERC20 internal token;
    SigUtils internal sigUtils;

    uint256 internal ownerPrivateKey;
    uint256 internal spenderPrivateKey;

    address internal owner;
    address internal spender;

    function setUp() public {
        token = new MockERC20();
        sigUtils = new SigUtils(token.DOMAIN_SEPARATOR());

        ownerPrivateKey = 0xA11CE;
        spenderPrivateKey = 0xB0B;

        owner = vm.addr(ownerPrivateKey);
        spender = vm.addr(spenderPrivateKey);

        token.mint(owner, 1e18);
    }
</code></pre>
<p><strong>Testing: <code>permit</code></strong></p>
<ul>
<li>Create an approval for the spender</li>
<li>Compute its digest using <code>sigUtils.getTypedDataHash</code></li>
<li>Sign the digest using the <code>vm.sign</code> <a href="https://book.getfoundry.sh/cheatcodes/sign.html">cheatcode</a> with the owner's private key</li>
<li>Store the <code>uint8 v, bytes32 r, bytes32 s</code> of the signature</li>
<li>Call <code>permit</code> with the signed permit and signature to execute the approval on-chain</li>
</ul>
<pre><code class="language-solidity">    function test_Permit() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: spender,
            value: 1e18,
            nonce: 0,
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(ownerPrivateKey, digest);

        token.permit(
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );

        assertEq(token.allowance(owner, spender), 1e18);
        assertEq(token.nonces(owner), 1);
    }
</code></pre>
<ul>
<li>Ensure failure for calls with an expired deadline, invalid signer, invalid nonce, and signature replay</li>
</ul>
<pre><code class="language-solidity">    function testRevert_ExpiredPermit() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: spender,
            value: 1e18,
            nonce: token.nonces(owner),
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(ownerPrivateKey, digest);

        vm.warp(1 days + 1 seconds); // fast forward one second past the deadline

        vm.expectRevert(&quot;PERMIT_DEADLINE_EXPIRED&quot;);
        token.permit(
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );
    }

    function testRevert_InvalidSigner() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: spender,
            value: 1e18,
            nonce: token.nonces(owner),
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(spenderPrivateKey, digest); // spender signs owner's approval

        vm.expectRevert(&quot;INVALID_SIGNER&quot;);
        token.permit(
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );
    }

    function testRevert_InvalidNonce() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: spender,
            value: 1e18,
            nonce: 1, // owner nonce stored on-chain is 0
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(ownerPrivateKey, digest);

        vm.expectRevert(&quot;INVALID_SIGNER&quot;);
        token.permit(
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );
    }

    function testRevert_SignatureReplay() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: spender,
            value: 1e18,
            nonce: 0,
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(ownerPrivateKey, digest);

        token.permit(
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );

        vm.expectRevert(&quot;INVALID_SIGNER&quot;);
        token.permit(
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );
    }
</code></pre>
<p><strong>Testing: <code>transferFrom</code></strong></p>
<ul>
<li>Create, sign, and execute an approval for the spender</li>
<li>Call <code>tokenTransfer</code> as the spender using the <code>vm.prank</code> <a href="https://book.getfoundry.sh/cheatcodes/prank.html">cheatcode</a> to execute the transfer</li>
</ul>
<pre><code class="language-solidity">    function test_TransferFromLimitedPermit() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: spender,
            value: 1e18,
            nonce: 0,
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(ownerPrivateKey, digest);

        token.permit(
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );

        vm.prank(spender);
        token.transferFrom(owner, spender, 1e18);

        assertEq(token.balanceOf(owner), 0);
        assertEq(token.balanceOf(spender), 1e18);
        assertEq(token.allowance(owner, spender), 0);
    }

    function test_TransferFromMaxPermit() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: spender,
            value: type(uint256).max,
            nonce: 0,
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(ownerPrivateKey, digest);

        token.permit(
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );

        vm.prank(spender);
        token.transferFrom(owner, spender, 1e18);

        assertEq(token.balanceOf(owner), 0);
        assertEq(token.balanceOf(spender), 1e18);
        assertEq(token.allowance(owner, spender), type(uint256).max);
    }
</code></pre>
<ul>
<li>Ensure failure for calls with an invalid allowance and invalid balance</li>
</ul>
<pre><code class="language-solidity">    function testFail_InvalidAllowance() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: spender,
            value: 5e17, // approve only 0.5 tokens
            nonce: 0,
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(ownerPrivateKey, digest);

        token.permit(
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );

        vm.prank(spender);
        token.transferFrom(owner, spender, 1e18); // attempt to transfer 1 token
    }

    function testFail_InvalidBalance() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: spender,
            value: 2e18, // approve 2 tokens
            nonce: 0,
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(ownerPrivateKey, digest);

        token.permit(
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );

        vm.prank(spender);
        token.transferFrom(owner, spender, 2e18); // attempt to transfer 2 tokens (owner only owns 1)
    }
</code></pre>
<h3 id="bundled-example"><a class="header" href="#bundled-example">Bundled Example</a></h3>
<p>Here is a section of a <a href="https://github.com/kulkarohan/deposit/blob/main/src/Deposit.sol">mock contract</a> that just deposits ERC-20 tokens. Note how <code>deposit</code> requires a preliminary <code>approve</code> or <code>permit</code> tx in order to transfer tokens, while <code>depositWithPermit</code> sets the allowance <em>and</em> transfers the tokens in a single tx.</p>
<pre><code class="language-solidity">    ///                                                          ///
    ///                           DEPOSIT                        ///
    ///                                                          ///

    /// @notice Deposits ERC-20 tokens (requires pre-approval)
    /// @param _tokenContract The ERC-20 token address
    /// @param _amount The number of tokens
    function deposit(address _tokenContract, uint256 _amount) external {
        ERC20(_tokenContract).transferFrom(msg.sender, address(this), _amount);

        userDeposits[msg.sender][_tokenContract] += _amount;

        emit TokenDeposit(msg.sender, _tokenContract, _amount);
    }

    ///                                                          ///
    ///                      DEPOSIT w/ PERMIT                   ///
    ///                                                          ///

    /// @notice Deposits ERC-20 tokens with a signed approval
    /// @param _tokenContract The ERC-20 token address
    /// @param _amount The number of tokens to transfer
    /// @param _owner The user signing the approval
    /// @param _spender The user to transfer the tokens (ie this contract)
    /// @param _value The number of tokens to appprove the spender
    /// @param _deadline The timestamp the permit expires
    /// @param _v The 129th byte and chain id of the signature
    /// @param _r The first 64 bytes of the signature
    /// @param _s Bytes 64-128 of the signature
    function depositWithPermit(
        address _tokenContract,
        uint256 _amount,
        address _owner,
        address _spender,
        uint256 _value,
        uint256 _deadline,
        uint8 _v,
        bytes32 _r,
        bytes32 _s
    ) external {
        ERC20(_tokenContract).permit(
            _owner,
            _spender,
            _value,
            _deadline,
            _v,
            _r,
            _s
        );

        ERC20(_tokenContract).transferFrom(_owner, address(this), _amount);

        userDeposits[_owner][_tokenContract] += _amount;

        emit TokenDeposit(_owner, _tokenContract, _amount);
    }
</code></pre>
<p><strong>Setup</strong></p>
<ul>
<li>Deploy the <code>Deposit</code> contract, a mock ERC-20 token, and <code>SigUtils</code> helper with the token's EIP-712 domain separator</li>
<li>Create a private key to mock the owner (the spender is now the <code>Deposit</code> address)</li>
<li>Derive the owner address using the <code>vm.addr</code> <a href="https://book.getfoundry.sh/cheatcodes/addr.html">cheatcode</a></li>
<li>Mint the owner a test token</li>
</ul>
<pre><code class="language-solidity">contract DepositTest is Test {
    Deposit internal deposit;
    MockERC20 internal token;
    SigUtils internal sigUtils;

    uint256 internal ownerPrivateKey;
    address internal owner;

    function setUp() public {
        deposit = new Deposit();
        token = new MockERC20();
        sigUtils = new SigUtils(token.DOMAIN_SEPARATOR());

        ownerPrivateKey = 0xA11CE;
        owner = vm.addr(ownerPrivateKey);

        token.mint(owner, 1e18);
    }
</code></pre>
<p><strong>Testing: <code>depositWithPermit</code></strong></p>
<ul>
<li>Create an approval for the <code>Deposit</code> contract</li>
<li>Compute its digest using <code>sigUtils.getTypedDataHash</code></li>
<li>Sign the digest using the <code>vm.sign</code> <a href="https://book.getfoundry.sh/cheatcodes/sign.html">cheatcode</a> with the owner's private key</li>
<li>Store the <code>uint8 v, bytes32 r, bytes32 s</code> of the signature
<ul>
<li><em>Note:</em> can convert to bytes via <code>bytes signature = abi.encodePacked(r, s, v)</code></li>
</ul>
</li>
<li>Call <code>depositWithPermit</code> with the signed approval and signature to transfer the tokens into the contract</li>
</ul>
<pre><code class="language-solidity">    function test_DepositWithLimitedPermit() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: address(deposit),
            value: 1e18,
            nonce: token.nonces(owner),
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(ownerPrivateKey, digest);

        deposit.depositWithPermit(
            address(token),
            1e18,
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );

        assertEq(token.balanceOf(owner), 0);
        assertEq(token.balanceOf(address(deposit)), 1e18);

        assertEq(token.allowance(owner, address(deposit)), 0);
        assertEq(token.nonces(owner), 1);

        assertEq(deposit.userDeposits(owner, address(token)), 1e18);
    }

    function test_DepositWithMaxPermit() public {
        SigUtils.Permit memory permit = SigUtils.Permit({
            owner: owner,
            spender: address(deposit),
            value: type(uint256).max,
            nonce: token.nonces(owner),
            deadline: 1 days
        });

        bytes32 digest = sigUtils.getTypedDataHash(permit);

        (uint8 v, bytes32 r, bytes32 s) = vm.sign(ownerPrivateKey, digest);

        deposit.depositWithPermit(
            address(token),
            1e18,
            permit.owner,
            permit.spender,
            permit.value,
            permit.deadline,
            v,
            r,
            s
        );

        assertEq(token.balanceOf(owner), 0);
        assertEq(token.balanceOf(address(deposit)), 1e18);

        assertEq(token.allowance(owner, address(deposit)), type(uint256).max);
        assertEq(token.nonces(owner), 1);

        assertEq(deposit.userDeposits(owner, address(token)), 1e18);
    }
</code></pre>
<ul>
<li>Ensure failure for invalid <code>permit</code> and <code>transferFrom</code> calls as previously shown</li>
</ul>
<h3 id="tldr"><a class="header" href="#tldr">TLDR</a></h3>
<p>Use Foundry cheatcodes <code>addr</code>, <code>sign</code>, and <code>prank</code> to test EIP-712 signatures in Foundry.</p>
<p>All source code can be found <a href="https://github.com/kulkarohan/deposit">here</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="solidity-scripting"><a class="header" href="#solidity-scripting">Solidity Scripting</a></h2>
<h3 id="introduction"><a class="header" href="#introduction">Introduction</a></h3>
<p>Solidity scripting is a way to declaratively deploy contracts using Solidity, instead of using the more limiting and less user friendly <a href="tutorials/../reference/forge/forge-create.html"><code>forge create</code></a>.</p>
<p>Solidity scripts are like the scripts you write when working with tools like Hardhat; what makes Solidity scripting different is that they are written in Solidity instead of JavaScript, and they are run on the fast Foundry EVM backend, which provides dry-run capabilities.</p>
<h3 id="set-up"><a class="header" href="#set-up">Set Up</a></h3>
<p>Let’s try to deploy the NFT contract made in the solmate tutorial with solidity scripting. First of all, we would need to create a new Foundry project via:</p>
<pre><code class="language-bash">forge init solidity-scripting
</code></pre>
<p>Since the NFT contract from the solmate tutorial inherits both <code>solmate</code> and <code>OpenZepplin</code> contracts, we’ll have to install them as dependencies by running:</p>
<pre><code class="language-bash"># Enter the project
cd solidity-scripting

# Install Solmate and OpenZepplin contracts as dependencies
forge install Rari-Capital/solmate Openzeppelin/openzeppelin-contracts
</code></pre>
<p>Next, we have to delete the <code>Contract.sol</code> file in the <code>src</code> folder and create another file called <code>NFT.sol</code>. You can do this by running:</p>
<pre><code class="language-bash">rm src/Contract.sol &amp;&amp; touch src/NFT.sol &amp;&amp; ls src
</code></pre>
<p><img src="tutorials/../images/solidity-scripting%20/set-up-commands.png" alt="set up commands" /></p>
<p>Once that’s done, you should open up your preferred code editor and copy the code below into the <code>NFT.sol</code> file.</p>
<pre><code class="language-solidity">// SPDX-License-Identifier: UNLICENSED
pragma solidity &gt;=0.8.10;

import &quot;solmate/tokens/ERC721.sol&quot;;
import &quot;openzeppelin-contracts/contracts/utils/Strings.sol&quot;;
import &quot;openzeppelin-contracts/contracts/access/Ownable.sol&quot;;

error MintPriceNotPaid();
error MaxSupply();
error NonExistentTokenURI();
error WithdrawTransfer();

contract NFT is ERC721, Ownable {

    using Strings for uint256;
    string public baseURI;
    uint256 public currentTokenId;
    uint256 public constant TOTAL_SUPPLY = 10_000;
    uint256 public constant MINT_PRICE = 0.08 ether;

    constructor(
        string memory _name,
        string memory _symbol,
        string memory _baseURI
    ) ERC721(_name, _symbol) {
        baseURI = _baseURI;
    }

    function mintTo(address recipient) public payable returns (uint256) {
        if (msg.value != MINT_PRICE) {
            revert MintPriceNotPaid();
        }
        uint256 newTokenId = ++currentTokenId;
        if (newTokenId &gt; TOTAL_SUPPLY) {
            revert MaxSupply();
        }
        _safeMint(recipient, newTokenId);
        return newTokenId;
    }

    function tokenURI(uint256 tokenId)
        public
        view
        virtual
        override
        returns (string memory)
    {
        if (ownerOf(tokenId) == address(0)) {
            revert NonExistentTokenURI();
        }
        return
            bytes(baseURI).length &gt; 0
                ? string(abi.encodePacked(baseURI, tokenId.toString()))
                : &quot;&quot;;
    }

    function withdrawPayments(address payable payee) external onlyOwner {
        uint256 balance = address(this).balance;
        (bool transferTx, ) = payee.call{value: balance}(&quot;&quot;);
        if (!transferTx) {
            revert WithdrawTransfer();
        }
    }
}
</code></pre>
<p>Now, let’s try compiling our contract to make sure everything is in order.</p>
<pre><code class="language-bash">forge build
</code></pre>
<p>If your output looks like this, the contracts successfully compiled.
<img src="tutorials/../images/solidity-scripting%20/compile-successful.png" alt="compile successful" /></p>
<h3 id="deploying-our-contract"><a class="header" href="#deploying-our-contract">Deploying our contract</a></h3>
<p>We’re going to deploy the <code>NFT</code> contract to the Rinkeby testnet, but to do this we’ll need to configure Foundry a bit, by setting things like a Rinkeby RPC URL, the private key of an account that’s funded with Rinkeby Eth, and an Etherscan key for the verification of the NFT contract.</p>
<blockquote>
<p>💡 Note: You can get some Rinkeby testnet ETH <a href="https://faucet.paradigm.xyz/">here</a> .</p>
</blockquote>
<p>Once you have all that create a <code>.env</code> file and add the variables.</p>
<p>The .env file should follow this format:</p>
<pre><code class="language-bash">RINKEBY_RPC_URL=
PRIVATE_KEY=
ETHERSCAN_KEY=
</code></pre>
<p>Next, we have to create a folder and name it <code>script</code> and create a file in it called <code>NFT.s.sol</code>. This is where we will create the deployment script itself.</p>
<p>The contents of <code>NFT.s.sol</code> should look like this:</p>
<pre><code class="language-solidity">// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import &quot;forge-std/Script.sol&quot;;
import &quot;../src/NFT.sol&quot;;

contract MyScript is Script {
    function run() external {
        vm.startBroadcast();

        NFT nft = new NFT(&quot;NFT_tutorial&quot;, &quot;TUT&quot;, &quot;baseUri&quot;);

        vm.stopBroadcast();
    }
}
</code></pre>
<p>Now let’s read through the code and figure out what it actually means and does.</p>
<pre><code class="language-solidity">// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;
</code></pre>
<p>Remember even if it’s a script it still works like a smart contract, but is never deployed, so just like any other smart contract written in Solidity the <code>pragma version</code> has to be specified.</p>
<pre><code class="language-solidity">import &quot;forge-std/Script.sol&quot;;
import &quot;../src/NFT.sol&quot;;
</code></pre>
<p>Just like we may import Forge Std to get testing utilities when writing tests, Forge Std also provides some scripting utilities that we import here.</p>
<p>The next line just imports the <code>NFT</code> contract.</p>
<pre><code class="language-solidity">contract MyScript is Script {
</code></pre>
<p>We create a contract called <code>MyScript</code> and it inherits <code>Script</code> from Forge Std.</p>
<pre><code class="language-solidity"> function run() external {
</code></pre>
<p>By default, scripts are executed by calling the function named <code>run</code>, our entrypoint.</p>
<pre><code class="language-solidity">vm.startBroadcast();
</code></pre>
<p>This is a special cheatcode that records calls and contract creations made by our main script contract. Later, we will broadcast these transactions to deploy our NFT contract.</p>
<pre><code class="language-solidity"> NFT nft = new NFT(&quot;NFT_tutorial&quot;, &quot;TUT&quot;, &quot;baseUri&quot;);
</code></pre>
<p>Here we just create our NFT contract. Because we called <code>vm.startBroadcast()</code> before this line, the contract creation will be recorded by Forge, and as mentioned previously, we can broadcast the transaction to deploy the contract on-chain.</p>
<p>Now that you’re up to speed about what the script smart contract does, let’s run it.</p>
<p>You should have added the variables we mentioned earlier to the <code>.env</code> for this next part to work.</p>
<p>At the root of the project run:</p>
<pre><code class="language-bash"># To load the variables in the .env file
source .env

# To deploy and verify our contract
forge script script/NFT.s.sol:MyScript --rpc-url $RINKEBY_RPC_URL  --private-key $PRIVATE_KEY --broadcast --verify --etherscan-api-key $ETHERSCAN_KEY -vvvv
</code></pre>
<p>Forge is going to run our script and broadcast the transactions for us - this can take a little while, since Forge will also wait for the transaction receipts. You should see something like this after a minute or so:</p>
<p><img src="tutorials/../images/solidity-scripting%20/contract-verified.png" alt="contract verified" /></p>
<p>This confirms that you have successfully deployed the <code>NFT</code> contract to the Rinkeby testnet and have also verified it on Etherscan, all with one command.</p>
<h3 id="deploying-locally"><a class="header" href="#deploying-locally">Deploying locally</a></h3>
<p>You can deploy to Anvil, the local testnet, by configuring the port as the <code>fork-url</code>.</p>
<p>First, start Anvil:</p>
<pre><code class="language-sh">anvil
</code></pre>
<p>Then run the following script with one of the private keys given to you by Anvil:</p>
<pre><code class="language-sh">forge script script/NFT.s.sol:MyScript --fork-url http://localhost:8545 \
 --private-key $PRIVATE_KEY0 --broadcast
</code></pre>
<blockquote>
<p>💡 Note: A full implementation of this tutorial can be found <a href="https://github.com/Perelyn-sama/solidity-scripting">here</a> and for further reading about solidity scripting, you can check out the <code>forge script</code> <a href="tutorials/../reference/forge/forge-script.html">reference</a>.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="faq"><a class="header" href="#faq">FAQ</a></h2>
<p>This is a collection of common questions and answers. If you do not find your question listed here, hop in the <a href="https://t.me/foundry_support">Telegram support channel</a>
and let us help you!</p>
<h3 id="help-i-cant-see-my-logs"><a class="header" href="#help-i-cant-see-my-logs">Help! I can't see my logs</a></h3>
<p>Forge does not display logs by default. If you want to see logs from Hardhat's <code>console.log</code> or from DSTest-style <code>log_*</code> events,
you need to run <a href="./reference/forge/forge-test.html"><code>forge test</code></a> with verbosity 2 (<code>-vv</code>).</p>
<p>If you want to see other events your contracts emit, you need to run with traces enabled.
To do that, set the verbosity to 3 (<code>-vvv</code>) to see traces for failing tests, or 4 (<code>-vvvv</code>) to see traces for all tests.</p>
<h3 id="my-tests-are-failing-and-i-dont-know-why"><a class="header" href="#my-tests-are-failing-and-i-dont-know-why">My tests are failing and I don't know why</a></h3>
<p>To gain better insight into why your tests are failing, try using traces. To enable traces, you need to increase the verbosity
on <a href="./reference/forge/forge-test.html">forge test</a> to at least 3 (<code>-vvv</code>) but you can go as high as 5 (<code>-vvvvv</code>) for even more traces.</p>
<p>You can learn more about traces in our <a href="./forge/traces.html">Understanding Traces</a> chapter.</p>
<h3 id="how-do-i-use-consolelog"><a class="header" href="#how-do-i-use-consolelog">How do I use <code>console.log</code>?</a></h3>
<p>To use Hardhat's <code>console.log</code> you must add it to your project by copying the file over from <a href="https://github.com/NomicFoundation/hardhat/blob/master/packages/hardhat-core/console.sol">here</a>.</p>
<p>Alternatively, you can use <a href="https://github.com/foundry-rs/forge-std">Forge Std</a> which comes bundled with <code>console.log</code>. To use <code>console.log</code> from Forge Std,
you have to import it:</p>
<pre><code class="language-solidity">import &quot;forge-std/console.sol&quot;;
</code></pre>
<h3 id="how-do-i-run-specific-tests"><a class="header" href="#how-do-i-run-specific-tests">How do I run specific tests?</a></h3>
<p>If you want to run only a few tests, you can use <code>--match-test</code> to filter test functions,
<code>--match-contract</code> to filter test contracts, and <code>--match-path</code> to filter test files on <a href="./reference/forge/forge-test.html"><code>forge test</code></a>.</p>
<h3 id="how-do-i-use-a-specific-solidity-compiler"><a class="header" href="#how-do-i-use-a-specific-solidity-compiler">How do I use a specific Solidity compiler?</a></h3>
<p>Forge will try to auto-detect what Solidity compiler works for your project.</p>
<p>To use a specific Solidity compiler, you can set <a href="./reference/config.html#solc_version"><code>solc</code></a> in your <a href="./config/">config file</a>,
or pass <code>--use solc:&lt;version&gt;</code> to a Forge command that supports it (e.g. <a href="./reference/forge/forge-build.html"><code>forge build</code></a>
or <a href="./reference/forge/forge-test.html"><code>forge test</code></a>). 
Paths to a solc binary are also accepted. To use a specific local solc binary, you can set <code>solc = &quot;&lt;path to solc&gt;&quot;</code> in your config file, or pass <code>--use &quot;&lt;path to solc&gt;&quot;</code>. 
The solc version/path can also be set via the env variable <code>FOUNDRY_SOLC=&lt;version/path&gt;</code>, but the cli arg <code>--use</code> has priority.</p>
<p>For example, if you have a project that supports all 0.7.x Solidity versions, but you want to compile with solc 0.7.0, you could use <code>forge build --use solc:0.7.0</code>.</p>
<h3 id="how-do-i-fork-from-a-live-network"><a class="header" href="#how-do-i-fork-from-a-live-network">How do I fork from a live network?</a></h3>
<p>To fork from a live network, pass <code>--fork-url &lt;URL&gt;</code> to <a href="./reference/forge/forge-test.html"><code>forge test</code></a>.
You can also fork from a specific block using <code>--fork-block-number &lt;BLOCK&gt;</code>, which adds determinism to your test, and allows Forge to cache
the chain data for that block.</p>
<p>For example, to fork from Ethereum mainnet at block 10,000,000 you could use: <code>forge test --fork-url $MAINNET_RPC_URL --fork-block-number 10000000</code>.</p>
<h3 id="how-do-i-add-my-own-assertions"><a class="header" href="#how-do-i-add-my-own-assertions">How do I add my own assertions?</a></h3>
<p>You can add your own assertions by creating your own base test contract and having that inherit from the test framework of your choice.</p>
<p>For example, if you use DSTest, you could create a base test contract like this:</p>
<pre><code class="language-solidity">contract TestBase is DSTest {
    function myCustomAssertion(uint a, uint b) {
      if (a != b) {
          emit log_string(&quot;a and b did not match&quot;);
          fail();
      }
    }
}
</code></pre>
<p>You would then inherit from <code>TestBase</code> in your test contracts.</p>
<pre><code class="language-solidity">contract MyContractTest is TestBase {
    function testSomething() {
        // ...
    }
}
</code></pre>
<p>Similarly, if you use <a href="https://github.com/foundry-rs/forge-std">Forge Std</a>, you can create a base test contract that inherits from <code>Test</code>.</p>
<p>For a good example of a base test contract that has helper methods and custom assertions, see <a href="https://github.com/Rari-Capital/solmate/blob/19a4f345970ed39ee6369f343d145e0d4071c18a/src/test/utils/DSTestPlus.sol#L10">Solmate's <code>DSTestPlus</code></a>.</p>
<h3 id="how-do-i-use-forge-offline"><a class="header" href="#how-do-i-use-forge-offline">How do I use Forge offline?</a></h3>
<p>Forge will sometimes check for newer Solidity versions that fit your project. To use Forge offline, use the <code>--offline</code> flag.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="references"><a class="header" href="#references">References</a></h2>
<ul>
<li><a href="reference/./forge/">forge Commands</a></li>
<li><a href="reference/./cast/">cast Commands</a></li>
<li><a href="reference/./anvil/">anvil Reference</a></li>
<li><a href="reference/./config.html">Config Reference</a></li>
<li><a href="reference/./forge-std">Forge Standard Library Reference</a></li>
<li><a href="reference/./ds-test.html">ds-test Reference</a></li>
<li><a href="reference/../cheatcodes/">Cheatcodes Reference</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-commands"><a class="header" href="#forge-commands">forge Commands</a></h2>
<ul>
<li><a href="reference/forge/./general-commands.html">General Commands</a></li>
<li><a href="reference/forge/./project-commands.html">Project Commands</a></li>
<li><a href="reference/forge/./build-commands.html">Build Commands</a></li>
<li><a href="reference/forge/./test-commands.html">Test Commands</a></li>
<li><a href="reference/forge/./deploy-commands.html">Deploy Commands</a></li>
<li><a href="reference/forge/./utility-commands.html">Utility Commands</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="general-commands"><a class="header" href="#general-commands">General Commands</a></h2>
<ul>
<li><a href="reference/forge/./forge.html">forge</a></li>
<li><a href="reference/forge/./forge-help.html">forge help</a></li>
<li><a href="reference/forge/./forge-completions.html">forge completions</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge"><a class="header" href="#forge">forge</a></h2>
<h3 id="name"><a class="header" href="#name">NAME</a></h3>
<p>forge - Build, test, fuzz, debug and deploy Solidity contracts.</p>
<h3 id="synopsis"><a class="header" href="#synopsis">SYNOPSIS</a></h3>
<p><code>forge</code> [<em>options</em>] <em>command</em> [<em>args</em>]<br />
<code>forge</code> [<em>options</em>] <code>--version</code><br />
<code>forge</code> [<em>options</em>] <code>--help</code></p>
<h3 id="description"><a class="header" href="#description">DESCRIPTION</a></h3>
<p>This program is a set of tools to build, test, fuzz, debug and deploy Solidity smart contracts.</p>
<h3 id="commands"><a class="header" href="#commands">COMMANDS</a></h3>
<h4 id="general-commands-1"><a class="header" href="#general-commands-1">General Commands</a></h4>
<p><a href="reference/forge/./forge-help.html">forge help</a><br />
    Display help information about Forge.</p>
<p><a href="reference/forge/./forge-completions.html">forge completions</a><br />
    Generate shell autocompletions for Forge.</p>
<h4 id="project-commands"><a class="header" href="#project-commands">Project Commands</a></h4>
<p><a href="reference/forge/./forge-init.html">forge init</a><br />
    Create a new Forge project.</p>
<p><a href="reference/forge/./forge-install.html">forge install</a><br />
    Install one or multiple dependencies.</p>
<p><a href="reference/forge/./forge-update.html">forge update</a><br />
    Update one or multiple dependencies.</p>
<p><a href="reference/forge/./forge-remove.html">forge remove</a><br />
    Remove one or multiple dependencies.</p>
<p><a href="reference/forge/./forge-config.html">forge config</a><br />
    Display the current config.</p>
<p><a href="reference/forge/./forge-remappings.html">forge remappings</a><br />
    Get the automatically inferred remappings for this project.</p>
<p><a href="reference/forge/./forge-tree.html">forge tree</a><br />
    Display a tree visualization of the project's dependency graph.</p>
<h4 id="build-commands"><a class="header" href="#build-commands">Build Commands</a></h4>
<p><a href="reference/forge/./forge-build.html">forge build</a><br />
    Build the project's smart contracts.</p>
<p><a href="reference/forge/./forge-clean.html">forge clean</a><br />
    Remove the build artifacts and cache directories.</p>
<p><a href="reference/forge/./forge-inspect.html">forge inspect</a><br />
    Get specialized information about a smart contract.</p>
<h4 id="test-commands"><a class="header" href="#test-commands">Test Commands</a></h4>
<p><a href="reference/forge/./forge-test.html">forge test</a><br />
    Run the project's tests.</p>
<p><a href="reference/forge/./forge-install.html">forge snapshot</a><br />
    Create a snapshot of each test's gas usage.</p>
<h4 id="deploy-commands"><a class="header" href="#deploy-commands">Deploy Commands</a></h4>
<p><a href="reference/forge/./forge-create.html">forge create</a><br />
    Deploy a smart contract.</p>
<p><a href="reference/forge/./forge-verify-contract.html">forge verify-contract</a><br />
    Verify smart contracts on Etherscan.</p>
<p><a href="reference/forge/./forge-verify-check.html">forge verify-check</a><br />
    Check verification status on Etherscan.</p>
<p><a href="reference/forge/./forge-flatten.html">forge flatten</a><br />
    Flatten a source file and all of its imports into one file.</p>
<h4 id="utility-commands"><a class="header" href="#utility-commands">Utility Commands</a></h4>
<p><a href="reference/forge/./forge-debug.html">forge debug</a><br />
    Debug a single smart contract as a script.</p>
<p><a href="reference/forge/./forge-bind.html">forge bind</a><br />
    Generate Rust bindings for smart contracts.</p>
<p><a href="reference/forge/./forge-cache.html">forge cache</a><br />
    Manage the Foundry cache.</p>
<p><a href="reference/forge/./forge-cache-clean.html">forge cache clean</a><br />
    Cleans cached data from <code>~/.foundry</code>.</p>
<p><a href="reference/forge/./forge-cache-ls.html">forge cache ls</a><br />
    Shows cached data from <code>~/.foundry</code>.</p>
<p><a href="reference/forge/./forge-script.html">forge script</a><br />
    Run a smart contract as a script, building transactions that can be sent onchain.</p>
<p><a href="reference/forge/./forge-upload-selectors.html">forge upload-selectors</a><br />
    Uploads abi of given contract to https://sig.eth.samczsun.com function selector database.</p>
<h3 id="options"><a class="header" href="#options">OPTIONS</a></h3>
<h4 id="special-options"><a class="header" href="#special-options">Special Options</a></h4>
<p><code>-V</code><br />
<code>--version</code><br />
    Print version info and exit.</p>
<h4 id="common-options"><a class="header" href="#common-options">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="files"><a class="header" href="#files">FILES</a></h3>
<p><code>~/.foundry/</code><br />
    Default location for Foundry's &quot;home&quot; directory where it stores various files.</p>
<p><code>~/.foundry/bin/</code><br />
    Binaries installed using <code>foundryup</code> will be located here.</p>
<p><code>~/.foundry/cache/</code><br />
    Forge's cache directory, where it stores cached block data and more.</p>
<p><code>~/.foundry/foundry.toml</code><br />
    The global <a href="reference/forge/../config.html">Foundry config</a>.</p>
<p><code>~/.svm</code><br />
    The location of the Forge-managed solc binaries.</p>
<h3 id="examples-1"><a class="header" href="#examples-1">EXAMPLES</a></h3>
<ol>
<li>
<p>Create a new Forge project:</p>
<pre><code class="language-sh">forge init hello_foundry
</code></pre>
</li>
<li>
<p>Build a project:</p>
<pre><code class="language-sh">forge build
</code></pre>
</li>
<li>
<p>Run a project's tests:</p>
<pre><code class="language-sh">forge test
</code></pre>
</li>
</ol>
<h3 id="bugs"><a class="header" href="#bugs">BUGS</a></h3>
<p>See <a href="https://github.com/foundry-rs/foundry/issues">https://github.com/foundry-rs/foundry/issues</a> for issues.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-help"><a class="header" href="#forge-help">forge help</a></h2>
<h3 id="name-1"><a class="header" href="#name-1">NAME</a></h3>
<p>forge-help - Get help for a Forge command</p>
<h3 id="synopsis-1"><a class="header" href="#synopsis-1">SYNOPSIS</a></h3>
<p><code>forge help</code> [<em>subcommand</em>]</p>
<h3 id="description-1"><a class="header" href="#description-1">DESCRIPTION</a></h3>
<p>Prints a help message for the given command.</p>
<h3 id="examples-2"><a class="header" href="#examples-2">EXAMPLES</a></h3>
<ol>
<li>
<p>Get help for a command:</p>
<pre><code class="language-sh">forge help build
</code></pre>
</li>
<li>
<p>Help is also available with the <code>--help</code> flag:</p>
<pre><code class="language-sh">forge build --help
</code></pre>
</li>
</ol>
<h3 id="see-also"><a class="header" href="#see-also">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-completions"><a class="header" href="#forge-completions">forge completions</a></h2>
<h3 id="name-2"><a class="header" href="#name-2">NAME</a></h3>
<p>forge-completions - Generate shell completions script</p>
<h3 id="synopsis-2"><a class="header" href="#synopsis-2">SYNOPSIS</a></h3>
<p><code>forge completions</code> <em>shell</em></p>
<h3 id="description-2"><a class="header" href="#description-2">DESCRIPTION</a></h3>
<p>Generates a shell completions script for the given shell.</p>
<p>Supported shells are:</p>
<ul>
<li>bash</li>
<li>elvish</li>
<li>fish</li>
<li>powershell</li>
<li>zsh</li>
</ul>
<h3 id="options-1"><a class="header" href="#options-1">OPTIONS</a></h3>
<h4 id="common-options-1"><a class="header" href="#common-options-1">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-3"><a class="header" href="#examples-3">EXAMPLES</a></h3>
<ol>
<li>Generate shell completions script for zsh:
<pre><code class="language-sh">forge completions zsh &gt; $HOME/.oh-my-zsh/completions/_forge
</code></pre>
</li>
</ol>
<h3 id="see-also-1"><a class="header" href="#see-also-1">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-commands-1"><a class="header" href="#project-commands-1">Project Commands</a></h2>
<ul>
<li><a href="reference/forge/./forge-init.html">forge init</a></li>
<li><a href="reference/forge/./forge-install.html">forge install</a></li>
<li><a href="reference/forge/./forge-update.html">forge update</a></li>
<li><a href="reference/forge/./forge-remove.html">forge remove</a></li>
<li><a href="reference/forge/./forge-config.html">forge config</a></li>
<li><a href="reference/forge/./forge-remappings.html">forge remappings</a></li>
<li><a href="reference/forge/./forge-tree.html">forge tree</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-init"><a class="header" href="#forge-init">forge init</a></h2>
<h3 id="name-3"><a class="header" href="#name-3">NAME</a></h3>
<p>forge-init - Create a new Forge project.</p>
<h3 id="synopsis-3"><a class="header" href="#synopsis-3">SYNOPSIS</a></h3>
<p><code>forge init</code> [<em>options</em>] [<em>root</em>]</p>
<h3 id="description-3"><a class="header" href="#description-3">DESCRIPTION</a></h3>
<p>Create a new Forge project in the directory <em>root</em> (by default the current working directory).</p>
<p>The default template creates the following project layout:</p>
<pre><code class="language-ignore">.
├── foundry.toml
├── lib
│   └── forge-std
│       ├── lib
│       ├── LICENSE-APACHE
│       ├── LICENSE-MIT
│       ├── README.md
│       └── src
├── src
│   └── Contract.sol
└── test
    └── Contract.t.sol

6 directories, 6 files
</code></pre>
<p>However, it is possible to create a project from another using <code>--template</code>.</p>
<p>By default, <code>forge init</code> will also initialize a new git repository, install some submodules and create an initial commit message.</p>
<p>If you do not want this behavior, pass <code>--no-git</code>.</p>
<h3 id="options-2"><a class="header" href="#options-2">OPTIONS</a></h3>
<h4 id="init-options"><a class="header" href="#init-options">Init Options</a></h4>
<p><code>--force</code><br />
    Create the project even if the specified root directory is not empty.</p>
<p><code>-t</code> <em>template</em><br />
<code>--template</code> <em>template</em><br />
    The template to start from.</p>
<p><code>--vscode</code><br />
    Create a <code>.vscode/settings.json</code> file with Solidity settings, and generate a <code>remappings.txt</code> file.</p>
<p><code>--offline</code><br />
    Do not install dependencies from the network.</p>
<h4 id="vcs-options"><a class="header" href="#vcs-options">VCS Options</a></h4>
<p><code>--no-commit</code><br />
    Do not create an initial commit.</p>
<p><code>--no-git</code><br />
    Do not create a git repository.</p>
<h4 id="display-options"><a class="header" href="#display-options">Display Options</a></h4>
<p><code>-q</code><br />
<code>--quiet</code><br />
    Do not print any messages.</p>
<h4 id="common-options-2"><a class="header" href="#common-options-2">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-4"><a class="header" href="#examples-4">EXAMPLES</a></h3>
<ol>
<li>
<p>Create a new project:</p>
<pre><code class="language-sh">forge init hello_foundry
</code></pre>
</li>
<li>
<p>Create a new project, but do not create a git repository:</p>
<pre><code class="language-sh">forge init --no-git hello_foundry
</code></pre>
</li>
<li>
<p>Forcibly create a new project in a non-empty directory:</p>
<pre><code class="language-sh">forge init --force .
</code></pre>
</li>
</ol>
<h3 id="see-also-2"><a class="header" href="#see-also-2">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-install"><a class="header" href="#forge-install">forge install</a></h2>
<h3 id="name-4"><a class="header" href="#name-4">NAME</a></h3>
<p>forge-install - Install one or more dependencies.</p>
<h3 id="synopsis-4"><a class="header" href="#synopsis-4">SYNOPSIS</a></h3>
<p><code>forge install</code> [<em>options</em>] [<em>deps...</em>]</p>
<h3 id="description-4"><a class="header" href="#description-4">DESCRIPTION</a></h3>
<p>Install one or more dependencies.</p>
<p>Dependencies are installed as git submodules. If you do not want this behavior, pass <code>--no-git</code>.</p>
<p>If no arguments are provided, then existing dependencies are installed.</p>
<p>Dependencies can be a raw URL (<code>https://foo.com/dep</code>), an SSH URL (<code>git@github.com:owner/repo</code>), or the path to a GitHub repository (<code>owner/repo</code>).
Additionally, a ref can be added to the dependency path to install a specific version of a dependency.</p>
<p>A ref can be:</p>
<ul>
<li>A branch: <code>owner/repo@master</code></li>
<li>A tag: <code>owner/repo@v1.2.3</code></li>
<li>A commit: <code>owner/repo@8e8128</code></li>
</ul>
<p>The ref defaults to <code>master</code>.</p>
<p>You can also choose the name of the folder the dependency will be in. By default, the folder name is the name of
the repository. If you want to change the name of the folder, prepend <code>&lt;folder&gt;=</code> to the dependency.</p>
<h3 id="options-3"><a class="header" href="#options-3">OPTIONS</a></h3>
<h4 id="project-options"><a class="header" href="#project-options">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<h4 id="vcs-options-1"><a class="header" href="#vcs-options-1">VCS Options</a></h4>
<p><code>--no-commit</code><br />
    Do not create a commit.</p>
<p><code>--no-git</code><br />
    Install without adding the dependency as a submodule.</p>
<h4 id="display-options-1"><a class="header" href="#display-options-1">Display Options</a></h4>
<p><code>-q</code><br />
<code>--quiet</code><br />
    Do not print any messages.</p>
<h4 id="common-options-3"><a class="header" href="#common-options-3">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-5"><a class="header" href="#examples-5">EXAMPLES</a></h3>
<ol>
<li>
<p>Install a dependency:</p>
<pre><code class="language-sh">forge install Rari-Capital/solmate
</code></pre>
</li>
<li>
<p>Install a specific version of a dependency:</p>
<pre><code class="language-sh">forge install Rari-Capital/solmate@v6
</code></pre>
</li>
<li>
<p>Install multiple dependencies:</p>
<pre><code class="language-sh">forge install Rari-Capital/solmate@v6 OpenZeppelin/openzeppelin-contracts
</code></pre>
</li>
<li>
<p>Install a dependency without creating a submodule:</p>
<pre><code class="language-sh">forge install --no-git Rari-Capital/solmate
</code></pre>
</li>
<li>
<p>Install a dependency in a specific folder:</p>
<pre><code class="language-sh">forge install soulmate=Rari-Capital/solmate
</code></pre>
</li>
</ol>
<h3 id="see-also-3"><a class="header" href="#see-also-3">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-update.html">forge update</a>, <a href="reference/forge/./forge-remove.html">forge remove</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-update"><a class="header" href="#forge-update">forge update</a></h2>
<h3 id="name-5"><a class="header" href="#name-5">NAME</a></h3>
<p>forge-update - Update one or more dependencies.</p>
<h3 id="synopsis-5"><a class="header" href="#synopsis-5">SYNOPSIS</a></h3>
<p><code>forge update</code> [<em>options</em>] [<em>dep</em>]</p>
<h3 id="description-5"><a class="header" href="#description-5">DESCRIPTION</a></h3>
<p>Update one or more dependencies.</p>
<p>The argument <em>dep</em> is a path to the dependency you want to update.
Forge will update to the latest version on the ref you specified for the dependency when you ran <a href="reference/forge/./forge-install.html"><code>forge install</code></a>.</p>
<p>If no argument is provided, then all dependencies are updated.</p>
<h3 id="options-4"><a class="header" href="#options-4">OPTIONS</a></h3>
<h4 id="common-options-4"><a class="header" href="#common-options-4">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-6"><a class="header" href="#examples-6">EXAMPLES</a></h3>
<ol>
<li>
<p>Update a dependency:</p>
<pre><code class="language-sh">forge update lib/solmate
</code></pre>
</li>
<li>
<p>Update all dependencies:</p>
<pre><code class="language-sh">forge update
</code></pre>
</li>
</ol>
<h3 id="see-also-4"><a class="header" href="#see-also-4">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-install.html">forge install</a>, <a href="reference/forge/./forge-remove.html">forge remove</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-remove"><a class="header" href="#forge-remove">forge remove</a></h2>
<h3 id="name-6"><a class="header" href="#name-6">NAME</a></h3>
<p>forge-remove - Remove one or multiple dependencies.</p>
<h3 id="synopsis-6"><a class="header" href="#synopsis-6">SYNOPSIS</a></h3>
<p><code>forge remove</code> [<em>options</em>] [<em>deps...</em>]</p>
<h3 id="description-6"><a class="header" href="#description-6">DESCRIPTION</a></h3>
<p>Remove one or multiple dependencies.</p>
<p>Dependencies can be a raw URL (<code>https://foo.com/dep</code>), the path to a GitHub repository (<code>owner/repo</code>) or the path to the dependency in the project tree.</p>
<h3 id="options-5"><a class="header" href="#options-5">OPTIONS</a></h3>
<h4 id="common-options-5"><a class="header" href="#common-options-5">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-7"><a class="header" href="#examples-7">EXAMPLES</a></h3>
<ol>
<li>
<p>Remove a dependency by path:</p>
<pre><code class="language-sh">forge remove lib/solmate
</code></pre>
</li>
<li>
<p>Remove a dependency by GitHub repository name:</p>
<pre><code class="language-sh">forge remove dapphub/solmate
</code></pre>
</li>
</ol>
<h3 id="see-also-5"><a class="header" href="#see-also-5">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-install.html">forge install</a>, <a href="reference/forge/./forge-update.html">forge update</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-config"><a class="header" href="#forge-config">forge config</a></h2>
<h3 id="name-7"><a class="header" href="#name-7">NAME</a></h3>
<p>forge-config - Display the current config.</p>
<h3 id="synopsis-7"><a class="header" href="#synopsis-7">SYNOPSIS</a></h3>
<p><code>forge config</code> [<em>options</em>]</p>
<h3 id="description-7"><a class="header" href="#description-7">DESCRIPTION</a></h3>
<p>Display the current config.</p>
<p>This command can be used to create a new basic <code>foundry.toml</code> or to see
what values are currently set, taking environment variables and the global
configuration file into account.</p>
<p>The command supports almost all flags of the other commands in Forge to allow
overriding values in the displayed configuration.</p>
<h3 id="options-6"><a class="header" href="#options-6">OPTIONS</a></h3>
<h4 id="config-options"><a class="header" href="#config-options">Config Options</a></h4>
<p><code>--basic</code><br />
    Prints a basic configuration file.</p>
<h4 id="common-options-6"><a class="header" href="#common-options-6">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-8"><a class="header" href="#examples-8">EXAMPLES</a></h3>
<ol>
<li>
<p>Create a new basic config:</p>
<pre><code class="language-sh">forge config &gt; foundry.toml
</code></pre>
</li>
<li>
<p>Enable FFI in <code>foundry.toml</code>:</p>
<pre><code class="language-sh">forge config --ffi &gt; foundry.toml
</code></pre>
</li>
</ol>
<h3 id="see-also-6"><a class="header" href="#see-also-6">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-remappings"><a class="header" href="#forge-remappings">forge remappings</a></h2>
<h3 id="name-8"><a class="header" href="#name-8">NAME</a></h3>
<p>forge-remappings - Get the automatically inferred remappings for the project.</p>
<h3 id="synopsis-8"><a class="header" href="#synopsis-8">SYNOPSIS</a></h3>
<p><code>forge remappings</code> [<em>options</em>]</p>
<h3 id="description-8"><a class="header" href="#description-8">DESCRIPTION</a></h3>
<p>Get the automatically inferred remappings for the project.</p>
<h3 id="options-7"><a class="header" href="#options-7">OPTIONS</a></h3>
<h4 id="project-options-1"><a class="header" href="#project-options-1">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>--lib-path</code> <em>path</em><br />
    The path to the library folder.</p>
<h4 id="common-options-7"><a class="header" href="#common-options-7">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-9"><a class="header" href="#examples-9">EXAMPLES</a></h3>
<ol>
<li>Create a <code>remappings.txt</code> file from the inferred remappings:
<pre><code class="language-sh">forge remappings &gt; remappings.txt
</code></pre>
</li>
</ol>
<h3 id="see-also-7"><a class="header" href="#see-also-7">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-tree"><a class="header" href="#forge-tree">forge tree</a></h2>
<h3 id="name-9"><a class="header" href="#name-9">NAME</a></h3>
<p>forge-tree - Display a tree visualization of the project's dependency graph.</p>
<h3 id="synopsis-9"><a class="header" href="#synopsis-9">SYNOPSIS</a></h3>
<p><code>forge tree</code> [<em>options</em>]</p>
<h3 id="description-9"><a class="header" href="#description-9">DESCRIPTION</a></h3>
<p>Display a visualization of the project's dependency graph.</p>
<pre><code class="language-ignore">$ forge tree
src/OpenZeppelinNft.sol 0.8.10
├── lib/openzeppelin-contracts/contracts/token/ERC721/ERC721.sol ^0.8.0
│   ├── lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol ^0.8.0
│   │   └── lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol ^0.8.0
│   ├── lib/openzeppelin-contracts/contracts/token/ERC721/IERC721Receiver.sol ^0.8.0
│   ├── lib/openzeppelin-contracts/contracts/token/ERC721/extensions/IERC721Metadata.sol ^0.8.0
│   │   └── lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol ^0.8.0 (*)
│   ├── lib/openzeppelin-contracts/contracts/utils/Address.sol ^0.8.1
│   ├── lib/openzeppelin-contracts/contracts/utils/Context.sol ^0.8.0
│   ├── lib/openzeppelin-contracts/contracts/utils/Strings.sol ^0.8.0
│   └── lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol ^0.8.0
│       └── lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol ^0.8.0
├── lib/openzeppelin-contracts/contracts/utils/Strings.sol ^0.8.0
├── lib/openzeppelin-contracts/contracts/security/PullPayment.sol ^0.8.0
│   └── lib/openzeppelin-contracts/contracts/utils/escrow/Escrow.sol ^0.8.0
│       ├── lib/openzeppelin-contracts/contracts/access/Ownable.sol ^0.8.0
│       │   └── lib/openzeppelin-contracts/contracts/utils/Context.sol ^0.8.0
│       └── lib/openzeppelin-contracts/contracts/utils/Address.sol ^0.8.1
└── lib/openzeppelin-contracts/contracts/access/Ownable.sol ^0.8.0 (*)
src/SolmateNft.sol 0.8.10
├── lib/solmate/src/tokens/ERC721.sol &gt;=0.8.0
├── lib/openzeppelin-contracts/contracts/utils/Strings.sol ^0.8.0
├── lib/openzeppelin-contracts/contracts/security/PullPayment.sol ^0.8.0 (*)
└── lib/openzeppelin-contracts/contracts/access/Ownable.sol ^0.8.0 (*)
src/test/OpenZeppelinNft.t.sol 0.8.10
├── lib/ds-test/src/test.sol &gt;=0.4.23
├── lib/forge-std/src/stdlib.sol &gt;=0.6.0 &lt;0.9.0
│   └── lib/forge-std/src/Vm.sol &gt;=0.6.0
├── src/OpenZeppelinNft.sol 0.8.10 (*)
├── src/test/interfaces/HEVM.sol
└── lib/openzeppelin-contracts/contracts/token/ERC721/IERC721Receiver.sol ^0.8.0
src/test/SolmateNft.sol 0.8.10
├── lib/ds-test/src/test.sol &gt;=0.4.23
├── lib/forge-std/src/stdlib.sol &gt;=0.6.0 &lt;0.9.0 (*)
├── src/SolmateNft.sol 0.8.10 (*)
└── src/test/interfaces/HEVM.sol
src/test/interfaces/HEVM.sol
</code></pre>
<h3 id="options-8"><a class="header" href="#options-8">OPTIONS</a></h3>
<h4 id="flatten-options"><a class="header" href="#flatten-options">Flatten Options</a></h4>
<p><code>--charset</code> <em>charset</em><br />
    Character set to use in output: utf8, ascii. Default: utf8</p>
<p><code>--no-dedupe</code><br />
    Do not de-duplicate (repeats all shared dependencies)</p>
<h4 id="project-options-2"><a class="header" href="#project-options-2">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<h4 id="common-options-8"><a class="header" href="#common-options-8">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-8"><a class="header" href="#see-also-8">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="build-commands-1"><a class="header" href="#build-commands-1">Build Commands</a></h2>
<ul>
<li><a href="reference/forge/./forge-build.html">forge build</a></li>
<li><a href="reference/forge/./forge-clean.html">forge clean</a></li>
<li><a href="reference/forge/./forge-inspect.html">forge inspect</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-build"><a class="header" href="#forge-build">forge build</a></h2>
<h3 id="name-10"><a class="header" href="#name-10">NAME</a></h3>
<p>forge-build - Build the project's smart contracts.</p>
<h3 id="synopsis-10"><a class="header" href="#synopsis-10">SYNOPSIS</a></h3>
<p><code>forge build</code> [<em>options</em>]</p>
<h3 id="description-10"><a class="header" href="#description-10">DESCRIPTION</a></h3>
<p>Build the project's smart contracts.</p>
<p>The command will try to detect the latest version that can compile your project by looking at the
version requirements of all your contracts and dependencies.</p>
<p>You can override this behaviour by passing <code>--no-auto-detect</code>. Alternatively, you can pass <code>--use &lt;SOLC_VERSION&gt;</code>.</p>
<p>If the command detects that the Solidity compiler version it is using to build is not installed,
it will download it and install it in <code>~/.svm</code>. You can disable this behavior by passing <code>--offline</code>.</p>
<p>The build is incremental, and the build cache is saved in <code>cache/</code> in the project root by default. If you
want to clear the cache, pass <code>--force</code>, and if you want to change the cache directory, pass <code>--cache-path &lt;PATH&gt;</code>.</p>
<h4 id="build-modes"><a class="header" href="#build-modes">Build Modes</a></h4>
<p>There are three build modes:</p>
<ul>
<li>Just compilation (default): Builds the project and saves the contract artifacts in <code>out/</code> (or the path specified by <code>--out &lt;PATH&gt;</code>).</li>
<li>Size mode (<code>--sizes</code>): Builds the project, displays the size of non-test contracts and exits with code 1 if any of them are above the size limit.</li>
<li>Name mode (<code>--names</code>): Builds the project, displays the names of the contracts and exits.</li>
</ul>
<h4 id="the-optimizer"><a class="header" href="#the-optimizer">The Optimizer</a></h4>
<p>You can enable the optimizer by passing <code>--optimize</code>, and you can adjust the number of optimizer runs by passing <code>--optimizer-runs &lt;RUNS&gt;</code>.</p>
<p>You can also opt-in to the Solidity IR compilation pipeline by passing <code>--via-ir</code>. Read more about the IR pipeline in the <a href="https://docs.soliditylang.org/en/latest/ir-breaking-changes.html">Solidity docs</a>.</p>
<p>By default, the optimizer is enabled and runs for 200 cycles.</p>
<h4 id="artifacts"><a class="header" href="#artifacts">Artifacts</a></h4>
<p>You can add extra output from the Solidity compiler to your artifacts by passing <code>--extra-output &lt;SELECTOR&gt;</code>.</p>
<p>The selector is a path in the Solidity compiler output, which you can read more about in the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p>You can also write some of the compiler output to separate files by passing <code>--extra-output-files &lt;SELECTOR&gt;</code>.</p>
<p>Valid selectors for <code>--extra-output-files</code> are:</p>
<ul>
<li><code>metadata</code>: Written as a <code>metadata.json</code> file in the artifacts directory</li>
<li><code>ir</code>: Written as a <code>.ir</code> file in the artifacts directory</li>
<li><code>irOptimized</code>: Written as a <code>.iropt</code> file in the artifacts directory</li>
<li><code>ewasm</code>: Written as a <code>.ewasm</code> file in the artifacts directory</li>
<li><code>evm.assembly</code>: Written as a <code>.asm</code> file in the artifacts directory</li>
</ul>
<h4 id="watch-mode-1"><a class="header" href="#watch-mode-1">Watch Mode</a></h4>
<p>The command can be run in watch mode by passing <code>--watch [PATH...]</code>, which will rebuild every time a
watched file or directory is changed. The source directory is watched by default.</p>
<h4 id="sparse-mode-experimental"><a class="header" href="#sparse-mode-experimental">Sparse Mode (experimental)</a></h4>
<p>Sparse mode only compiles files that match certain criteria.</p>
<p>By default, this filter applies to files that have not been changed since the last build, but for commands that
take file filters (e.g. <a href="reference/forge/./forge-test.html">forge test</a>), sparse mode will only recompile files that match the filter.</p>
<p>Sparse mode is opt-in until the feature is stabilized. To opt-in to sparse mode and try it out, set <a href="reference/forge/../config.html#sparse_mode"><code>sparse_mode</code></a>
in your configuration file.</p>
<h4 id="additional-optimizer-settings"><a class="header" href="#additional-optimizer-settings">Additional Optimizer Settings</a></h4>
<p>The optimizer can be fine-tuned with additional settings. Simply set the <code>optimizer_details</code> table in your configuration file. For example:</p>
<pre><code class="language-toml">[default.optimizer_details]
constantOptimizer = true
yul = true

[default.optimizer_details.yulDetails]
stackAllocation = true
optimizerSteps = 'dhfoDgvulfnTUtnIf'
</code></pre>
<p>See the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-input-and-output-json-description">compiler input description documentation</a>
for more information on available settings (specifically <code>settings.optimizer.details</code>).</p>
<h4 id="revert-strings"><a class="header" href="#revert-strings">Revert Strings</a></h4>
<p>You can control how revert strings are generated by the compiler. By default, only user supplied revert strings are included in the bytecode, but there are other options:</p>
<ul>
<li><code>strip</code>: Removes all revert strings (if possible, i.e. if literals are used) keeping side-effects.</li>
<li><code>debug</code>:  Injects strings for compiler-generated internal reverts, implemented for ABI encoders V1 and V2 for now.</li>
<li><code>verboseDebug</code>: Appends further information to user-supplied revert strings (not yet implemented).</li>
</ul>
<h4 id="additional-model-checker-settings"><a class="header" href="#additional-model-checker-settings">Additional Model Checker settings</a></h4>
<p><a href="https://docs.soliditylang.org/en/latest/smtchecker.html#tutorial">Solidity's built-in model checker</a> is an opt-in module that can be enabled via the <code>ModelChecker</code> object.</p>
<p>See <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-input-and-output-json-description">Compiler Input Description <code>settings.modelChecker</code></a> and <a href="https://docs.soliditylang.org/en/latest/smtchecker.html#smtchecker-options-and-tuning">the model checker's options</a>.</p>
<p>The module is available in <code>solc</code> release binaries for OSX and Linux. The latter requires the z3 library version [4.8.8, 4.8.14] to be installed in the system (SO version 4.8).</p>
<p>Similarly to the optimizer settings above, the <code>model_checker</code> settings must be prefixed with the profile they correspond to: <code>[default.model_checker]</code> belongs to the <code>[default]</code> profile.</p>
<pre><code class="language-toml">## foundry.toml
[default.model_checker]
contracts = { '/path/to/project/src/Contract.sol' = [ 'Contract' ] }
engine = 'chc'
timeout = 10000
targets = [ 'assert' ]
</code></pre>
<p>The fields above are recommended when using the model checker.
Setting which contract should be verified is extremely important, otherwise all available contracts will be verified which can consume a lot of time.
The recommended engine is <code>chc</code>, but <code>bmc</code> and <code>all</code> (runs both) are also accepted.
It is also important to set a proper timeout (given in milliseconds), since the default time given to the underlying solvers may not be enough.
If no verification targets are given, only assertions will be checked.</p>
<p>The model checker will run when <code>forge build</code> is invoked, and will show findings as warnings if any.</p>
<h3 id="options-9"><a class="header" href="#options-9">OPTIONS</a></h3>
<h4 id="build-options"><a class="header" href="#build-options">Build Options</a></h4>
<p><code>--names</code><br />
    Print compiled contract names.</p>
<p><code>--sizes</code><br />
    Print compiled non-test contract sizes, exiting with code 1 if any of them are above the size limit.</p>
<h4 id="cache-options"><a class="header" href="#cache-options">Cache Options</a></h4>
<p><code>--force</code><br />
    Clear the cache and artifacts folder and recompile.</p>
<h4 id="linker-options"><a class="header" href="#linker-options">Linker Options</a></h4>
<p><code>--libraries</code> <em>libraries</em><br />
    Set pre-linked libraries.</p>
<p>    The parameter must be in the format <code>&lt;remapped path to lib&gt;:&lt;library name&gt;:&lt;address&gt;</code>, e.g. <code>src/Contract.sol:Library:0x...</code>.</p>
<p>    Can also be set in your configuration file as <code>libraries = [&quot;&lt;path&gt;:&lt;lib name&gt;:&lt;address&gt;&quot;]</code>.</p>
<h4 id="compiler-options"><a class="header" href="#compiler-options">Compiler Options</a></h4>
<p><code>--optimize</code><br />
    Active the Solidity optimizer.</p>
<p><code>--optimizer-runs</code> <em>runs</em><br />
    The number of optimizer runs.</p>
<p><code>--via-ir</code><br />
    Use the Yul intermediate representation compilation pipeline.</p>
<p><code>--revert-strings</code><br />
    How to treat revert and require reason strings.</p>
<p><code>--use</code> <em>solc_version</em><br />
    Specify the solc version, or a path to a local solc, to build with.</p>
<p>    Valid values are in the format <code>x.y.z</code>, <code>solc:x.y.z</code> or <code>path/to/solc</code>.</p>
<p><code>--offline</code><br />
    Do not access the network. Missing solc versions will not be installed.</p>
<p><code>--no-auto-detect</code><br />
    Do not auto-detect solc.</p>
<p><code>--ignored-error-codes</code> <em>error_codes</em><br />
    Ignore solc warnings by error code. The parameter is a comma-separated list of error codes.</p>
<p><code>--extra-output</code> <em>selector</em><br />
    Extra output to include in the contract's artifact.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>---extra-output-files</code> <em>selector</em><br />
    Extra output to write to separate files.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>--evm-version</code> <em>version</em><br />
    The target EVM version.</p>
<h4 id="project-options-3"><a class="header" href="#project-options-3">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<p><code>-o</code> <em>path</em><br />
<code>--out</code> <em>path</em><br />
    The project's artifacts directory.</p>
<p><code>--silent</code><br />
    Suppress all output</p>
<h4 id="watch-options"><a class="header" href="#watch-options">Watch Options</a></h4>
<p><code>-w</code> [<em>path...</em>]<br />
<code>--watch</code> [<em>path...</em>]<br />
    Watch specific file(s) or folder(s)</p>
<p>    By default, the project's source directory is watched.</p>
<p><code>-d</code> <em>delay</em><br />
<code>--delay</code> <em>delay</em><br />
    File update debounce delay</p>
<p>    During the delay, incoming change events are accumulated and only once the delay has passed, is an action taken.<br />
    Note that this does not mean a command will be started: if <code>--no-restart</code> is given and a command is already
    running, the outcome of the action will be to do nothing.</p>
<p>    Defaults to 50ms. Parses as decimal seconds by default, but using an itneger with the <code>ms</code> suffix may be more convenient.</p>
<p>    When using <code>--poll</code> mode, you'll want a larger duration, or risk overloading disk I/O.</p>
<p><code>--no-restart</code><br />
    Do not restart the command while it's running.</p>
<p><code>--run-all</code><br />
    Explicitly re-run the command on all files when a change is made.</p>
<h4 id="common-options-9"><a class="header" href="#common-options-9">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-10"><a class="header" href="#examples-10">EXAMPLES</a></h3>
<ol>
<li>
<p>Build the project:</p>
<pre><code class="language-sh">forge build
</code></pre>
</li>
<li>
<p>Build the project with solc 0.6.0:</p>
<pre><code class="language-sh">forge build --use solc:0.6.0
</code></pre>
</li>
<li>
<p>Build the project with additional artifact output:</p>
<pre><code class="language-sh">forge build --extra-output evm.assembly
</code></pre>
</li>
<li>
<p>Build the project in watch mode:</p>
<pre><code class="language-sh">forge build --watch
</code></pre>
</li>
</ol>
<h3 id="see-also-9"><a class="header" href="#see-also-9">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-clean.html">forge clean</a>, <a href="reference/forge/./forge-inspect.html">forge inspect</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-clean"><a class="header" href="#forge-clean">forge clean</a></h2>
<h3 id="name-11"><a class="header" href="#name-11">NAME</a></h3>
<p>forge-clean - Remove the build artifacts and cache directories.</p>
<h3 id="synopsis-11"><a class="header" href="#synopsis-11">SYNOPSIS</a></h3>
<p><code>forge clean</code> [<em>options</em>]</p>
<h3 id="description-11"><a class="header" href="#description-11">DESCRIPTION</a></h3>
<p>Remove the build artifacts and cache directories.</p>
<h3 id="options-10"><a class="header" href="#options-10">OPTIONS</a></h3>
<h4 id="clean-options"><a class="header" href="#clean-options">Clean Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. Defaults to the current working directory.</p>
<h4 id="common-options-10"><a class="header" href="#common-options-10">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-11"><a class="header" href="#examples-11">EXAMPLES</a></h3>
<ol>
<li>Clean artifacts and cache in a project:
<pre><code class="language-sh">forge clean
</code></pre>
</li>
</ol>
<h3 id="see-also-10"><a class="header" href="#see-also-10">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-inspect"><a class="header" href="#forge-inspect">forge inspect</a></h2>
<h3 id="name-12"><a class="header" href="#name-12">NAME</a></h3>
<p>forge-inspect - Get specialized information about a smart contract</p>
<h3 id="synopsis-12"><a class="header" href="#synopsis-12">SYNOPSIS</a></h3>
<p><code>forge inspect</code> [<em>options</em>] <em>contract_name</em> <em>field</em></p>
<h3 id="description-12"><a class="header" href="#description-12">DESCRIPTION</a></h3>
<p>Get specialized information about a smart contract.</p>
<p>The field to inspect (<em>field</em>) can be any of:</p>
<ul>
<li><code>abi</code></li>
<li><code>b</code>/<code>bytes</code>/<code>bytecode</code></li>
<li><code>deployedBytecode</code>/<code>deployed_bytecode</code>/<code>deployed-bytecode</code>/<code>deployedbytecode</code>/<code>deployed</code></li>
<li><code>assembly</code>/<code>asm</code></li>
<li><code>asmOptimized</code>/<code>assemblyOptimized</code>/<code>assemblyoptimized</code>/<code>assembly_optimized</code>/<code>asmopt</code>/<code>assembly-optimized</code>/<code>asmo</code>/<code>asm-optimized</code>/<code>asmoptimized</code>/<code>asm_optimized</code></li>
<li><code>methods</code>/<code>methodidentifiers</code>/<code>methodIdentifiers</code>/<code>method_identifiers</code>/<code>method-identifiers</code>/<code>mi</code></li>
<li><code>gasEstimates</code>/<code>gas</code>/<code>gas_estimates</code>/<code>gas-estimates</code>/<code>gasestimates</code></li>
<li><code>storageLayout</code>/<code>storage_layout</code>/<code>storage-layout</code>/<code>storagelayout</code>/<code>storage</code></li>
<li><code>devdoc</code>/<code>dev-doc</code>/<code>devDoc</code></li>
<li><code>ir</code></li>
<li><code>ir-optimized</code>/<code>irOptimized</code>/<code>iroptimized</code>/<code>iro</code>/<code>iropt</code></li>
<li><code>metadata</code>/<code>meta</code></li>
<li><code>userdoc</code>/<code>userDoc</code>/<code>user-doc</code></li>
<li><code>ewasm</code>/<code>e-wasm</code></li>
</ul>
<h3 id="options-11"><a class="header" href="#options-11">OPTIONS</a></h3>
<p><code>--pretty</code><br />
    Pretty print the selected field, if supported.</p>
<h4 id="cache-options-1"><a class="header" href="#cache-options-1">Cache Options</a></h4>
<p><code>--force</code><br />
    Clear the cache and artifacts folder and recompile.</p>
<h4 id="linker-options-1"><a class="header" href="#linker-options-1">Linker Options</a></h4>
<p><code>--libraries</code> <em>libraries</em><br />
    Set pre-linked libraries.</p>
<p>    The parameter must be in the format <code>&lt;remapped path to lib&gt;:&lt;library name&gt;:&lt;address&gt;</code>, e.g. <code>src/Contract.sol:Library:0x...</code>.</p>
<p>    Can also be set in your configuration file as <code>libraries = [&quot;&lt;path&gt;:&lt;lib name&gt;:&lt;address&gt;&quot;]</code>.</p>
<h4 id="compiler-options-1"><a class="header" href="#compiler-options-1">Compiler Options</a></h4>
<p><code>--optimize</code><br />
    Active the Solidity optimizer.</p>
<p><code>--optimizer-runs</code> <em>runs</em><br />
    The number of optimizer runs.</p>
<p><code>--via-ir</code><br />
    Use the Yul intermediate representation compilation pipeline.</p>
<p><code>--revert-strings</code><br />
    How to treat revert and require reason strings.</p>
<p><code>--use</code> <em>solc_version</em><br />
    Specify the solc version, or a path to a local solc, to build with.</p>
<p>    Valid values are in the format <code>x.y.z</code>, <code>solc:x.y.z</code> or <code>path/to/solc</code>.</p>
<p><code>--offline</code><br />
    Do not access the network. Missing solc versions will not be installed.</p>
<p><code>--no-auto-detect</code><br />
    Do not auto-detect solc.</p>
<p><code>--ignored-error-codes</code> <em>error_codes</em><br />
    Ignore solc warnings by error code. The parameter is a comma-separated list of error codes.</p>
<p><code>--extra-output</code> <em>selector</em><br />
    Extra output to include in the contract's artifact.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>---extra-output-files</code> <em>selector</em><br />
    Extra output to write to separate files.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>--evm-version</code> <em>version</em><br />
    The target EVM version.</p>
<h4 id="project-options-4"><a class="header" href="#project-options-4">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<p><code>-o</code> <em>path</em><br />
<code>--out</code> <em>path</em><br />
    The project's artifacts directory.</p>
<p><code>--silent</code><br />
    Suppress all output</p>
<h4 id="common-options-11"><a class="header" href="#common-options-11">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-12"><a class="header" href="#examples-12">EXAMPLES</a></h3>
<ol>
<li>
<p>Inspect the bytecode of a contract:</p>
<pre><code class="language-sh">forge inspect MyContract bytecode
</code></pre>
</li>
<li>
<p>Inspect the storage layout of a contract:</p>
<pre><code class="language-sh">forge inspect MyContract storage
</code></pre>
</li>
</ol>
<h3 id="see-also-11"><a class="header" href="#see-also-11">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-build.html">forge build</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="test-commands-1"><a class="header" href="#test-commands-1">Test Commands</a></h2>
<ul>
<li><a href="reference/forge/./forge-test.html">forge test</a></li>
<li><a href="reference/forge/./forge-snapshot.html">forge snapshot</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-test"><a class="header" href="#forge-test">forge test</a></h2>
<h3 id="name-13"><a class="header" href="#name-13">NAME</a></h3>
<p>forge-test - Run the project's tests.</p>
<h3 id="synopsis-13"><a class="header" href="#synopsis-13">SYNOPSIS</a></h3>
<p><code>forge test</code> [<em>options</em>]</p>
<h3 id="description-13"><a class="header" href="#description-13">DESCRIPTION</a></h3>
<p>Run the project's tests.</p>
<h4 id="forking"><a class="header" href="#forking">Forking</a></h4>
<p>It is possible to run the tests in a forked environment by passing <code>--fork-url &lt;URL&gt;</code>.</p>
<p>When the tests are running in a forked environment, you can access all the state of the forked chain as you would
if you had deployed the contracts. <a href="reference/forge/../../cheatcodes/">Cheatcodes</a> are still available.</p>
<p>You can also specify a block number to fork from by passing <code>--fork-block-number &lt;BLOCK&gt;</code>. When forking from a
specific block, the chain data is cached to <code>~/.foundry/cache</code>. If you do not want to cache the chain data,
pass <code>--no-storage-caching</code>.</p>
<p>Traces that cannot be decoded by local contracts when running in a forked environment (e.g. calls to
contracts that live on mainnet, like tokens) can optionally be decoded using Etherscan. To use Etherscan
for trace decoding, set <code>ETHERSCAN_API_KEY</code> or pass <code>--etherscan-api-key &lt;KEY&gt;</code>.</p>
<h4 id="debugging"><a class="header" href="#debugging">Debugging</a></h4>
<p>It is possible to run a test in an interactive debugger. To start the debugger, pass <code>--debug &lt;TEST&gt;</code>.</p>
<p>If multiple tests match the specified pattern, you must use other test filters in order to reduce
the matching number of tests to exactly 1.</p>
<p>If the test is a unit test, it is immediately opened in the debugger.</p>
<p>If the test is a fuzz test, the fuzz test is run and the debugger is opened on the first failing scenario.
If there are no failing scenarios for the fuzz test, the debugger is opened on the last scenario.</p>
<p>More information on the debugger can be found in the <a href="reference/forge/../../forge/debugger.html">debugger chapter</a>.</p>
<h4 id="gas-reports-1"><a class="header" href="#gas-reports-1">Gas reports</a></h4>
<p>You can generate a gas report by passing <code>--gas-report</code>.</p>
<p>More information on gas reports can be found in the <a href="reference/forge/../../forge/gas-reports.html">gas reports chapter</a>.</p>
<h4 id="list"><a class="header" href="#list">List</a></h4>
<p>It is possible to list the tests without running them.
You can pass <code>--json</code> to make it easier for outside extensions to parse structured content.</p>
<h3 id="options-12"><a class="header" href="#options-12">OPTIONS</a></h3>
<h4 id="test-options"><a class="header" href="#test-options">Test Options</a></h4>
<p><code>-m</code> <em>regex</em><br />
<code>--match</code> <em>regex</em><br />
    Only run test functions matching the specified regex pattern.<br />
    <strong>Deprecated: See <code>--match-test</code>.</strong></p>
<p><code>--match-test</code> <em>regex</em><br />
    Only run test functions matching the specified regex pattern.</p>
<p><code>--no-match-test</code> <em>regex</em><br />
    Only run test functions that do not match the specified regex pattern.</p>
<p><code>--match-contract</code> <em>regex</em><br />
    Only run tests in contracts matching the specified regex pattern.</p>
<p><code>--no-match-contract</code> <em>regex</em><br />
    Only run tests in contracts that do not match the specified regex pattern.</p>
<p><code>--match-path</code> <em>glob</em><br />
    Only run tests in source files matching the specified glob pattern.</p>
<p><code>--no-match-path</code> <em>glob</em><br />
    Only run tests in source files that do not match the specified glob pattern.</p>
<p><code>--debug</code> <em>regex</em><br />
    Run a test in the debugger.</p>
<p>    The argument passed to this flag is the name of the test function you want to run, and it works the same as <code>--match-test</code>.</p>
<p>    If more than one test matches your specified criteria, you must add additional filters until only one test is found (see <code>--match-contract</code> and <code>--match-path</code>).</p>
<p>    The matching test will be opened in the debugger regardless of the outcome of the test.</p>
<p>    If the matching test is a fuzz test, then it will open the debugger on the first failure case. If the fuzz test does not fail, it will open the debugger on the last fuzz case.</p>
<p>    For more fine-grained control of which fuzz case is run, see <a href="reference/forge/./forge-debug.html"><code>forge debug</code></a>.</p>
<p><code>--gas-report</code><br />
    Print a gas report.</p>
<p><code>--allow-failure</code><br />
    Exit with code 0 even if a test fails.</p>
<p><code>--etherscan-api-key</code> <em>key</em><br />
    Etherscan API key. If set, traces are decoded using Etherscan if <code>--fork-url</code> is also set.<br />
    Environment: <code>ETHERSCAN_API_KEY</code></p>
<h4 id="evm-options"><a class="header" href="#evm-options">EVM Options</a></h4>
<p><code>-f</code> <em>url</em><br />
<code>--fork-url</code> <em>url</em><br />
    Fetch state over a remote endpoint instead of starting from an empty state.</p>
<p>    If you want to fetch state from a specific block number, see
<code>--fork-block-number</code>.</p>
<p><code>--fork-block-number</code> <em>block</em><br />
    Fetch state from a specific block number over a remote endpoint. See <code>--fork-url</code>.</p>
<p><code>--no-storage-caching</code><br />
    Explicitly disables the use of RPC caching.</p>
<p>    All storage slots are read entirely from the endpoint. See <code>--fork-url</code>.</p>
<p><code>-v</code><br />
<code>--verbosity</code><br />
    Verbosity of the EVM.</p>
<p>    Pass multiple times to increase the verbosity (e.g. <code>-v</code>, <code>-vv</code>, <code>-vvv</code>).</p>
<p>    Verbosity levels:<br />
    - 2: Print logs for all tests<br />
    - 3: Print execution traces for failing tests<br />
    - 4: Print execution traces for all tests, and setup traces for failing tests<br />
    - 5: Print execution and setup traces for all tests</p>
<p><code>--sender</code> <em>address</em><br />
    The address which will be executing tests</p>
<p><code>--initial-balance</code> <em>balance</em><br />
    The initial balance of deployed contracts</p>
<p><code>--ffi</code><br />
    Enables the <a href="reference/forge/../../cheatcodes/ffi.html">FFI cheatcode</a></p>
<h4 id="executor-options"><a class="header" href="#executor-options">Executor Options</a></h4>
<p><code>--base-fee &lt;FEE&gt;</code><br />
<code>--block-base-fee-per-gas &lt;FEE&gt;</code><br />
    The base fee in a block (in wei)</p>
<p><code>--block-coinbase</code> <em>address</em><br />
    The coinbase of the block</p>
<p><code>--block-difficulty</code> <em>difficulty</em><br />
    The block difficulty</p>
<p><code>--block-gas-limit</code> <em>gas_limit</em><br />
    The block gas limit</p>
<p><code>--block-number</code> <em>block</em><br />
    The block number</p>
<p><code>--block-timestamp</code> <em>timestamp</em><br />
    The timestamp of the block (in seconds)</p>
<p><code>--chain-id</code> <em>chain_id</em><br />
    The chain ID</p>
<p><code>--gas-limit</code> <em>gas_limit</em><br />
    The block gas limit</p>
<p><code>--gas-price</code> <em>gas_price</em><br />
    The gas price (in wei)</p>
<p><code>--tx-origin</code> <em>address</em><br />
    The transaction origin</p>
<h4 id="cache-options-2"><a class="header" href="#cache-options-2">Cache Options</a></h4>
<p><code>--force</code><br />
    Clear the cache and artifacts folder and recompile.</p>
<h4 id="linker-options-2"><a class="header" href="#linker-options-2">Linker Options</a></h4>
<p><code>--libraries</code> <em>libraries</em><br />
    Set pre-linked libraries.</p>
<p>    The parameter must be in the format <code>&lt;remapped path to lib&gt;:&lt;library name&gt;:&lt;address&gt;</code>, e.g. <code>src/Contract.sol:Library:0x...</code>.</p>
<p>    Can also be set in your configuration file as <code>libraries = [&quot;&lt;path&gt;:&lt;lib name&gt;:&lt;address&gt;&quot;]</code>.</p>
<h4 id="compiler-options-2"><a class="header" href="#compiler-options-2">Compiler Options</a></h4>
<p><code>--optimize</code><br />
    Active the Solidity optimizer.</p>
<p><code>--optimizer-runs</code> <em>runs</em><br />
    The number of optimizer runs.</p>
<p><code>--via-ir</code><br />
    Use the Yul intermediate representation compilation pipeline.</p>
<p><code>--revert-strings</code><br />
    How to treat revert and require reason strings.</p>
<p><code>--use</code> <em>solc_version</em><br />
    Specify the solc version, or a path to a local solc, to build with.</p>
<p>    Valid values are in the format <code>x.y.z</code>, <code>solc:x.y.z</code> or <code>path/to/solc</code>.</p>
<p><code>--offline</code><br />
    Do not access the network. Missing solc versions will not be installed.</p>
<p><code>--no-auto-detect</code><br />
    Do not auto-detect solc.</p>
<p><code>--ignored-error-codes</code> <em>error_codes</em><br />
    Ignore solc warnings by error code. The parameter is a comma-separated list of error codes.</p>
<p><code>--extra-output</code> <em>selector</em><br />
    Extra output to include in the contract's artifact.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>---extra-output-files</code> <em>selector</em><br />
    Extra output to write to separate files.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>--evm-version</code> <em>version</em><br />
    The target EVM version.</p>
<h4 id="project-options-5"><a class="header" href="#project-options-5">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<p><code>-o</code> <em>path</em><br />
<code>--out</code> <em>path</em><br />
    The project's artifacts directory.</p>
<p><code>--silent</code><br />
    Suppress all output</p>
<h4 id="display-options-2"><a class="header" href="#display-options-2">Display Options</a></h4>
<p><code>-j</code><br />
<code>--json</code><br />
    Output in JSON format.</p>
<p><code>--list</code><br />
    List tests instead of running them.</p>
<h4 id="common-options-12"><a class="header" href="#common-options-12">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-13"><a class="header" href="#examples-13">EXAMPLES</a></h3>
<ol>
<li>
<p>Run the tests:</p>
<pre><code class="language-sh">forge test
</code></pre>
</li>
<li>
<p>Open a test in the debugger:</p>
<pre><code class="language-sh">forge test --debug testSomething
</code></pre>
</li>
<li>
<p>Generate a gas report:</p>
<pre><code class="language-sh">forge test --gas-report
</code></pre>
</li>
<li>
<p>Only run tests in <code>test/Contract.t.sol</code> in the <code>BigTest</code> contract that start with <code>testFail</code>:</p>
<pre><code class="language-sh">forge test --match-path test/Contract.t.sol --match-contract BigTest \
  --match-test &quot;testFail*&quot;
</code></pre>
</li>
<li>
<p>List tests in desired format</p>
<pre><code class="language-sh">forge test --list
forge test --list --json
forge test --list --json --match-test &quot;testFail*&quot; | tail -n 1 | json_pp
</code></pre>
</li>
</ol>
<h3 id="see-also-12"><a class="header" href="#see-also-12">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-build.html">forge build</a>, <a href="reference/forge/./forge-snapshot.html">forge snapshot</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-snapshot"><a class="header" href="#forge-snapshot">forge snapshot</a></h2>
<h3 id="name-14"><a class="header" href="#name-14">NAME</a></h3>
<p>forge-snapshot - Create a snapshot of each test's gas usage.</p>
<h3 id="synopsis-14"><a class="header" href="#synopsis-14">SYNOPSIS</a></h3>
<p><code>forge snapshot</code> [<em>options</em>]</p>
<h3 id="description-14"><a class="header" href="#description-14">DESCRIPTION</a></h3>
<p>Create a snapshot of each test's gas usage.</p>
<p>The results are written to a file named <code>.gas-snapshot</code>. You can change the name of the file
by passing <code>--snap &lt;PATH&gt;</code>.</p>
<p>By default, fuzz tests are not included in the snapshot. To include them, pass <code>--include-fuzz-tests</code>.</p>
<p>Snapshots can be compared with <code>--diff</code> and <code>--check</code>. The first flag will output a diff, and the second
will output a diff <em>and</em> exit with code 1 if the snapshots do not match.</p>
<h3 id="options-13"><a class="header" href="#options-13">OPTIONS</a></h3>
<h4 id="snapshot-options"><a class="header" href="#snapshot-options">Snapshot Options</a></h4>
<p><code>--asc</code><br />
Sort results by gas used (ascending).</p>
<p><code>--desc</code><br />
    Sort results by gas used (descending).</p>
<p><code>--min</code> <em>min_gas</em><br />
    Only include tests that used more gas that the given amount.</p>
<p><code>--max</code> <em>max_gas</em><br />
    Only include tests that used less gas that the given amount.</p>
<p><code>--diff</code> <em>path</em><br />
    Output a diff against a pre-existing snapshot.</p>
<p>    By default the comparison is done with <code>.gas-snapshot</code>.</p>
<p><code>--check</code> <em>path</em><br />
    Compare against a pre-existing snapshot, exiting with code 1 if they do not match.</p>
<p>    Outputs a diff if the snapshots do not match.</p>
<p>    By default the comparison is done with <code>.gas-snapshot</code>.</p>
<p><code>--snap</code> <em>path</em><br />
    Output file for the snapshot. Default: <code>.gas-snapshot</code>.</p>
<p><code>--include-fuzz-tests</code><br />
    Include the mean and median gas use of fuzz tests in the snapshot.<br />
    Environment: <code>FORGE_INCLUDE_FUZZ_TESTS</code></p>
<h4 id="test-options-1"><a class="header" href="#test-options-1">Test Options</a></h4>
<p><code>-m</code> <em>regex</em><br />
<code>--match</code> <em>regex</em><br />
    Only run test functions matching the specified regex pattern.<br />
    <strong>Deprecated: See <code>--match-test</code>.</strong></p>
<p><code>--match-test</code> <em>regex</em><br />
    Only run test functions matching the specified regex pattern.</p>
<p><code>--no-match-test</code> <em>regex</em><br />
    Only run test functions that do not match the specified regex pattern.</p>
<p><code>--match-contract</code> <em>regex</em><br />
    Only run tests in contracts matching the specified regex pattern.</p>
<p><code>--no-match-contract</code> <em>regex</em><br />
    Only run tests in contracts that do not match the specified regex pattern.</p>
<p><code>--match-path</code> <em>glob</em><br />
    Only run tests in source files matching the specified glob pattern.</p>
<p><code>--no-match-path</code> <em>glob</em><br />
    Only run tests in source files that do not match the specified glob pattern.</p>
<p><code>--debug</code> <em>regex</em><br />
    Run a test in the debugger.</p>
<p>    The argument passed to this flag is the name of the test function you want to run, and it works the same as <code>--match-test</code>.</p>
<p>    If more than one test matches your specified criteria, you must add additional filters until only one test is found (see <code>--match-contract</code> and <code>--match-path</code>).</p>
<p>    The matching test will be opened in the debugger regardless of the outcome of the test.</p>
<p>    If the matching test is a fuzz test, then it will open the debugger on the first failure case. If the fuzz test does not fail, it will open the debugger on the last fuzz case.</p>
<p>    For more fine-grained control of which fuzz case is run, see <a href="reference/forge/./forge-debug.html"><code>forge debug</code></a>.</p>
<p><code>--gas-report</code><br />
    Print a gas report.</p>
<p><code>--allow-failure</code><br />
    Exit with code 0 even if a test fails.</p>
<p><code>--etherscan-api-key</code> <em>key</em><br />
    Etherscan API key. If set, traces are decoded using Etherscan if <code>--fork-url</code> is also set.<br />
    Environment: <code>ETHERSCAN_API_KEY</code></p>
<h4 id="evm-options-1"><a class="header" href="#evm-options-1">EVM Options</a></h4>
<p><code>-f</code> <em>url</em><br />
<code>--fork-url</code> <em>url</em><br />
    Fetch state over a remote endpoint instead of starting from an empty state.</p>
<p>    If you want to fetch state from a specific block number, see
<code>--fork-block-number</code>.</p>
<p><code>--fork-block-number</code> <em>block</em><br />
    Fetch state from a specific block number over a remote endpoint. See <code>--fork-url</code>.</p>
<p><code>--no-storage-caching</code><br />
    Explicitly disables the use of RPC caching.</p>
<p>    All storage slots are read entirely from the endpoint. See <code>--fork-url</code>.</p>
<p><code>-v</code><br />
<code>--verbosity</code><br />
    Verbosity of the EVM.</p>
<p>    Pass multiple times to increase the verbosity (e.g. <code>-v</code>, <code>-vv</code>, <code>-vvv</code>).</p>
<p>    Verbosity levels:<br />
    - 2: Print logs for all tests<br />
    - 3: Print execution traces for failing tests<br />
    - 4: Print execution traces for all tests, and setup traces for failing tests<br />
    - 5: Print execution and setup traces for all tests</p>
<p><code>--sender</code> <em>address</em><br />
    The address which will be executing tests</p>
<p><code>--initial-balance</code> <em>balance</em><br />
    The initial balance of deployed contracts</p>
<p><code>--ffi</code><br />
    Enables the <a href="reference/forge/../../cheatcodes/ffi.html">FFI cheatcode</a></p>
<h4 id="executor-options-1"><a class="header" href="#executor-options-1">Executor Options</a></h4>
<p><code>--base-fee &lt;FEE&gt;</code><br />
<code>--block-base-fee-per-gas &lt;FEE&gt;</code><br />
    The base fee in a block (in wei)</p>
<p><code>--block-coinbase</code> <em>address</em><br />
    The coinbase of the block</p>
<p><code>--block-difficulty</code> <em>difficulty</em><br />
    The block difficulty</p>
<p><code>--block-gas-limit</code> <em>gas_limit</em><br />
    The block gas limit</p>
<p><code>--block-number</code> <em>block</em><br />
    The block number</p>
<p><code>--block-timestamp</code> <em>timestamp</em><br />
    The timestamp of the block (in seconds)</p>
<p><code>--chain-id</code> <em>chain_id</em><br />
    The chain ID</p>
<p><code>--gas-limit</code> <em>gas_limit</em><br />
    The block gas limit</p>
<p><code>--gas-price</code> <em>gas_price</em><br />
    The gas price (in wei)</p>
<p><code>--tx-origin</code> <em>address</em><br />
    The transaction origin</p>
<h4 id="cache-options-3"><a class="header" href="#cache-options-3">Cache Options</a></h4>
<p><code>--force</code><br />
    Clear the cache and artifacts folder and recompile.</p>
<h4 id="linker-options-3"><a class="header" href="#linker-options-3">Linker Options</a></h4>
<p><code>--libraries</code> <em>libraries</em><br />
    Set pre-linked libraries.</p>
<p>    The parameter must be in the format <code>&lt;remapped path to lib&gt;:&lt;library name&gt;:&lt;address&gt;</code>, e.g. <code>src/Contract.sol:Library:0x...</code>.</p>
<p>    Can also be set in your configuration file as <code>libraries = [&quot;&lt;path&gt;:&lt;lib name&gt;:&lt;address&gt;&quot;]</code>.</p>
<h4 id="compiler-options-3"><a class="header" href="#compiler-options-3">Compiler Options</a></h4>
<p><code>--optimize</code><br />
    Active the Solidity optimizer.</p>
<p><code>--optimizer-runs</code> <em>runs</em><br />
    The number of optimizer runs.</p>
<p><code>--via-ir</code><br />
    Use the Yul intermediate representation compilation pipeline.</p>
<p><code>--revert-strings</code><br />
    How to treat revert and require reason strings.</p>
<p><code>--use</code> <em>solc_version</em><br />
    Specify the solc version, or a path to a local solc, to build with.</p>
<p>    Valid values are in the format <code>x.y.z</code>, <code>solc:x.y.z</code> or <code>path/to/solc</code>.</p>
<p><code>--offline</code><br />
    Do not access the network. Missing solc versions will not be installed.</p>
<p><code>--no-auto-detect</code><br />
    Do not auto-detect solc.</p>
<p><code>--ignored-error-codes</code> <em>error_codes</em><br />
    Ignore solc warnings by error code. The parameter is a comma-separated list of error codes.</p>
<p><code>--extra-output</code> <em>selector</em><br />
    Extra output to include in the contract's artifact.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>---extra-output-files</code> <em>selector</em><br />
    Extra output to write to separate files.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>--evm-version</code> <em>version</em><br />
    The target EVM version.</p>
<h4 id="project-options-6"><a class="header" href="#project-options-6">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<p><code>-o</code> <em>path</em><br />
<code>--out</code> <em>path</em><br />
    The project's artifacts directory.</p>
<p><code>--silent</code><br />
    Suppress all output</p>
<h4 id="display-options-3"><a class="header" href="#display-options-3">Display Options</a></h4>
<p><code>-j</code><br />
<code>--json</code><br />
    Output in JSON format.</p>
<h4 id="common-options-13"><a class="header" href="#common-options-13">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-14"><a class="header" href="#examples-14">EXAMPLES</a></h3>
<ol>
<li>
<p>Create a snapshot:</p>
<pre><code class="language-sh">forge snapshot
</code></pre>
</li>
<li>
<p>Create a snapshot with fuzz tests:</p>
<pre><code class="language-sh">forge snapshot --include-fuzz-tests
</code></pre>
</li>
<li>
<p>Generate a diff:</p>
<pre><code class="language-sh">forge snapshot --diff
</code></pre>
</li>
<li>
<p>Check that the snapshots match:</p>
<pre><code class="language-sh">forge snapshot --check
</code></pre>
</li>
</ol>
<h3 id="see-also-13"><a class="header" href="#see-also-13">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-test.html">forge test</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="deploy-commands-1"><a class="header" href="#deploy-commands-1">Deploy Commands</a></h2>
<ul>
<li><a href="reference/forge/./forge-create.html">forge create</a></li>
<li><a href="reference/forge/./forge-verify-contract.html">forge verify-contract</a></li>
<li><a href="reference/forge/./forge-verify-check.html">forge verify-check</a></li>
<li><a href="reference/forge/./forge-flatten.html">forge flatten</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-create"><a class="header" href="#forge-create">forge create</a></h2>
<h3 id="name-15"><a class="header" href="#name-15">NAME</a></h3>
<p>forge-create - Deploy a smart contract.</p>
<h3 id="synopsis-15"><a class="header" href="#synopsis-15">SYNOPSIS</a></h3>
<p><code>forge create</code> [<em>options</em>] <em>contract</em></p>
<h3 id="description-15"><a class="header" href="#description-15">DESCRIPTION</a></h3>
<p>Deploy a smart contract.</p>
<p>The path to the contract is in the format <code>&lt;path&gt;:&lt;contract&gt;</code>, e.g. <code>src/Contract.sol:Contract</code>.</p>
<p>You can specify constructor arguments with <code>--constructor-args</code>. Alternatively, you can specify a file
containing the constructor arguments separated by a space with <code>--constructor-args-path</code>.</p>
<p>Dynamic linking is not supported: you should predeploy your libraries and manually specify their addresses (see <code>--libraries</code>).</p>
<blockquote>
<p>ℹ️ <strong>Note</strong></p>
<p>The <code>--constructor-args</code> flag must be positioned last in the command, since it takes multiple values.</p>
</blockquote>
<h3 id="options-14"><a class="header" href="#options-14">OPTIONS</a></h3>
<h4 id="build-options-1"><a class="header" href="#build-options-1">Build Options</a></h4>
<p><code>--constructor-args</code> <em>args...</em><br />
    The constructor arguments.</p>
<p><code>--constructor-args-path</code> <em>file</em><br />
    The path to a file containing the constructor arguments.</p>
<p><code>--verify</code><br />
    Verify contract after creation. Runs <code>forge verify-contract</code> with the appropriate parameters.</p>
<h4 id="transaction-options"><a class="header" href="#transaction-options">Transaction Options</a></h4>
<p><code>--gas-limit</code> <em>gas_limit</em><br />
    Gas limit for the transaction.</p>
<p><code>--gas-price</code> <em>price</em><br />
    Gas price for the transaction, or max fee per gas for EIP1559 transactions.</p>
<p><code>--priority-fee</code> <em>price</em><br />
    Gas price for the transaction, or max fee per gas for EIP1559 transactions.</p>
<p><code>--value</code> <em>value</em><br />
    Ether to send in the transaction.</p>
<p>    Either specified as an integer (wei), or as a string with a unit, for example:<br />
    - <code>1ether</code><br />
    - <code>10gwei</code><br />
    - <code>0.01ether</code></p>
<p><code>--nonce</code> <em>nonce</em><br />
    Nonce for the transaction.</p>
<p><code>--legacy</code><br />
    Send a legacy transaction instead of an <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md">EIP1559</a> transaction.</p>
<p>    This is automatically enabled for common networks without EIP1559.</p>
<h4 id="wallet-options---raw"><a class="header" href="#wallet-options---raw">Wallet Options - Raw</a></h4>
<p><code>-i</code><br />
<code>--interactive</code><br />
    Open an interactive prompt to enter your private key.</p>
<p><code>--private-key</code> <em>raw_private_key</em><br />
    Use the provided private key.</p>
<p><code>--mnemonic-path</code> <em>path</em><br />
    Use the mnemonic file at the specified path.</p>
<p><code>--mnemonic-index</code> <em>index</em><br />
    Use the private key from the given mnemonic index. Used with <code>--mnemonic-path</code>.<br />
    Defaults to <code>0</code>.</p>
<h4 id="wallet-options---keystore"><a class="header" href="#wallet-options---keystore">Wallet Options - Keystore</a></h4>
<p><code>--keystore</code> <em>path</em><br />
    Use the keystore in the given folder or file.<br />
    Environment: <code>ETH_KEYSTORE</code></p>
<p><code>--password</code> <em>password</em><br />
    The keystore password. Used with <code>--keystore</code>.</p>
<h4 id="wallet-options---hardware-wallet"><a class="header" href="#wallet-options---hardware-wallet">Wallet Options - Hardware Wallet</a></h4>
<p><code>-t</code><br />
<code>--trezor</code><br />
    Use a Trezor hardware wallet.</p>
<p><code>-l</code><br />
<code>--ledger</code><br />
    Use a Ledger hardware wallet.</p>
<p><code>--hd-path</code> <em>path</em><br />
    The derivation path to use with hardware wallets.</p>
<h4 id="wallet-options---remote"><a class="header" href="#wallet-options---remote">Wallet Options - Remote</a></h4>
<p><code>-f</code> <em>address</em><br />
<code>--from</code> <em>address</em><br />
    Sign the transaction with the specified account on the RPC.<br />
    Environment: <code>ETH_FROM</code></p>
<h4 id="rpc-options"><a class="header" href="#rpc-options">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<p><code>--flashbots</code><br />
    Use the Flashbots RPC URL (<a href="https://rpc.flashbots.net">https://rpc.flashbots.net</a>).</p>
<h4 id="etherscan-options"><a class="header" href="#etherscan-options">Etherscan Options</a></h4>
<p><code>-c</code>  <em>chain_name</em><br />
<code>--chain</code> <em>chain_name</em><br />
    The Etherscan chain.</p>
<p><code>--etherscan-api-key</code> <em>key</em><br />
    Etherscan API key.<br />
    Environment: <code>ETHERSCAN_API_KEY</code></p>
<h4 id="cache-options-4"><a class="header" href="#cache-options-4">Cache Options</a></h4>
<p><code>--force</code><br />
    Clear the cache and artifacts folder and recompile.</p>
<h4 id="linker-options-4"><a class="header" href="#linker-options-4">Linker Options</a></h4>
<p><code>--libraries</code> <em>libraries</em><br />
    Set pre-linked libraries.</p>
<p>    The parameter must be in the format <code>&lt;remapped path to lib&gt;:&lt;library name&gt;:&lt;address&gt;</code>, e.g. <code>src/Contract.sol:Library:0x...</code>.</p>
<p>    Can also be set in your configuration file as <code>libraries = [&quot;&lt;path&gt;:&lt;lib name&gt;:&lt;address&gt;&quot;]</code>.</p>
<h4 id="compiler-options-4"><a class="header" href="#compiler-options-4">Compiler Options</a></h4>
<p><code>--optimize</code><br />
    Active the Solidity optimizer.</p>
<p><code>--optimizer-runs</code> <em>runs</em><br />
    The number of optimizer runs.</p>
<p><code>--via-ir</code><br />
    Use the Yul intermediate representation compilation pipeline.</p>
<p><code>--revert-strings</code><br />
    How to treat revert and require reason strings.</p>
<p><code>--use</code> <em>solc_version</em><br />
    Specify the solc version, or a path to a local solc, to build with.</p>
<p>    Valid values are in the format <code>x.y.z</code>, <code>solc:x.y.z</code> or <code>path/to/solc</code>.</p>
<p><code>--offline</code><br />
    Do not access the network. Missing solc versions will not be installed.</p>
<p><code>--no-auto-detect</code><br />
    Do not auto-detect solc.</p>
<p><code>--ignored-error-codes</code> <em>error_codes</em><br />
    Ignore solc warnings by error code. The parameter is a comma-separated list of error codes.</p>
<p><code>--extra-output</code> <em>selector</em><br />
    Extra output to include in the contract's artifact.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>---extra-output-files</code> <em>selector</em><br />
    Extra output to write to separate files.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>--evm-version</code> <em>version</em><br />
    The target EVM version.</p>
<h4 id="project-options-7"><a class="header" href="#project-options-7">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<p><code>-o</code> <em>path</em><br />
<code>--out</code> <em>path</em><br />
    The project's artifacts directory.</p>
<p><code>--silent</code><br />
    Suppress all output</p>
<h4 id="display-options-4"><a class="header" href="#display-options-4">Display Options</a></h4>
<p><code>-j</code><br />
<code>--json</code><br />
    Output in JSON format.</p>
<h4 id="common-options-14"><a class="header" href="#common-options-14">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-15"><a class="header" href="#examples-15">EXAMPLES</a></h3>
<ol>
<li>
<p>Deploy a contract with no constructor arguments:</p>
<pre><code class="language-sh">forge create src/Contract.sol:ContractWithNoConstructor
</code></pre>
</li>
<li>
<p>Deploy a contract with two constructor arguments:</p>
<pre><code class="language-sh">forge create src/Contract.sol:MyToken --constructor-args &quot;My Token&quot; &quot;MT&quot;
</code></pre>
</li>
</ol>
<h3 id="see-also-14"><a class="header" href="#see-also-14">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-build.html">forge build</a>, <a href="reference/forge/./forge-verify-contract.html">forge verify-contract</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-verify-contract"><a class="header" href="#forge-verify-contract">forge verify-contract</a></h2>
<h3 id="name-16"><a class="header" href="#name-16">NAME</a></h3>
<p>forge-verify-contract - Verify smart contracts on Etherscan.</p>
<h3 id="synopsis-16"><a class="header" href="#synopsis-16">SYNOPSIS</a></h3>
<p><code>forge verify-contract</code> [<em>options</em>] <code>--compiler-version</code> <em>compiler_version</em> <em>address</em> <em>contract</em> [<em>etherscan_key</em>]</p>
<h3 id="description-16"><a class="header" href="#description-16">DESCRIPTION</a></h3>
<p>Verifies a smart contract on Etherscan.</p>
<p>You must provide:</p>
<ul>
<li>The compiler version used to build your smart contracts (<code>--compiler-version</code>, read below)</li>
<li>The contract address</li>
<li>The path to the contract (read below)</li>
<li>Your Etherscan API key, either by passing it as an argument or setting <code>ETHERSCAN_API_KEY</code></li>
</ul>
<p>To find the exact compiler version, run <code>~/.svm/x.y.z/solc-x.y.z --version</code> and search for the 8 hex digits in the version string <a href="https://etherscan.io/solcversions">here</a>.</p>
<p>The path to the contract is in the format <code>&lt;path&gt;:&lt;contract&gt;</code>, e.g. <code>src/Contract.sol:Contract</code>.</p>
<p>By default, smart contracts are verified in a multi-file fashion. If you want to flatten the contract before verifying, pass <code>--flatten</code>.</p>
<p>This command will try to compile the source code of the flattened contract if <code>--flatten</code> is passed before verifying. If you do not want that, pass <code>--force</code>.</p>
<h3 id="options-15"><a class="header" href="#options-15">OPTIONS</a></h3>
<h4 id="verify-contract-options"><a class="header" href="#verify-contract-options">Verify Contract Options</a></h4>
<p><code>--compiler-version</code> <em>version</em><br />
    The compiler version used to build the smart contract.</p>
<p>    To find the exact compiler version, run <code>~/.svm/x.y.z/solc-x.y.z --version</code> where <code>x</code> and
<code>y</code> are major and minor version numbers respectively, then search for the 8 hex digits in the version string <a href="https://etherscan.io/solcversions">here</a>.</p>
<p><code>--num-of-optimizations</code> <em>num</em><br />
    The number of optimization runs used to build the smart contract.</p>
<p><code>--constructor-args</code> <em>args...</em><br />
    The ABI-encoded constructor arguments.</p>
<p><code>--chain-id</code> <em>chain_id</em><br />
    The chain ID the contract is deployed to (either a number or a chain name).<br />
    Default: mainnet</p>
<p><code>--flatten</code><br />
    Flatten the source code before verifying.</p>
<p><code>-f</code><br />
<code>--force</code><br />
    Do not compile the flattened smart contract before verifying.</p>
<p><code>--delay</code> <em>delay</em><br />
    Optional timeout to apply in between attempts in seconds.</p>
<p><code>--retries</code> <em>retries</em><br />
    Number of attempts for retrying. Defaults to 1.</p>
<p><code>--watch</code><br />
    Wait for verification result after submission.<br />
    Automatically runs <code>forge verify-check</code> until the verification either fails or succeeds.</p>
<h4 id="project-options-8"><a class="header" href="#project-options-8">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<h4 id="common-options-15"><a class="header" href="#common-options-15">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-16"><a class="header" href="#examples-16">EXAMPLES</a></h3>
<ol>
<li>Verify a contract built with solc v0.8.11+commit.d7f03943:
<pre><code class="language-sh">forge verify-contract --compiler-version &quot;v0.8.11+commit.d7f03943&quot; \
  0x.. src/Token.sol:MyToken
</code></pre>
</li>
</ol>
<h3 id="see-also-15"><a class="header" href="#see-also-15">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-create.html">forge create</a>, <a href="reference/forge/./forge-flatten.html">forge flatten</a>, <a href="reference/forge/./forge-verify-check.html">forge verify-check</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-verify-check"><a class="header" href="#forge-verify-check">forge verify-check</a></h2>
<h3 id="name-17"><a class="header" href="#name-17">NAME</a></h3>
<p>forge-verify-check - Check verification status on Etherscan.</p>
<h3 id="synopsis-17"><a class="header" href="#synopsis-17">SYNOPSIS</a></h3>
<p><code>forge verify-check</code> [<em>options</em>] <em>guid</em> [<em>etherscan_key</em>]</p>
<h3 id="description-17"><a class="header" href="#description-17">DESCRIPTION</a></h3>
<p>Check verification status on Etherscan.</p>
<p>You must provide an Etherscan API key, either by passing it as an argument or setting <code>ETHERSCAN_API_KEY</code></p>
<h3 id="options-16"><a class="header" href="#options-16">OPTIONS</a></h3>
<h4 id="verify-contract-options-1"><a class="header" href="#verify-contract-options-1">Verify Contract Options</a></h4>
<p><code>--chain-id</code> <em>chain_id</em><br />
    The chain ID the contract is deployed to (either a number or a chain name).<br />
    Default: mainnet</p>
<h4 id="common-options-16"><a class="header" href="#common-options-16">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-16"><a class="header" href="#see-also-16">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-create.html">forge create</a>, <a href="reference/forge/./forge-verify-contract.html">forge verify-contract</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-flatten"><a class="header" href="#forge-flatten">forge flatten</a></h2>
<h3 id="name-18"><a class="header" href="#name-18">NAME</a></h3>
<p>forge-flatten - Flatten a source file and all of its imports into one file.</p>
<h3 id="synopsis-18"><a class="header" href="#synopsis-18">SYNOPSIS</a></h3>
<p><code>forge flatten</code> [<em>options</em>] <em>file</em></p>
<h3 id="description-18"><a class="header" href="#description-18">DESCRIPTION</a></h3>
<p>Flatten a source file and all of its imports into one file.</p>
<p>If <code>--output &lt;FILE&gt;</code> is not set, then the flattened contract will be output to stdout.</p>
<h3 id="options-17"><a class="header" href="#options-17">OPTIONS</a></h3>
<h4 id="flatten-options-1"><a class="header" href="#flatten-options-1">Flatten Options</a></h4>
<p><code>-o</code> <em>file</em><br />
<code>--output</code> <em>file</em><br />
    The path to output the flattened contract. If not specified, the flattened contract will be output to stdout.</p>
<h4 id="project-options-9"><a class="header" href="#project-options-9">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<h4 id="common-options-17"><a class="header" href="#common-options-17">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-17"><a class="header" href="#examples-17">EXAMPLES</a></h3>
<ol>
<li>
<p>Flatten <code>src/Contract.sol</code>:</p>
<pre><code class="language-sh">forge flatten src/Contract.sol
</code></pre>
</li>
<li>
<p>Flatten <code>src/Contract.sol</code> and write the result to <code>src/Contract.flattened.sol</code>:</p>
<pre><code class="language-sh">forge flatten --output src/Contract.flattened.sol src/Contract.sol
</code></pre>
</li>
</ol>
<h3 id="see-also-17"><a class="header" href="#see-also-17">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-verify-contract.html">forge verify-contract</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="utility-commands-1"><a class="header" href="#utility-commands-1">Utility Commands</a></h2>
<ul>
<li><a href="reference/forge/./forge-debug.html">forge debug</a></li>
<li><a href="reference/forge/./forge-bind.html">forge bind</a></li>
<li><a href="reference/forge/./forge-cache.html">forge cache</a></li>
<li><a href="reference/forge/./forge-cache-clean.html">forge cache clean</a></li>
<li><a href="reference/forge/./forge-cache-ls.html">forge cache ls</a></li>
<li><a href="reference/forge/./forge-script.html">forge script</a></li>
<li><a href="reference/forge/./forge-upload-selectors.html">forge upload-selectors</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-debug"><a class="header" href="#forge-debug">forge debug</a></h2>
<h3 id="name-19"><a class="header" href="#name-19">NAME</a></h3>
<p>forge-debug - Debug a single smart contract as a script.</p>
<h3 id="synopsis-19"><a class="header" href="#synopsis-19">SYNOPSIS</a></h3>
<p><code>forge debug</code> [<em>options</em>] <em>path</em> [<em>args...</em>]</p>
<h3 id="description-19"><a class="header" href="#description-19">DESCRIPTION</a></h3>
<p>Debugs a single smart contract located in the source file (<em>path</em>) as a script.</p>
<p>If multiple contracts are in the specified source file, you must pass <code>--target-contract</code> to specify
what contract you want to run.</p>
<h4 id="calls"><a class="header" href="#calls">Calls</a></h4>
<p>After the script is deployed to the internal EVM a call is made to a function with the signature <code>setUp()</code>, if present.</p>
<p>By default, the script is assumed to be contained in a function with the signature <code>run()</code>. If you wish to
run a different function, pass <code>--sig &lt;SIGNATURE&gt;</code>.</p>
<p>The signature can be a fragment (<code>&lt;function name&gt;(&lt;types&gt;)</code>), or raw calldata.</p>
<p>If you pass a fragment, and the function has parameters, you can add the call parameters to the end of the command (<em>args</em>).</p>
<h4 id="forking-1"><a class="header" href="#forking-1">Forking</a></h4>
<p>It is possible to run the script in a forked environment by passing <code>--fork-url &lt;URL&gt;</code>.</p>
<p>When the script is running in a forked environment, you can access all the state of the forked chain as you would
if you had deployed the script. <a href="reference/forge/../../cheatcodes/">Cheatcodes</a> are still available.</p>
<p>You can also specify a block number to fork from by passing <code>--fork-block-number &lt;BLOCK&gt;</code>. When forking from a
specific block, the chain data is cached to <code>~/.foundry/cache</code>. If you do not want to cache the chain data,
pass <code>--no-storage-caching</code>.</p>
<h4 id="debugging-1"><a class="header" href="#debugging-1">Debugging</a></h4>
<p>It is possible to run the script in an interactive debugger. To start the debugger, pass <code>--debug</code>.</p>
<p>More information on the debugger can be found in the <a href="reference/forge/../../forge/debugger.html">debugger chapter</a>.</p>
<h3 id="options-18"><a class="header" href="#options-18">OPTIONS</a></h3>
<h4 id="debug-options"><a class="header" href="#debug-options">Debug Options</a></h4>
<p><code>--target-contract</code> <em>contract_name</em><br />
    The name of the contract you want to run</p>
<p><code>-s</code> <em>signature</em><br />
<code>--sig</code> <em>signature</em><br />
    The signature of the function you want to call in the contract, or raw calldata. Default: <code>run()</code></p>
<p><code>--debug</code><br />
    Open the script in the <a href="reference/forge/../../forge/debugger.html">debugger</a>.</p>
<h4 id="evm-options-2"><a class="header" href="#evm-options-2">EVM Options</a></h4>
<p><code>-f</code> <em>url</em><br />
<code>--fork-url</code> <em>url</em><br />
    Fetch state over a remote endpoint instead of starting from an empty state.</p>
<p>    If you want to fetch state from a specific block number, see
<code>--fork-block-number</code>.</p>
<p><code>--fork-block-number</code> <em>block</em><br />
    Fetch state from a specific block number over a remote endpoint. See <code>--fork-url</code>.</p>
<p><code>--no-storage-caching</code><br />
    Explicitly disables the use of RPC caching.</p>
<p>    All storage slots are read entirely from the endpoint. See <code>--fork-url</code>.</p>
<p><code>-v</code><br />
<code>--verbosity</code><br />
    Verbosity of the EVM.</p>
<p>    Pass multiple times to increase the verbosity (e.g. <code>-v</code>, <code>-vv</code>, <code>-vvv</code>).</p>
<p>    Verbosity levels:<br />
    - 2: Print logs for all tests<br />
    - 3: Print execution traces for failing tests<br />
    - 4: Print execution traces for all tests, and setup traces for failing tests<br />
    - 5: Print execution and setup traces for all tests</p>
<p><code>--sender</code> <em>address</em><br />
    The address which will be executing tests</p>
<p><code>--initial-balance</code> <em>balance</em><br />
    The initial balance of deployed contracts</p>
<p><code>--ffi</code><br />
    Enables the <a href="reference/forge/../../cheatcodes/ffi.html">FFI cheatcode</a></p>
<h4 id="executor-options-2"><a class="header" href="#executor-options-2">Executor Options</a></h4>
<p><code>--base-fee &lt;FEE&gt;</code><br />
<code>--block-base-fee-per-gas &lt;FEE&gt;</code><br />
    The base fee in a block (in wei)</p>
<p><code>--block-coinbase</code> <em>address</em><br />
    The coinbase of the block</p>
<p><code>--block-difficulty</code> <em>difficulty</em><br />
    The block difficulty</p>
<p><code>--block-gas-limit</code> <em>gas_limit</em><br />
    The block gas limit</p>
<p><code>--block-number</code> <em>block</em><br />
    The block number</p>
<p><code>--block-timestamp</code> <em>timestamp</em><br />
    The timestamp of the block (in seconds)</p>
<p><code>--chain-id</code> <em>chain_id</em><br />
    The chain ID</p>
<p><code>--gas-limit</code> <em>gas_limit</em><br />
    The block gas limit</p>
<p><code>--gas-price</code> <em>gas_price</em><br />
    The gas price (in wei)</p>
<p><code>--tx-origin</code> <em>address</em><br />
    The transaction origin</p>
<h4 id="cache-options-5"><a class="header" href="#cache-options-5">Cache Options</a></h4>
<p><code>--force</code><br />
    Clear the cache and artifacts folder and recompile.</p>
<h4 id="linker-options-5"><a class="header" href="#linker-options-5">Linker Options</a></h4>
<p><code>--libraries</code> <em>libraries</em><br />
    Set pre-linked libraries.</p>
<p>    The parameter must be in the format <code>&lt;remapped path to lib&gt;:&lt;library name&gt;:&lt;address&gt;</code>, e.g. <code>src/Contract.sol:Library:0x...</code>.</p>
<p>    Can also be set in your configuration file as <code>libraries = [&quot;&lt;path&gt;:&lt;lib name&gt;:&lt;address&gt;&quot;]</code>.</p>
<h4 id="compiler-options-5"><a class="header" href="#compiler-options-5">Compiler Options</a></h4>
<p><code>--optimize</code><br />
    Active the Solidity optimizer.</p>
<p><code>--optimizer-runs</code> <em>runs</em><br />
    The number of optimizer runs.</p>
<p><code>--via-ir</code><br />
    Use the Yul intermediate representation compilation pipeline.</p>
<p><code>--revert-strings</code><br />
    How to treat revert and require reason strings.</p>
<p><code>--use</code> <em>solc_version</em><br />
    Specify the solc version, or a path to a local solc, to build with.</p>
<p>    Valid values are in the format <code>x.y.z</code>, <code>solc:x.y.z</code> or <code>path/to/solc</code>.</p>
<p><code>--offline</code><br />
    Do not access the network. Missing solc versions will not be installed.</p>
<p><code>--no-auto-detect</code><br />
    Do not auto-detect solc.</p>
<p><code>--ignored-error-codes</code> <em>error_codes</em><br />
    Ignore solc warnings by error code. The parameter is a comma-separated list of error codes.</p>
<p><code>--extra-output</code> <em>selector</em><br />
    Extra output to include in the contract's artifact.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>---extra-output-files</code> <em>selector</em><br />
    Extra output to write to separate files.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>--evm-version</code> <em>version</em><br />
    The target EVM version.</p>
<h4 id="project-options-10"><a class="header" href="#project-options-10">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<p><code>-o</code> <em>path</em><br />
<code>--out</code> <em>path</em><br />
    The project's artifacts directory.</p>
<p><code>--silent</code><br />
    Suppress all output</p>
<h4 id="common-options-18"><a class="header" href="#common-options-18">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-18"><a class="header" href="#examples-18">EXAMPLES</a></h3>
<ol>
<li>
<p>Execute the <code>run()</code> function in a contract:</p>
<pre><code class="language-sh">forge debug src/Contract.sol
</code></pre>
</li>
<li>
<p>Open a script in the debugger:</p>
<pre><code class="language-sh">forge debug src/Contract.sol --debug
</code></pre>
</li>
<li>
<p>Execute the <code>foo()</code> function in a contract:</p>
<pre><code class="language-sh">forge debug src/Contract.sol --sig &quot;foo()&quot;
</code></pre>
</li>
<li>
<p>Execute a contract with a function that takes parameters:</p>
<pre><code class="language-sh">forge debug src/Contract.sol --sig &quot;foo(string,uint256)&quot; &quot;hello&quot; 100
</code></pre>
</li>
<li>
<p>Execute a contract with raw calldata:</p>
<pre><code class="language-sh">forge debug src/Contract.sol --sig &quot;0x...&quot;
</code></pre>
</li>
</ol>
<h3 id="see-also-18"><a class="header" href="#see-also-18">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-test.html">forge test</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-bind"><a class="header" href="#forge-bind">forge bind</a></h2>
<h3 id="name-20"><a class="header" href="#name-20">NAME</a></h3>
<p>forge-bind - Generate Rust bindings for smart contracts.</p>
<h3 id="synopsis-20"><a class="header" href="#synopsis-20">SYNOPSIS</a></h3>
<p><code>forge bind</code> [<em>options</em>]</p>
<h3 id="description-20"><a class="header" href="#description-20">DESCRIPTION</a></h3>
<p>Generates Rust bindings for smart contracts using <a href="https://github.com/gakonst/ethers-rs">ethers-rs</a>.</p>
<p>The bindings are generated from the project's artifacts, which by default is <code>./out/</code>.
If you want to generate bindings for artifacts in a different directory, pass <code>--bindings-path &lt;PATH&gt;</code>.</p>
<p>There are three output options:</p>
<ul>
<li>Generate bindings in a crate (default)</li>
<li>Generate bindings in a module by passing <code>--module</code></li>
<li>Generate bindings in a single file by passing <code>--single-file</code></li>
</ul>
<p>By default, the command will check that existing bindings are correct and exit accordingly.
You can overwrite the existing bindings by passing <code>--overwrite</code>.</p>
<h3 id="options-19"><a class="header" href="#options-19">OPTIONS</a></h3>
<h4 id="project-options-11"><a class="header" href="#project-options-11">Project Options</a></h4>
<p><code>-b</code> <em>path</em><br />
<code>--bindings-path</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>--crate-name</code> <em>name</em><br />
    The name of the Rust crate to generate, if you are generating a crate (default).<br />
    This should be a valid crates.io crate name.</p>
<p>    Default: foundry-contracts</p>
<p><code>--crate-version</code> <em>semver</em><br />
    The version of the Rust crate to generate, if you are generating a crate (default).<br />
    This should be a standard semver version string.</p>
<p>    Default: 0.0.1</p>
<p><code>--module</code><br />
    Generate the bindings as a module instead of a crate.</p>
<p><code>--single-file</code><br />
    Generate bindings as a single file.</p>
<p><code>--overwrite</code><br />
    Overwrite existing generated bindings. By default, the command will check that the bindings are correct, and then exit.<br />
    If <code>--overwrite</code> is passed, it will instead delete and overwrite the bindings.</p>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>--skip-cargo-toml</code><br />
    Skip Cargo.toml consistency checks.<br />
    This allows you to manage the <a href="https://github.com/gakonst/ethers-rs">ethers</a> version without giving up on consistency checks.<br />
    An example would be if you use additional features of ethers like <code>ws</code>, <code>ipc</code>, or <code>rustls</code> and get an <code>ethers-providers</code> version mismatch.</p>
<h4 id="common-options-19"><a class="header" href="#common-options-19">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-19"><a class="header" href="#see-also-19">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-cache"><a class="header" href="#forge-cache"><code>forge cache</code></a></h2>
<h3 id="name-21"><a class="header" href="#name-21">NAME</a></h3>
<p>forge-cache - Manage the Foundry cache.</p>
<h3 id="synopsis-21"><a class="header" href="#synopsis-21">SYNOPSIS</a></h3>
<p><code>forge cache</code> [<em>options</em>] <em>command</em> [<em>args</em>]<br />
<code>forge cache</code> [<em>options</em>] <code>--version</code><br />
<code>forge cache</code> [<em>options</em>] <code>--help</code></p>
<h3 id="description-21"><a class="header" href="#description-21">DESCRIPTION</a></h3>
<p>This program is a set of tools to manage the Foundry cache.</p>
<h3 id="commands-1"><a class="header" href="#commands-1">COMMANDS</a></h3>
<p><a href="reference/forge/./forge-cache-clean.html">forge cache clean</a><br />
    Cleans cached data from <code>~/.foundry</code>.</p>
<p><a href="reference/forge/./forge-cache-ls.html">forge cache ls</a><br />
    Shows cached data from <code>~/.foundry</code>.</p>
<h3 id="options-20"><a class="header" href="#options-20">OPTIONS</a></h3>
<h4 id="special-options-1"><a class="header" href="#special-options-1">Special Options</a></h4>
<p><code>-V</code><br />
<code>--version</code><br />
    Print version info and exit.</p>
<h4 id="common-options-20"><a class="header" href="#common-options-20">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-cache-clean"><a class="header" href="#forge-cache-clean"><code>forge cache clean</code></a></h2>
<h3 id="name-22"><a class="header" href="#name-22">NAME</a></h3>
<p>forge-cache-clean - Cleans cached data from <code>~/.foundry</code>.</p>
<h3 id="synopsis-22"><a class="header" href="#synopsis-22">SYNOPSIS</a></h3>
<p><code>forge cache clean</code> [<em>options</em>] [<em>--</em>] [<em>chains..</em>]</p>
<h3 id="description-22"><a class="header" href="#description-22">DESCRIPTION</a></h3>
<p>Removes files in the <code>~/.foundry/cache</code> folder which is used to cache Etherscan verification status and block data.</p>
<h3 id="options-21"><a class="header" href="#options-21">OPTIONS</a></h3>
<p><code>-b</code><br />
<code>--blocks</code><br />
    One or more block numbers separated by comma with no spaces</p>
<p><code>--etherscan</code>
    A boolean flag that specifies to only remove the block explorer portion of the cache</p>
<h4 id="common-options-21"><a class="header" href="#common-options-21">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-19"><a class="header" href="#examples-19">EXAMPLES</a></h3>
<ol>
<li>
<p>Remove the entire cache (also, <code>forge cache clean</code> is an alias for this)</p>
<pre><code class="language-sh">forge cache clean all
</code></pre>
</li>
<li>
<p>Remove the entire block explorer cache</p>
<pre><code class="language-sh">forge cache clean all --etherscan
</code></pre>
</li>
<li>
<p>Remove cache data for a specific chain, by name</p>
<pre><code class="language-sh">forge cache clean rinkeby
</code></pre>
</li>
<li>
<p>Remove cache data for a specific block number on a specific chain. Does not work if <code>chain</code> is <code>all</code></p>
<pre><code class="language-sh">forge cache clean rinkeby -b 150000
</code></pre>
</li>
<li>
<p>Remove block explorer cache data for a specific chain. Does not work if <code>--blocks</code> are specified.</p>
<pre><code class="language-sh">forge cache clean rinkeby --etherscan
</code></pre>
</li>
<li>
<p>Specify multiple chains</p>
<pre><code class="language-sh">forge cache clean rinkeby mainnet
</code></pre>
</li>
<li>
<p>Specify multiple blocks</p>
<pre><code class="language-sh">forge cache clean rinkeby --blocks 530000,9000000,9200000
</code></pre>
</li>
</ol>
<h3 id="see-also-20"><a class="header" href="#see-also-20">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-cache.html">forge cache</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-cache-ls"><a class="header" href="#forge-cache-ls"><code>forge cache ls</code></a></h2>
<h3 id="name-23"><a class="header" href="#name-23">NAME</a></h3>
<p>forge-cache-ls - Shows cached data from <code>~/.foundry</code>.</p>
<h3 id="synopsis-23"><a class="header" href="#synopsis-23">SYNOPSIS</a></h3>
<p><code>forge cache ls</code> [<em>chains..</em>]</p>
<h3 id="description-23"><a class="header" href="#description-23">DESCRIPTION</a></h3>
<p>Lists what is in the <code>~/.foundry/cache</code> folder currently.</p>
<h3 id="options-22"><a class="header" href="#options-22">OPTIONS</a></h3>
<h4 id="common-options-22"><a class="header" href="#common-options-22">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-20"><a class="header" href="#examples-20">EXAMPLES</a></h3>
<ol>
<li>
<p>Show the entire cache (also, <code>forge cache ls</code> is an alias for this)</p>
<pre><code class="language-sh">forge cache ls all
</code></pre>
</li>
<li>
<p>Show cache data for a specific chain, by name</p>
<pre><code class="language-sh">forge cache ls rinkeby
</code></pre>
</li>
<li>
<p>Specify multiple chains</p>
<pre><code class="language-sh">forge cache ls rinkeby mainnet
</code></pre>
</li>
</ol>
<h3 id="see-also-21"><a class="header" href="#see-also-21">SEE ALSO</a></h3>
<p><a href="reference/forge/./forge.html">forge</a>, <a href="reference/forge/./forge-cache.html">forge cache</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-script"><a class="header" href="#forge-script">forge script</a></h2>
<h3 id="name-24"><a class="header" href="#name-24">NAME</a></h3>
<p>forge-script - Run a smart contract as a script, building transactions that can be sent onchain.</p>
<h3 id="synopsis-24"><a class="header" href="#synopsis-24">SYNOPSIS</a></h3>
<p><code>forge script</code> [<em>options</em>] <em>path</em> [<em>args...</em>]</p>
<h3 id="description-24"><a class="header" href="#description-24">DESCRIPTION</a></h3>
<p>Run a smart contract as a script, building transactions that can be sent onchain.</p>
<p>Scripts can be used to apply state transitions on live contracts, or deploy and initialize a complex set of smart contracts using Solidity.</p>
<h3 id="options-23"><a class="header" href="#options-23">OPTIONS</a></h3>
<p><code>--broadcast</code><br />
    Broadcasts the transactions.</p>
<p><code>--debug</code><br />
    Open the script in the <a href="reference/forge/../../forge/debugger.html">debugger</a>. Takes precedence over broadcast.</p>
<p><code>--legacy</code><br />
    Use legacy transactions instead of EIP1559 ones. This is auto-enabled for common networks without EIP1559.</p>
<p><code>--resume</code><br />
    Resumes submitting transactions that failed or timed-out previously.</p>
<p><code>--sig</code> <em>signature</em><br />
    The signature of the function you want to call in the contract, or raw calldata.<br />
    Default: <code>run()</code></p>
<p><code>--slow</code><br />
    Makes sure a transaction is sent, only after its previous one has been confirmed and succeeded.</p>
<p><code>--target-contract</code> <em>contract_name</em><br />
    The name of the contract you want to run.</p>
<p><code>--etherscan-api-key</code> <em>key</em><br />
    Etherscan API key.<br />
    Environment: <code>ETHERSCAN_API_KEY</code></p>
<p><code>--json</code><br />
    Output results in JSON format.<br />
    Note: The output is under development and prone to change.</p>
<p><code>--verify</code><br />
    If it finds a matching broadcast log, it tries to verify every contract found in the receipts.</p>
<h4 id="cache-options-6"><a class="header" href="#cache-options-6">Cache Options</a></h4>
<p><code>--force</code><br />
    Clear the cache and artifacts folder and recompile.</p>
<h4 id="linker-options-6"><a class="header" href="#linker-options-6">Linker Options</a></h4>
<p><code>--libraries</code> <em>libraries</em><br />
    Set pre-linked libraries.</p>
<p>    The parameter must be in the format <code>&lt;remapped path to lib&gt;:&lt;library name&gt;:&lt;address&gt;</code>, e.g. <code>src/Contract.sol:Library:0x...</code>.</p>
<p>    Can also be set in your configuration file as <code>libraries = [&quot;&lt;path&gt;:&lt;lib name&gt;:&lt;address&gt;&quot;]</code>.</p>
<h4 id="compiler-options-6"><a class="header" href="#compiler-options-6">Compiler Options</a></h4>
<p><code>--optimize</code><br />
    Active the Solidity optimizer.</p>
<p><code>--optimizer-runs</code> <em>runs</em><br />
    The number of optimizer runs.</p>
<p><code>--via-ir</code><br />
    Use the Yul intermediate representation compilation pipeline.</p>
<p><code>--revert-strings</code><br />
    How to treat revert and require reason strings.</p>
<p><code>--use</code> <em>solc_version</em><br />
    Specify the solc version, or a path to a local solc, to build with.</p>
<p>    Valid values are in the format <code>x.y.z</code>, <code>solc:x.y.z</code> or <code>path/to/solc</code>.</p>
<p><code>--offline</code><br />
    Do not access the network. Missing solc versions will not be installed.</p>
<p><code>--no-auto-detect</code><br />
    Do not auto-detect solc.</p>
<p><code>--ignored-error-codes</code> <em>error_codes</em><br />
    Ignore solc warnings by error code. The parameter is a comma-separated list of error codes.</p>
<p><code>--extra-output</code> <em>selector</em><br />
    Extra output to include in the contract's artifact.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>---extra-output-files</code> <em>selector</em><br />
    Extra output to write to separate files.</p>
<p>    Example keys: <code>abi</code>, <code>storageLayout</code>, <code>evm.assembly</code>, <code>ewasm</code>, <code>ir</code>, <code>ir-optimized</code>, <code>metadata</code>.</p>
<p>    For a full description, see the <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-api">Solidity docs</a>.</p>
<p><code>--evm-version</code> <em>version</em><br />
    The target EVM version.</p>
<h4 id="project-options-12"><a class="header" href="#project-options-12">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<p><code>-o</code> <em>path</em><br />
<code>--out</code> <em>path</em><br />
    The project's artifacts directory.</p>
<p><code>--silent</code><br />
    Suppress all output</p>
<h4 id="build-options-2"><a class="header" href="#build-options-2">Build Options</a></h4>
<p><code>--names</code><br />
    Print compiled contract names.</p>
<p><code>--sizes</code><br />
    Print compiled non-test contract sizes, exiting with code 1 if any of them are above the size limit.</p>
<h4 id="watch-options-1"><a class="header" href="#watch-options-1">Watch Options</a></h4>
<p><code>-w</code> [<em>path...</em>]<br />
<code>--watch</code> [<em>path...</em>]<br />
    Watch specific file(s) or folder(s)</p>
<p>    By default, the project's source directory is watched.</p>
<p><code>-d</code> <em>delay</em><br />
<code>--delay</code> <em>delay</em><br />
    File update debounce delay</p>
<p>    During the delay, incoming change events are accumulated and only once the delay has passed, is an action taken.<br />
    Note that this does not mean a command will be started: if <code>--no-restart</code> is given and a command is already
    running, the outcome of the action will be to do nothing.</p>
<p>    Defaults to 50ms. Parses as decimal seconds by default, but using an itneger with the <code>ms</code> suffix may be more convenient.</p>
<p>    When using <code>--poll</code> mode, you'll want a larger duration, or risk overloading disk I/O.</p>
<p><code>--no-restart</code><br />
    Do not restart the command while it's running.</p>
<p><code>--run-all</code><br />
    Explicitly re-run the command on all files when a change is made.</p>
<h4 id="wallet-options---raw-1"><a class="header" href="#wallet-options---raw-1">Wallet Options - Raw</a></h4>
<p><code>-i</code>
<code>--interactives</code> <em>num</em><br />
    Open an interactive prompt to enter your private key. Takes a value for the number of keys to enter.<br />
    Default: 0</p>
<p><code>--mnemonic-indexes</code> <em>indexes</em><br />
    Use the private key from the given mnemonic index. Used with --mnemonic-path.<br />
    Default: 0</p>
<p><code>--mnemonic-paths</code> <em>paths</em><br />
    Use the mnemonic file at the specified path(s).</p>
<p><code>--private-key</code> <em>raw_private_key</em><br />
    Use the provided private key.</p>
<p><code>--private-keys</code> <em>raw_private_keys</em><br />
    Use the provided private keys.</p>
<h4 id="wallet-options---keystore-1"><a class="header" href="#wallet-options---keystore-1">Wallet Options - Keystore</a></h4>
<p><code>--keystores</code> <em>paths</em><br />
    Use the keystores in the given folders or files.<br />
    Environment: <code>ETH_KEYSTORE</code></p>
<p><code>--password</code> <em>passwords</em><br />
    The keystore passwords. Used with <code>--keystore</code>.</p>
<h4 id="wallet-options---hardware-wallet-1"><a class="header" href="#wallet-options---hardware-wallet-1">Wallet Options - Hardware Wallet</a></h4>
<p><code>-t</code><br />
<code>--trezor</code><br />
    Use a Trezor hardware wallet.</p>
<p><code>-l</code><br />
<code>--ledger</code><br />
    Use a Ledger hardware wallet.</p>
<p><code>--hd-paths</code> <em>paths</em><br />
    The derivation paths to use with hardware wallets.</p>
<h4 id="wallet-options---remote-1"><a class="header" href="#wallet-options---remote-1">Wallet Options - Remote</a></h4>
<p><code>-a</code> <em>addresses</em><br />
<code>--froms</code> <em>addresses</em><br />
    Sign the transaction with the specified accounts on the RPC.<br />
    Environment: <code>ETH_FROM</code></p>
<h4 id="evm-options-3"><a class="header" href="#evm-options-3">EVM Options</a></h4>
<p><code>-f</code> <em>url</em><br />
<code>--fork-url</code> <em>url</em><br />
    Fetch state over a remote endpoint instead of starting from an empty state.</p>
<p>    If you want to fetch state from a specific block number, see
<code>--fork-block-number</code>.</p>
<p><code>--fork-block-number</code> <em>block</em><br />
    Fetch state from a specific block number over a remote endpoint. See <code>--fork-url</code>.</p>
<p><code>--no-storage-caching</code><br />
    Explicitly disables the use of RPC caching.</p>
<p>    All storage slots are read entirely from the endpoint. See <code>--fork-url</code>.</p>
<p><code>-v</code><br />
<code>--verbosity</code><br />
    Verbosity of the EVM.</p>
<p>    Pass multiple times to increase the verbosity (e.g. <code>-v</code>, <code>-vv</code>, <code>-vvv</code>).</p>
<p>    Verbosity levels:<br />
    - 2: Print logs for all tests<br />
    - 3: Print execution traces for failing tests<br />
    - 4: Print execution traces for all tests, and setup traces for failing tests<br />
    - 5: Print execution and setup traces for all tests</p>
<p><code>--sender</code> <em>address</em><br />
    The address which will be executing tests</p>
<p><code>--initial-balance</code> <em>balance</em><br />
    The initial balance of deployed contracts</p>
<p><code>--ffi</code><br />
    Enables the <a href="reference/forge/../../cheatcodes/ffi.html">FFI cheatcode</a></p>
<h4 id="executor-options-3"><a class="header" href="#executor-options-3">Executor Options</a></h4>
<p><code>--base-fee &lt;FEE&gt;</code><br />
<code>--block-base-fee-per-gas &lt;FEE&gt;</code><br />
    The base fee in a block (in wei)</p>
<p><code>--block-coinbase</code> <em>address</em><br />
    The coinbase of the block</p>
<p><code>--block-difficulty</code> <em>difficulty</em><br />
    The block difficulty</p>
<p><code>--block-gas-limit</code> <em>gas_limit</em><br />
    The block gas limit</p>
<p><code>--block-number</code> <em>block</em><br />
    The block number</p>
<p><code>--block-timestamp</code> <em>timestamp</em><br />
    The timestamp of the block (in seconds)</p>
<p><code>--chain-id</code> <em>chain_id</em><br />
    The chain ID</p>
<p><code>--gas-limit</code> <em>gas_limit</em><br />
    The block gas limit</p>
<p><code>--gas-price</code> <em>gas_price</em><br />
    The gas price (in wei)</p>
<p><code>--tx-origin</code> <em>address</em><br />
    The transaction origin</p>
<h4 id="common-options-23"><a class="header" href="#common-options-23">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-21"><a class="header" href="#examples-21">EXAMPLES</a></h3>
<ol>
<li>Run <code>BroadcastTest</code> as a script, broadcasting generated transactions on-chain
<pre><code class="language-sh">forge script ./test/Broadcast.t.sol --tc BroadcastTest --sig &quot;deploy()&quot; \
             -vvv --fork-url $GOERLI_RPC_URL
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-upload-selectors"><a class="header" href="#forge-upload-selectors">forge upload-selectors</a></h2>
<h3 id="name-25"><a class="header" href="#name-25">NAME</a></h3>
<p>forge-upload-selectors - Uploads abi of given contract to https://sig.eth.samczsun.com function selector database.</p>
<h3 id="synopsis-25"><a class="header" href="#synopsis-25">SYNOPSIS</a></h3>
<p><code>forge upload-selectors</code> [<em>options</em>] <em>contract</em></p>
<h3 id="description-25"><a class="header" href="#description-25">DESCRIPTION</a></h3>
<p>Uploads abi of given contract to https://sig.eth.samczsun.com function selector database.</p>
<h3 id="options-24"><a class="header" href="#options-24">OPTIONS</a></h3>
<h4 id="project-options-13"><a class="header" href="#project-options-13">Project Options</a></h4>
<p><code>--root</code> <em>path</em><br />
    The project's root path. By default, this is the root directory of the current git repository, or the current working directory.</p>
<p><code>-c</code> <em>path</em><br />
<code>--contracts</code> <em>path</em><br />
    The contracts source directory.<br />
    Environment: <code>DAPP_SRC</code></p>
<p><code>--lib-paths</code> <em>path</em><br />
    The path to the library folder.</p>
<p><code>-r</code> <em>remappings</em><br />
<code>--remappings</code> <em>remappings</em><br />
    The project's remappings.</p>
<p>    The parameter is a comma-separated list of remappings in the format <code>&lt;source&gt;=&lt;dest&gt;</code>.</p>
<p><code>--cache-path</code> <em>path</em><br />
    The path to the compiler cache.</p>
<p><code>--config-path</code> <em>file</em><br />
    Path to the config file.</p>
<p><code>--hh</code><br />
<code>--hardhat</code><br />
    This is a convenience flag, and is the same as passing <code>--contracts contracts --lib-paths node-modules</code>.</p>
<h4 id="common-options-24"><a class="header" href="#common-options-24">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-22"><a class="header" href="#examples-22">EXAMPLES</a></h3>
<ol>
<li>Upload ABI to selector database
<pre><code class="language-sh">forge upload-selectors LinearVestingVault
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-commands"><a class="header" href="#cast-commands">cast Commands</a></h2>
<ul>
<li><a href="reference/cast/./general-commands.html">General Commands</a></li>
<li><a href="reference/cast/./chain-commands.html">Chain Commands</a></li>
<li><a href="reference/cast/./transaction-commands.html">Transaction Commands</a></li>
<li><a href="reference/cast/./block-commands.html">Block Commands</a></li>
<li><a href="reference/cast/./account-commands.html">Account Commands</a></li>
<li><a href="reference/cast/./ens-commands.html">ENS Commands</a></li>
<li><a href="reference/cast/./etherscan-commands.html">Etherscan Commands</a></li>
<li><a href="reference/cast/./abi-commands.html">ABI Commands</a></li>
<li><a href="reference/cast/./conversion-commands.html">Conversion Commands</a></li>
<li><a href="reference/cast/./utility-commands.html">Utility Commands</a></li>
<li><a href="reference/cast/./wallet-commands.html">Wallet Commands</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="general-commands-2"><a class="header" href="#general-commands-2">General Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast.html">cast</a></li>
<li><a href="reference/cast/./cast-help.html">cast help</a></li>
<li><a href="reference/cast/./cast-completions.html">cast completions</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast"><a class="header" href="#cast">cast</a></h2>
<h3 id="name-26"><a class="header" href="#name-26">NAME</a></h3>
<p>cast - Perform Ethereum RPC calls from the comfort of your command line.</p>
<h3 id="synopsis-26"><a class="header" href="#synopsis-26">SYNOPSIS</a></h3>
<p><code>cast</code> [<em>options</em>] <em>command</em> [<em>args</em>]<br />
<code>cast</code> [<em>options</em>] <code>--version</code><br />
<code>cast</code> [<em>options</em>] <code>--help</code></p>
<h3 id="description-26"><a class="header" href="#description-26">DESCRIPTION</a></h3>
<p>This program is a set of tools to interact with Ethereum and perform conversions.</p>
<h3 id="commands-2"><a class="header" href="#commands-2">COMMANDS</a></h3>
<h4 id="general-commands-3"><a class="header" href="#general-commands-3">General Commands</a></h4>
<p><a href="reference/cast/./cast-help.html">cast help</a><br />
    Display help information about Cast.</p>
<p><a href="reference/cast/./cast-completions.html">cast completions</a><br />
    Generate shell autocompletions for Cast.</p>
<h4 id="chain-commands"><a class="header" href="#chain-commands">Chain Commands</a></h4>
<p><a href="reference/cast/./cast-chain-id.html">cast chain-id</a><br />
    Get the Ethereum chain ID.</p>
<p><a href="reference/cast/./cast-chain.html">cast chain</a><br />
    Get the symbolic name of the current chain.</p>
<p><a href="reference/cast/./cast-client.html">cast client</a><br />
    Get the current client version.</p>
<h4 id="transaction-commands"><a class="header" href="#transaction-commands">Transaction Commands</a></h4>
<p><a href="reference/cast/./cast-publish.html">cast publish</a><br />
    Publish a raw transaction to the network.</p>
<p><a href="reference/cast/./cast-receipt.html">cast receipt</a><br />
    Get the transaction receipt for a transaction.</p>
<p><a href="reference/cast/./cast-send.html">cast send</a><br />
    Sign and publish a transaction.</p>
<p><a href="reference/cast/./cast-call.html">cast call</a><br />
    Perform a call on an account without publishing a transaction.</p>
<p><a href="reference/cast/./cast-tx.html">cast tx</a><br />
    Get information about a transaction.</p>
<p><a href="reference/cast/./cast-run.html">cast run</a><br />
    Runs a published transaction in a local environment and prints the trace.</p>
<p><a href="reference/cast/./cast-estimate.html">cast estimate</a><br />
    Estimate the gas cost of a transaction.</p>
<p><a href="reference/cast/./cast-access-list.html">cast access-list</a><br />
    Create an access list for a transaction.</p>
<h4 id="block-commands"><a class="header" href="#block-commands">Block Commands</a></h4>
<p><a href="reference/cast/./cast-find-block.html">cast find-block</a><br />
    Get the block number closest to the provided timestamp.</p>
<p><a href="reference/cast/./cast-gas-price.html">cast gas-price</a><br />
    Get the current gas price.</p>
<p><a href="reference/cast/./cast-block-number.html">cast block-number</a><br />
    Get the latest block number.</p>
<p><a href="reference/cast/./cast-basefee.html">cast basefee</a><br />
    Get the basefee of a block.</p>
<p><a href="reference/cast/./cast-block.html">cast block</a><br />
    Get information about a block.</p>
<p><a href="reference/cast/./cast-age.html">cast age</a><br />
    Get the timestamp of a block.</p>
<h4 id="account-commands"><a class="header" href="#account-commands">Account Commands</a></h4>
<p><a href="reference/cast/./cast-balance.html">cast balance</a><br />
    Get the balance of an account in wei.</p>
<p><a href="reference/cast/./cast-storage.html">cast storage</a><br />
    Get the raw value of a contract's storage slot.</p>
<p><a href="reference/cast/./cast-proof.html">cast proof</a><br />
    Generate a storage proof for a given storage slot.</p>
<p><a href="reference/cast/./cast-nonce.html">cast nonce</a><br />
    Get the nonce for an account.</p>
<p><a href="reference/cast/./cast-code.html">cast code</a><br />
    Get the bytecode of a contract.</p>
<h4 id="ens-commands"><a class="header" href="#ens-commands">ENS Commands</a></h4>
<p><a href="reference/cast/./cast-lookup-address.html">cast lookup-address</a><br />
    Perform an ENS reverse lookup.</p>
<p><a href="reference/cast/./cast-resolve-name.html">cast resolve-name</a><br />
    Perform an ENS lookup.</p>
<p><a href="reference/cast/./cast-namehash.html">cast namehash</a><br />
    Calculate the ENS namehash of a name.</p>
<h4 id="etherscan-commands"><a class="header" href="#etherscan-commands">Etherscan Commands</a></h4>
<p><a href="reference/cast/./cast-etherscan-source.html">cast etherscan-source</a><br />
    Get the source code of a contract from Etherscan.</p>
<h4 id="abi-commands"><a class="header" href="#abi-commands">ABI Commands</a></h4>
<p><a href="reference/cast/./cast-abi-encode.html">cast abi-encode</a><br />
    ABI encode the given function arguments, excluding the selector.</p>
<p><a href="reference/cast/./cast-4byte.html">cast 4byte</a><br />
    Get the function signatures for the given selector from <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a>.</p>
<p><a href="reference/cast/./cast-4byte-decode.html">cast 4byte-decode</a><br />
    Decode ABI-encoded calldata using <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a>.</p>
<p><a href="reference/cast/./cast-4byte-event.html">cast 4byte-event</a><br />
    Get the event signature for a given topic 0 from <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a>.</p>
<p><a href="reference/cast/./cast-calldata.html">cast calldata</a><br />
    ABI-encode a function with arguments.</p>
<p><a href="reference/cast/./cast-pretty-calldata.html">cast pretty-calldata</a><br />
    Pretty print calldata.</p>
<p><a href="reference/cast/./cast--abi-decode.html">cast --abi-decode</a><br />
    Decode ABI-encoded input or output data.</p>
<p><a href="reference/cast/./cast--calldata-decode.html">cast --calldata-decode</a><br />
    Decode ABI-encoded input data.</p>
<p><a href="reference/cast/./cast-upload-signature.html">cast upload-signature</a><br />
    Upload the given signatures to https://sig.eth.samczsun.com.</p>
<h4 id="conversion-commands"><a class="header" href="#conversion-commands">Conversion Commands</a></h4>
<p><a href="reference/cast/./cast--from-bin.html">cast --from-bin</a><br />
    Convert binary data into hex data.</p>
<p><a href="reference/cast/./cast--from-fix.html">cast --from-fix</a><br />
    Convert a fixed point number into an integer.</p>
<p><a href="reference/cast/./cast--from-utf8.html">cast --from-utf8</a><br />
    Convert UTF8 to hex.</p>
<p><a href="reference/cast/./cast--to-ascii.html">cast --to-ascii</a><br />
    Convert hex data to an ASCII string.</p>
<p><a href="reference/cast/./cast--to-bytes32.html">cast --to-bytes32</a><br />
    Right-pads hex data to 32 bytes.</p>
<p><a href="reference/cast/./cast--to-dec.html">cast --to-dec</a><br />
    Convert a hex value into a decimal number.</p>
<p><a href="reference/cast/./cast--to-fix.html">cast --to-fix</a><br />
    Convert an integer into a fixed point number.</p>
<p><a href="reference/cast/./cast--to-hex.html">cast --to-hex</a><br />
    Convert an integer to hex.</p>
<p><a href="reference/cast/./cast--to-hexdata.html">cast --to-hexdata</a><br />
    Normalize the input to lowercase, 0x-prefixed hex.</p>
<p><a href="reference/cast/./cast--to-int256.html">cast --to-int256</a><br />
    Convert a number to a hex-encoded int256.</p>
<p><a href="reference/cast/./cast--to-uint256.html">cast --to-uint256</a><br />
    Convert a number to a hex-encoded uint256.</p>
<p><a href="reference/cast/./cast--to-unit.html">cast --to-unit</a><br />
    Convert an ETH amount into another unit (ether, gwei, wei).</p>
<p><a href="reference/cast/./cast--to-wei.html">cast --to-wei</a><br />
    Convert an ETH amount to wei.</p>
<h4 id="utility-commands-2"><a class="header" href="#utility-commands-2">Utility Commands</a></h4>
<p><a href="reference/cast/./cast-sig.html">cast sig</a><br />
    Get the selector for a function.</p>
<p><a href="reference/cast/./cast-keccak.html">cast keccak</a><br />
    Hash arbitrary data using keccak-256.</p>
<p><a href="reference/cast/./cast-compute-address.html">cast compute-address</a><br />
    Compute the contract address from a given nonce and deployer address.</p>
<p><a href="reference/cast/./cast-interface.html">cast interface</a><br />
    Generate a Solidity interface from a given ABI.</p>
<p><a href="reference/cast/./cast-index.html">cast index</a><br />
    Compute the storage slot for an entry in a mapping.</p>
<p><a href="reference/cast/./cast--concat-hex.html">cast --concat-hex</a><br />
    Concatenate hex strings.</p>
<p><a href="reference/cast/./cast--max-int.html">cast --max-int</a><br />
    Get the maximum i256 value.</p>
<p><a href="reference/cast/./cast--min-int.html">cast --min-int</a><br />
    Get the minimum i256 value.</p>
<p><a href="reference/cast/./cast--max-uint.html">cast --max-uint</a><br />
    Get the maximum u256 value.</p>
<p><a href="reference/cast/./cast--to-checksum-address.html">cast --to-checksum-address</a><br />
    Convert an address to a checksummed format (EIP-55).</p>
<h4 id="wallet-commands"><a class="header" href="#wallet-commands">Wallet Commands</a></h4>
<p><a href="reference/cast/./cast-wallet.html">cast wallet</a><br />
    Wallet management utilities.</p>
<p><a href="reference/cast/./cast-wallet-new.html">cast wallet new</a><br />
    Create a new random keypair.</p>
<p><a href="reference/cast/./cast-wallet-address.html">cast wallet address</a><br />
    Convert a private key to an address.</p>
<p><a href="reference/cast/./cast-wallet-sign.html">cast wallet sign</a><br />
    Sign a message.</p>
<p><a href="reference/cast/./cast-wallet-vanity.html">cast wallet vanity</a><br />
    Generate a vanity address.</p>
<p><a href="reference/cast/./cast-wallet-verify.html">cast wallet verify</a><br />
    Verify the signature of a message.</p>
<h3 id="options-25"><a class="header" href="#options-25">OPTIONS</a></h3>
<h4 id="special-options-2"><a class="header" href="#special-options-2">Special Options</a></h4>
<p><code>-V</code><br />
<code>--version</code><br />
    Print version info and exit.</p>
<h4 id="common-options-25"><a class="header" href="#common-options-25">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-23"><a class="header" href="#examples-23">EXAMPLES</a></h3>
<ol>
<li>
<p>Call a function on a contract:</p>
<pre><code class="language-sh">cast call 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2 \
  &quot;balanceOf(address)(uint256)&quot; 0x...
</code></pre>
</li>
<li>
<p>Decode raw calldata:</p>
<pre><code class="language-sh">cast --calldata-decode &quot;transfer(address,uint256)&quot; \
  0xa9059cbb000000000000000000000000e78388b4ce79068e89bf8aa7f218ef6b9ab0e9d0000000000000000000000000000000000000000000000000008a8e4b1a3d8000
</code></pre>
</li>
<li>
<p>Encode calldata:</p>
<pre><code class="language-sh">cast calldata &quot;someFunc(address,uint256)&quot; 0x... 1
</code></pre>
</li>
</ol>
<h3 id="bugs-1"><a class="header" href="#bugs-1">BUGS</a></h3>
<p>See <a href="https://github.com/foundry-rs/foundry/issues">https://github.com/foundry-rs/foundry/issues</a> for issues.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-help"><a class="header" href="#cast-help">cast help</a></h2>
<h3 id="name-27"><a class="header" href="#name-27">NAME</a></h3>
<p>cast-help - Get help for a Cast command</p>
<h3 id="synopsis-27"><a class="header" href="#synopsis-27">SYNOPSIS</a></h3>
<p><code>cast help</code> [<em>subcommand</em>]</p>
<h3 id="description-27"><a class="header" href="#description-27">DESCRIPTION</a></h3>
<p>Prints a help message for the given command.</p>
<h3 id="examples-24"><a class="header" href="#examples-24">EXAMPLES</a></h3>
<ol>
<li>
<p>Get help for a command:</p>
<pre><code class="language-sh">cast help call
</code></pre>
</li>
<li>
<p>Help is also available with the <code>--help</code> flag:</p>
<pre><code class="language-sh">cast call --help
</code></pre>
</li>
</ol>
<h3 id="see-also-22"><a class="header" href="#see-also-22">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-completions"><a class="header" href="#cast-completions">cast completions</a></h2>
<h3 id="name-28"><a class="header" href="#name-28">NAME</a></h3>
<p>cast-completions - Generate shell completions script</p>
<h3 id="synopsis-28"><a class="header" href="#synopsis-28">SYNOPSIS</a></h3>
<p><code>cast completions</code> <em>shell</em></p>
<h3 id="description-28"><a class="header" href="#description-28">DESCRIPTION</a></h3>
<p>Generates a shell completions script for the given shell.</p>
<p>Supported shells are:</p>
<ul>
<li>bash</li>
<li>elvish</li>
<li>fish</li>
<li>powershell</li>
<li>zsh</li>
</ul>
<h3 id="options-26"><a class="header" href="#options-26">OPTIONS</a></h3>
<h4 id="common-options-26"><a class="header" href="#common-options-26">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-25"><a class="header" href="#examples-25">EXAMPLES</a></h3>
<ol>
<li>Generate shell completions script for zsh:
<pre><code class="language-sh">cast completions zsh &gt; $HOME/.oh-my-zsh/completions/_cast
</code></pre>
</li>
</ol>
<h3 id="see-also-23"><a class="header" href="#see-also-23">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="chain-commands-1"><a class="header" href="#chain-commands-1">Chain Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast-chain-id.html">cast chain-id</a></li>
<li><a href="reference/cast/./cast-chain.html">cast chain</a></li>
<li><a href="reference/cast/./cast-client.html">cast client</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-chain-id"><a class="header" href="#cast-chain-id">cast chain-id</a></h2>
<h3 id="name-29"><a class="header" href="#name-29">NAME</a></h3>
<p>cast-chain-id - Get the Ethereum chain ID.</p>
<h3 id="synopsis-29"><a class="header" href="#synopsis-29">SYNOPSIS</a></h3>
<p><code>cast chain-id</code> [<em>options</em>]</p>
<h3 id="description-29"><a class="header" href="#description-29">DESCRIPTION</a></h3>
<p>Get the Ethereum <a href="https://chainlist.org/">chain ID</a> from the RPC endpoint we are connected to.</p>
<h3 id="options-27"><a class="header" href="#options-27">OPTIONS</a></h3>
<h4 id="rpc-options-1"><a class="header" href="#rpc-options-1">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-27"><a class="header" href="#common-options-27">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-26"><a class="header" href="#examples-26">EXAMPLES</a></h3>
<ol>
<li>
<p>Get the chain ID when talking to <code>$RPC</code>:</p>
<pre><code class="language-sh">cast chain-id --rpc-url $RPC
</code></pre>
</li>
<li>
<p>Get the chain ID when <code>$ETH_RPC_URL</code> is set:</p>
<pre><code class="language-sh">cast chain-id
</code></pre>
</li>
</ol>
<h3 id="see-also-24"><a class="header" href="#see-also-24">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-chain.html">cast chain</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-chain"><a class="header" href="#cast-chain">cast chain</a></h2>
<h3 id="name-30"><a class="header" href="#name-30">NAME</a></h3>
<p>cast-chain - Get the symbolic name of the current chain.</p>
<h3 id="synopsis-30"><a class="header" href="#synopsis-30">SYNOPSIS</a></h3>
<p><code>cast chain</code> [<em>options</em>]</p>
<h3 id="description-30"><a class="header" href="#description-30">DESCRIPTION</a></h3>
<p>Get the symbolic chain name from the RPC endpoint we are connected to.</p>
<h3 id="options-28"><a class="header" href="#options-28">OPTIONS</a></h3>
<h4 id="rpc-options-2"><a class="header" href="#rpc-options-2">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-28"><a class="header" href="#common-options-28">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-27"><a class="header" href="#examples-27">EXAMPLES</a></h3>
<ol>
<li>
<p>Get the chain name when talking to <code>$RPC</code>:</p>
<pre><code class="language-sh">cast chain --rpc-url $RPC
</code></pre>
</li>
<li>
<p>Get the chain name when <code>$ETH_RPC_URL</code> is set:</p>
<pre><code class="language-sh">cast chain
</code></pre>
</li>
</ol>
<h3 id="see-also-25"><a class="header" href="#see-also-25">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-chain-id.html">cast chain-id</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-client"><a class="header" href="#cast-client">cast client</a></h2>
<h3 id="name-31"><a class="header" href="#name-31">NAME</a></h3>
<p>cast-client - Get the current client version.</p>
<h3 id="synopsis-31"><a class="header" href="#synopsis-31">SYNOPSIS</a></h3>
<p><code>cast client</code> [<em>options</em>]</p>
<h3 id="description-31"><a class="header" href="#description-31">DESCRIPTION</a></h3>
<p>Get the current client version.</p>
<h3 id="options-29"><a class="header" href="#options-29">OPTIONS</a></h3>
<h4 id="rpc-options-3"><a class="header" href="#rpc-options-3">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-29"><a class="header" href="#common-options-29">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-28"><a class="header" href="#examples-28">EXAMPLES</a></h3>
<ol>
<li>Get the current client version:
<pre><code class="language-sh">cast client
</code></pre>
</li>
</ol>
<h3 id="see-also-26"><a class="header" href="#see-also-26">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="transaction-commands-1"><a class="header" href="#transaction-commands-1">Transaction Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast-publish.html">cast publish</a></li>
<li><a href="reference/cast/./cast-receipt.html">cast receipt</a></li>
<li><a href="reference/cast/./cast-send.html">cast send</a></li>
<li><a href="reference/cast/./cast-call.html">cast call</a></li>
<li><a href="reference/cast/./cast-tx.html">cast tx</a></li>
<li><a href="reference/cast/./cast-run.html">cast run</a></li>
<li><a href="reference/cast/./cast-estimate.html">cast estimate</a></li>
<li><a href="reference/cast/./cast-access-list.html">cast access-list</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-publish"><a class="header" href="#cast-publish">cast publish</a></h2>
<h3 id="name-32"><a class="header" href="#name-32">NAME</a></h3>
<p>cast-publish - Publish a raw transaction to the network.</p>
<h3 id="synopsis-32"><a class="header" href="#synopsis-32">SYNOPSIS</a></h3>
<p><code>cast publish</code> [<em>options</em>] <em>tx</em></p>
<h3 id="description-32"><a class="header" href="#description-32">DESCRIPTION</a></h3>
<p>Publish a raw pre-signed transaction to the network.</p>
<h3 id="options-30"><a class="header" href="#options-30">OPTIONS</a></h3>
<h4 id="publish-options"><a class="header" href="#publish-options">Publish Options</a></h4>
<p><code>--cast-async</code><br />
    Do not wait for a transaction receipt.<br />
    Environment: <code>CAST_ASYNC</code></p>
<h4 id="rpc-options-4"><a class="header" href="#rpc-options-4">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<p><code>--flashbots</code><br />
    Use the Flashbots RPC URL (<a href="https://rpc.flashbots.net">https://rpc.flashbots.net</a>).</p>
<h4 id="common-options-30"><a class="header" href="#common-options-30">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-29"><a class="header" href="#examples-29">EXAMPLES</a></h3>
<ol>
<li>
<p>Publish a pre-signed transaction:</p>
<pre><code class="language-sh">cast publish --rpc-url $RPC $TX
</code></pre>
</li>
<li>
<p>Publish a pre-signed transaction with flashbots.</p>
<pre><code class="language-sh">cast publish --flashbots $TX
</code></pre>
</li>
</ol>
<h3 id="see-also-27"><a class="header" href="#see-also-27">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-call.html">cast call</a>, <a href="reference/cast/./cast-send.html">cast send</a>, <a href="reference/cast/./cast-receipt.html">cast receipt</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-receipt"><a class="header" href="#cast-receipt">cast receipt</a></h2>
<h3 id="name-33"><a class="header" href="#name-33">NAME</a></h3>
<p>cast-receipt - Get the transaction receipt for a transaction.</p>
<h3 id="synopsis-33"><a class="header" href="#synopsis-33">SYNOPSIS</a></h3>
<p><code>cast receipt</code> [<em>options</em>] <em>tx_hash</em> [<em>field</em>]</p>
<h3 id="description-33"><a class="header" href="#description-33">DESCRIPTION</a></h3>
<p>Get the transaction receipt for a transaction.</p>
<p>If <em>field</em> is specified, then only the given field of the receipt is displayed.</p>
<h3 id="options-31"><a class="header" href="#options-31">OPTIONS</a></h3>
<h4 id="receipt-options"><a class="header" href="#receipt-options">Receipt Options</a></h4>
<p><code>--cast-async</code><br />
    Do not wait for the transaction receipt if it does not exist yet.<br />
    Environment: <code>CAST_ASYNC</code></p>
<p><code>-c</code> <em>confirmations</em><br />
<code>--confirmations</code> <em>confirmations</em><br />
    Wait a number of confirmations before exiting. Default: <code>1</code>.</p>
<h4 id="rpc-options-5"><a class="header" href="#rpc-options-5">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="display-options-5"><a class="header" href="#display-options-5">Display Options</a></h4>
<p><code>-j</code><br />
<code>--json</code><br />
    Output in JSON format.</p>
<h4 id="common-options-31"><a class="header" href="#common-options-31">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-30"><a class="header" href="#examples-30">EXAMPLES</a></h3>
<ol>
<li>
<p>Get a transaction receipt:</p>
<pre><code class="language-sh">cast receipt $TX_HASH
</code></pre>
</li>
<li>
<p>Get the block number the transaction was included in:</p>
<pre><code class="language-sh">cast receipt $TX_HASH blockNumber
</code></pre>
</li>
</ol>
<h3 id="see-also-28"><a class="header" href="#see-also-28">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-call.html">cast call</a>, <a href="reference/cast/./cast-send.html">cast send</a>, <a href="reference/cast/./cast-publish.html">cast publish</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-send"><a class="header" href="#cast-send">cast send</a></h2>
<h3 id="name-34"><a class="header" href="#name-34">NAME</a></h3>
<p>cast-send - Sign and publish a transaction.</p>
<h3 id="synopsis-34"><a class="header" href="#synopsis-34">SYNOPSIS</a></h3>
<p><code>cast send</code> [<em>options</em>] <em>to</em> [<em>sig</em>] [<em>args...</em>]</p>
<h3 id="description-34"><a class="header" href="#description-34">DESCRIPTION</a></h3>
<p>Sign and publish a transaction.</p>
<p>The destination (<em>to</em>) can be an ENS name or an address.</p>
<p>The signature (<em>sig</em>) can be:</p>
<ul>
<li>A fragment: <code>someFunction(uint256,bytes32)</code></li>
<li>A selector and encoded calldata: <code>0xcdba2fd40000000000000000000000000000000000000000000000000000000000007a69</code></li>
<li>Only the function name: in this case Cast will try to fetch the function signature from Etherscan</li>
</ul>
<h3 id="options-32"><a class="header" href="#options-32">OPTIONS</a></h3>
<h4 id="transaction-options-1"><a class="header" href="#transaction-options-1">Transaction Options</a></h4>
<p><code>--gas</code> <em>gas</em><br />
    Gas limit for the transaction.</p>
<p><code>--gas-price</code> <em>price</em><br />
    Gas price for the transaction, or max fee per gas for EIP1559 transactions.</p>
<p><code>--priority-gas-price</code> <em>price</em><br />
    Max priority fee per gas for EIP1559 transactions.</p>
<p><code>--value</code> <em>value</em><br />
    Ether to send in the transaction.</p>
<p>    Either specified as an integer (wei), or as a string with a unit, for example:<br />
    - <code>1ether</code><br />
    - <code>10gwei</code><br />
    - <code>0.01ether</code></p>
<p><code>--nonce</code> <em>nonce</em><br />
    Nonce for the transaction.</p>
<p><code>--resend</code><br />
    Reuse the latest nonce of the sending account.</p>
<p><code>--legacy</code><br />
    Send a legacy transaction instead of an <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md">EIP1559</a> transaction.</p>
<p>    This is automatically enabled for common networks without EIP1559.</p>
<h4 id="receipt-options-1"><a class="header" href="#receipt-options-1">Receipt Options</a></h4>
<p><code>--cast-async</code><br />
    Do not wait for the transaction receipt if it does not exist yet.<br />
    Environment: <code>CAST_ASYNC</code></p>
<p><code>-c</code> <em>confirmations</em><br />
<code>--confirmations</code> <em>confirmations</em><br />
    Wait a number of confirmations before exiting. Default: <code>1</code>.</p>
<h4 id="wallet-options---raw-2"><a class="header" href="#wallet-options---raw-2">Wallet Options - Raw</a></h4>
<p><code>-i</code><br />
<code>--interactive</code><br />
    Open an interactive prompt to enter your private key.</p>
<p><code>--private-key</code> <em>raw_private_key</em><br />
    Use the provided private key.</p>
<p><code>--mnemonic-path</code> <em>path</em><br />
    Use the mnemonic file at the specified path.</p>
<p><code>--mnemonic-index</code> <em>index</em><br />
    Use the private key from the given mnemonic index. Used with <code>--mnemonic-path</code>.<br />
    Defaults to <code>0</code>.</p>
<h4 id="wallet-options---keystore-2"><a class="header" href="#wallet-options---keystore-2">Wallet Options - Keystore</a></h4>
<p><code>--keystore</code> <em>path</em><br />
    Use the keystore in the given folder or file.<br />
    Environment: <code>ETH_KEYSTORE</code></p>
<p><code>--password</code> <em>password</em><br />
    The keystore password. Used with <code>--keystore</code>.</p>
<h4 id="wallet-options---hardware-wallet-2"><a class="header" href="#wallet-options---hardware-wallet-2">Wallet Options - Hardware Wallet</a></h4>
<p><code>-t</code><br />
<code>--trezor</code><br />
    Use a Trezor hardware wallet.</p>
<p><code>-l</code><br />
<code>--ledger</code><br />
    Use a Ledger hardware wallet.</p>
<p><code>--hd-path</code> <em>path</em><br />
    The derivation path to use with hardware wallets.</p>
<h4 id="wallet-options---remote-2"><a class="header" href="#wallet-options---remote-2">Wallet Options - Remote</a></h4>
<p><code>-f</code> <em>address</em><br />
<code>--from</code> <em>address</em><br />
    Sign the transaction with the specified account on the RPC.<br />
    Environment: <code>ETH_FROM</code></p>
<h4 id="rpc-options-6"><a class="header" href="#rpc-options-6">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<p><code>--flashbots</code><br />
    Use the Flashbots RPC URL (<a href="https://rpc.flashbots.net">https://rpc.flashbots.net</a>).</p>
<h4 id="etherscan-options-1"><a class="header" href="#etherscan-options-1">Etherscan Options</a></h4>
<p><code>-c</code>  <em>chain_name</em><br />
<code>--chain</code> <em>chain_name</em><br />
    The Etherscan chain.</p>
<p><code>--etherscan-api-key</code> <em>key</em><br />
    Etherscan API key.<br />
    Environment: <code>ETHERSCAN_API_KEY</code></p>
<h4 id="display-options-6"><a class="header" href="#display-options-6">Display Options</a></h4>
<p><code>-j</code><br />
<code>--json</code><br />
    Output in JSON format.</p>
<h4 id="common-options-32"><a class="header" href="#common-options-32">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-31"><a class="header" href="#examples-31">EXAMPLES</a></h3>
<ol>
<li>
<p>Send some ether to Vitalik using your Ledger:</p>
<pre><code class="language-sh">cast send --ledger vitalik.eth --value 0.1ether
</code></pre>
</li>
<li>
<p>Call <code>deposit(address token, uint256 amount)</code> on a contract:</p>
<pre><code class="language-sh">cast send --ledger 0x... &quot;deposit(address,uint256)&quot; 0x... 1
</code></pre>
</li>
<li>
<p>Call a function that expects a <code>struct</code>:</p>
<pre><code class="language-solidity">contract Test {
    struct MyStruct {
        address addr;
        uint256 amount;
    }
    function myfunction(MyStruct memory t) public pure {}
}
</code></pre>
<p>Structs are encoded as tuples (see <a href="reference/cast/./reference/common/struct-encoding.html">struct encoding</a>)</p>
<pre><code class="language-sh">cast send &quot;myfunction((address,uint256))&quot; 0x... &quot;(0x...,1)&quot;
</code></pre>
</li>
</ol>
<h3 id="see-also-29"><a class="header" href="#see-also-29">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-call.html">cast call</a>, <a href="reference/cast/./cast-publish.html">cast publish</a>, <a href="reference/cast/./cast-receipt.html">cast receipt</a>, <a href="reference/cast/./misc/struct-encoding.html">struct encoding</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-call"><a class="header" href="#cast-call">cast call</a></h2>
<h3 id="name-35"><a class="header" href="#name-35">NAME</a></h3>
<p>cast-call - Perform a call on an account without publishing a transaction.</p>
<h3 id="synopsis-35"><a class="header" href="#synopsis-35">SYNOPSIS</a></h3>
<p><code>cast call</code> [<em>options</em>] <em>to</em> <em>sig</em> [<em>args...</em>]</p>
<h3 id="description-35"><a class="header" href="#description-35">DESCRIPTION</a></h3>
<p>Perform a call on an account without publishing a transaction.</p>
<p>The destination (<em>to</em>) can be an ENS name or an address.</p>
<p>The signature (<em>sig</em>) can be:</p>
<ul>
<li>A fragment: <code>someFunction(uint256,bytes32)</code></li>
<li>A selector and encoded calldata: <code>0xcdba2fd40000000000000000000000000000000000000000000000000000000000007a69</code></li>
<li>Only the function name: in this case Cast will try to fetch the function signature from Etherscan</li>
</ul>
<h3 id="options-33"><a class="header" href="#options-33">OPTIONS</a></h3>
<h4 id="query-options"><a class="header" href="#query-options">Query Options</a></h4>
<p><code>-B</code> <em>block</em><br />
<code>--block</code> <em>block</em><br />
    The block height you want to query at.</p>
<p>    Can be a block number, or any of the tags: <code>earliest</code>, <code>latest</code> or <code>pending</code>.</p>
<h4 id="wallet-options---raw-3"><a class="header" href="#wallet-options---raw-3">Wallet Options - Raw</a></h4>
<p><code>-i</code><br />
<code>--interactive</code><br />
    Open an interactive prompt to enter your private key.</p>
<p><code>--private-key</code> <em>raw_private_key</em><br />
    Use the provided private key.</p>
<p><code>--mnemonic-path</code> <em>path</em><br />
    Use the mnemonic file at the specified path.</p>
<p><code>--mnemonic-index</code> <em>index</em><br />
    Use the private key from the given mnemonic index. Used with <code>--mnemonic-path</code>.<br />
    Defaults to <code>0</code>.</p>
<h4 id="wallet-options---keystore-3"><a class="header" href="#wallet-options---keystore-3">Wallet Options - Keystore</a></h4>
<p><code>--keystore</code> <em>path</em><br />
    Use the keystore in the given folder or file.<br />
    Environment: <code>ETH_KEYSTORE</code></p>
<p><code>--password</code> <em>password</em><br />
    The keystore password. Used with <code>--keystore</code>.</p>
<h4 id="wallet-options---hardware-wallet-3"><a class="header" href="#wallet-options---hardware-wallet-3">Wallet Options - Hardware Wallet</a></h4>
<p><code>-t</code><br />
<code>--trezor</code><br />
    Use a Trezor hardware wallet.</p>
<p><code>-l</code><br />
<code>--ledger</code><br />
    Use a Ledger hardware wallet.</p>
<p><code>--hd-path</code> <em>path</em><br />
    The derivation path to use with hardware wallets.</p>
<h4 id="wallet-options---remote-3"><a class="header" href="#wallet-options---remote-3">Wallet Options - Remote</a></h4>
<p><code>-f</code> <em>address</em><br />
<code>--from</code> <em>address</em><br />
    Sign the transaction with the specified account on the RPC.<br />
    Environment: <code>ETH_FROM</code></p>
<h4 id="rpc-options-7"><a class="header" href="#rpc-options-7">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<p><code>--flashbots</code><br />
    Use the Flashbots RPC URL (<a href="https://rpc.flashbots.net">https://rpc.flashbots.net</a>).</p>
<h4 id="etherscan-options-2"><a class="header" href="#etherscan-options-2">Etherscan Options</a></h4>
<p><code>-c</code>  <em>chain_name</em><br />
<code>--chain</code> <em>chain_name</em><br />
    The Etherscan chain.</p>
<p><code>--etherscan-api-key</code> <em>key</em><br />
    Etherscan API key.<br />
    Environment: <code>ETHERSCAN_API_KEY</code></p>
<h4 id="common-options-33"><a class="header" href="#common-options-33">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-32"><a class="header" href="#examples-32">EXAMPLES</a></h3>
<ol>
<li>Call <code>balanceOf(address)</code> on the WETH contract:
<pre><code class="language-sh">cast call 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2 \
  &quot;balanceOf(address)(uint256)&quot; 0x...
</code></pre>
</li>
</ol>
<h3 id="see-also-30"><a class="header" href="#see-also-30">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-send.html">cast send</a>, <a href="reference/cast/./cast-publish.html">cast publish</a>, <a href="reference/cast/./cast-receipt.html">cast receipt</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-tx"><a class="header" href="#cast-tx">cast tx</a></h2>
<h3 id="name-36"><a class="header" href="#name-36">NAME</a></h3>
<p>cast-tx - Get information about a transaction.</p>
<h3 id="synopsis-36"><a class="header" href="#synopsis-36">SYNOPSIS</a></h3>
<p><code>cast tx</code> [<em>options</em>] <em>tx_hash</em> [<em>field</em>]</p>
<h3 id="description-36"><a class="header" href="#description-36">DESCRIPTION</a></h3>
<p>Get information about a transaction.</p>
<p>If <em>field</em> is specified, then only the given field of the transaction is displayed.</p>
<h3 id="options-34"><a class="header" href="#options-34">OPTIONS</a></h3>
<h4 id="rpc-options-8"><a class="header" href="#rpc-options-8">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="display-options-7"><a class="header" href="#display-options-7">Display Options</a></h4>
<p><code>-j</code><br />
<code>--json</code><br />
    Output in JSON format.</p>
<h4 id="common-options-34"><a class="header" href="#common-options-34">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-33"><a class="header" href="#examples-33">EXAMPLES</a></h3>
<ol>
<li>
<p>Get information about a transaction:</p>
<pre><code class="language-sh">cast tx $TX_HASH
</code></pre>
</li>
<li>
<p>Get the sender of a transaction:</p>
<pre><code class="language-sh">cast tx $TX_HASH from
</code></pre>
</li>
</ol>
<h3 id="see-also-31"><a class="header" href="#see-also-31">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-receipt.html">cast receipt</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-run"><a class="header" href="#cast-run">cast run</a></h2>
<h3 id="name-37"><a class="header" href="#name-37">NAME</a></h3>
<p>cast-run - Runs a published transaction in a local environment and prints the trace.</p>
<h3 id="synopsis-37"><a class="header" href="#synopsis-37">SYNOPSIS</a></h3>
<p><code>cast run</code> [<em>options</em>] <code>--rpc-url</code> <em>url</em> <em>tx_hash</em></p>
<h3 id="description-37"><a class="header" href="#description-37">DESCRIPTION</a></h3>
<p>Runs a published transaction in a local environment and prints the trace.</p>
<p>By default, all transactions in the block prior to the transaction you want to replay are also replayed.
If you want a quicker result, you can use <code>--quick</code>, however, results may differ from the live execution.</p>
<p>You can also open the transaction in a debugger by passing <code>--debug</code>.</p>
<h3 id="options-35"><a class="header" href="#options-35">OPTIONS</a></h3>
<h4 id="run-options"><a class="header" href="#run-options">Run Options</a></h4>
<p><code>--label</code> <em>label</em><br />
    Labels an address in the trace.<br />
    The format is <code>&lt;address&gt;:&lt;label&gt;</code>. Can be passed multiple times.</p>
<p><code>-q</code><br />
<code>--quick</code><br />
    Executes the transaction only with the state from the previous block.<br />
    May result in different results than the live execution!</p>
<p><code>-v</code><br />
<code>--verbose</code><br />
    Addresses are fully displayed instead of being truncated.</p>
<p><code>-d</code><br />
<code>--debug</code><br />
    Open the script in the <a href="reference/cast/../../forge/debugger.html">debugger</a>.</p>
<h4 id="rpc-options-9"><a class="header" href="#rpc-options-9">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-35"><a class="header" href="#common-options-35">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-34"><a class="header" href="#examples-34">EXAMPLES</a></h3>
<ol>
<li>
<p>Replay a transaction (a simple transfer):</p>
<pre><code class="language-sh">cast run 0xd15e0237413d7b824b784e1bbc3926e52f4726e5e5af30418803b8b327b4f8ca
</code></pre>
</li>
<li>
<p>Replay a transaction, applied on top of the state of the previous block:</p>
<pre><code class="language-sh">cast run --quick \
  0xd15e0237413d7b824b784e1bbc3926e52f4726e5e5af30418803b8b327b4f8ca
</code></pre>
</li>
<li>
<p>Replay a transaction with address labels:</p>
<pre><code class="language-sh">cast run \
  --label 0xc564ee9f21ed8a2d8e7e76c085740d5e4c5fafbe:sender \
  --label 0x40950267d12e979ad42974be5ac9a7e452f9505e:recipient \
  --label 0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2:weth \
  0xd15e0237413d7b824b784e1bbc3926e52f4726e5e5af30418803b8b327b4f8ca
</code></pre>
</li>
<li>
<p>Replay a transaction in the debugger:</p>
<pre><code class="language-sh">cast run --debug \
  0xd15e0237413d7b824b784e1bbc3926e52f4726e5e5af30418803b8b327b4f8ca
</code></pre>
</li>
</ol>
<h3 id="see-also-32"><a class="header" href="#see-also-32">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-estimate"><a class="header" href="#cast-estimate">cast estimate</a></h2>
<h3 id="name-38"><a class="header" href="#name-38">NAME</a></h3>
<p>cast-estimate - Estimate the gas cost of a transaction.</p>
<h3 id="synopsis-38"><a class="header" href="#synopsis-38">SYNOPSIS</a></h3>
<p><code>cast estimate</code> [<em>options</em>] <em>to</em> <em>sig</em> [<em>args...</em>]</p>
<h3 id="description-38"><a class="header" href="#description-38">DESCRIPTION</a></h3>
<p>Estimate the gas cost of a transaction.</p>
<p>The destination (<em>to</em>) can be an ENS name or an address.</p>
<p>The signature (<em>sig</em>) can be:</p>
<ul>
<li>A fragment: <code>someFunction(uint256,bytes32)</code></li>
<li>A selector and encoded calldata: <code>0xcdba2fd40000000000000000000000000000000000000000000000000000000000007a69</code></li>
<li>Only the function name: in this case Cast will try to fetch the function signature from Etherscan</li>
</ul>
<h3 id="options-36"><a class="header" href="#options-36">OPTIONS</a></h3>
<h4 id="transaction-options-2"><a class="header" href="#transaction-options-2">Transaction Options</a></h4>
<p><code>--value</code> <em>value</em><br />
    Ether to send in the transaction.</p>
<p>    Either specified as an integer (wei), or as a string with a unit, for example:<br />
    - <code>1ether</code><br />
    - <code>10gwei</code><br />
    - <code>0.01ether</code></p>
<h4 id="rpc-options-10"><a class="header" href="#rpc-options-10">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<p><code>--flashbots</code><br />
    Use the Flashbots RPC URL (<a href="https://rpc.flashbots.net">https://rpc.flashbots.net</a>).</p>
<h4 id="etherscan-options-3"><a class="header" href="#etherscan-options-3">Etherscan Options</a></h4>
<p><code>-c</code>  <em>chain_name</em><br />
<code>--chain</code> <em>chain_name</em><br />
    The Etherscan chain.</p>
<p><code>--etherscan-api-key</code> <em>key</em><br />
    Etherscan API key.<br />
    Environment: <code>ETHERSCAN_API_KEY</code></p>
<h4 id="common-options-36"><a class="header" href="#common-options-36">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-35"><a class="header" href="#examples-35">EXAMPLES</a></h3>
<ol>
<li>Estimate the gas cost of calling <code>deposit()</code> on the WETH contract:
<pre><code class="language-sh">cast estimate 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2 \
  --value 0.1ether &quot;deposit()&quot;
</code></pre>
</li>
</ol>
<h3 id="see-also-33"><a class="header" href="#see-also-33">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-send.html">cast send</a>, <a href="reference/cast/./cast-publish.html">cast publish</a>, <a href="reference/cast/./cast-receipt.html">cast receipt</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-access-list"><a class="header" href="#cast-access-list">cast access-list</a></h2>
<h3 id="name-39"><a class="header" href="#name-39">NAME</a></h3>
<p>cast-access-list - Create an access list for a transaction.</p>
<h3 id="synopsis-39"><a class="header" href="#synopsis-39">SYNOPSIS</a></h3>
<p><code>cast access-list</code> [<em>options</em>] <em>to</em> <em>sig</em> [<em>args...</em>]</p>
<h3 id="description-39"><a class="header" href="#description-39">DESCRIPTION</a></h3>
<p>Create an access list for a transaction.</p>
<p>The destination (<em>to</em>) can be an ENS name or an address.</p>
<p>The signature (<em>sig</em>) can be:</p>
<ul>
<li>A fragment: <code>someFunction(uint256,bytes32)</code></li>
<li>A selector and encoded calldata: <code>0xcdba2fd40000000000000000000000000000000000000000000000000000000000007a69</code></li>
<li>Only the function name: in this case Cast will try to fetch the function signature from Etherscan</li>
</ul>
<h3 id="options-37"><a class="header" href="#options-37">OPTIONS</a></h3>
<h4 id="query-options-1"><a class="header" href="#query-options-1">Query Options</a></h4>
<p><code>-B</code> <em>block</em><br />
<code>--block</code> <em>block</em><br />
    The block height you want to query at.</p>
<p>    Can be a block number, or any of the tags: <code>earliest</code>, <code>latest</code> or <code>pending</code>.</p>
<h4 id="wallet-options---raw-4"><a class="header" href="#wallet-options---raw-4">Wallet Options - Raw</a></h4>
<p><code>-i</code><br />
<code>--interactive</code><br />
    Open an interactive prompt to enter your private key.</p>
<p><code>--private-key</code> <em>raw_private_key</em><br />
    Use the provided private key.</p>
<p><code>--mnemonic-path</code> <em>path</em><br />
    Use the mnemonic file at the specified path.</p>
<p><code>--mnemonic-index</code> <em>index</em><br />
    Use the private key from the given mnemonic index. Used with <code>--mnemonic-path</code>.<br />
    Defaults to <code>0</code>.</p>
<h4 id="wallet-options---keystore-4"><a class="header" href="#wallet-options---keystore-4">Wallet Options - Keystore</a></h4>
<p><code>--keystore</code> <em>path</em><br />
    Use the keystore in the given folder or file.<br />
    Environment: <code>ETH_KEYSTORE</code></p>
<p><code>--password</code> <em>password</em><br />
    The keystore password. Used with <code>--keystore</code>.</p>
<h4 id="wallet-options---hardware-wallet-4"><a class="header" href="#wallet-options---hardware-wallet-4">Wallet Options - Hardware Wallet</a></h4>
<p><code>-t</code><br />
<code>--trezor</code><br />
    Use a Trezor hardware wallet.</p>
<p><code>-l</code><br />
<code>--ledger</code><br />
    Use a Ledger hardware wallet.</p>
<p><code>--hd-path</code> <em>path</em><br />
    The derivation path to use with hardware wallets.</p>
<h4 id="wallet-options---remote-4"><a class="header" href="#wallet-options---remote-4">Wallet Options - Remote</a></h4>
<p><code>-f</code> <em>address</em><br />
<code>--from</code> <em>address</em><br />
    Sign the transaction with the specified account on the RPC.<br />
    Environment: <code>ETH_FROM</code></p>
<h4 id="rpc-options-11"><a class="header" href="#rpc-options-11">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<p><code>--flashbots</code><br />
    Use the Flashbots RPC URL (<a href="https://rpc.flashbots.net">https://rpc.flashbots.net</a>).</p>
<h4 id="etherscan-options-4"><a class="header" href="#etherscan-options-4">Etherscan Options</a></h4>
<p><code>-c</code>  <em>chain_name</em><br />
<code>--chain</code> <em>chain_name</em><br />
    The Etherscan chain.</p>
<p><code>--etherscan-api-key</code> <em>key</em><br />
    Etherscan API key.<br />
    Environment: <code>ETHERSCAN_API_KEY</code></p>
<h4 id="common-options-37"><a class="header" href="#common-options-37">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-34"><a class="header" href="#see-also-34">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-send.html">cast send</a>, <a href="reference/cast/./cast-publish.html">cast publish</a>, <a href="reference/cast/./cast-call.html">cast call</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="block-commands-1"><a class="header" href="#block-commands-1">Block Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast-find-block.html">cast find-block</a></li>
<li><a href="reference/cast/./cast-gas-price.html">cast gas-price</a></li>
<li><a href="reference/cast/./cast-block-number.html">cast block-number</a></li>
<li><a href="reference/cast/./cast-basefee.html">cast basefee</a></li>
<li><a href="reference/cast/./cast-block.html">cast block</a></li>
<li><a href="reference/cast/./cast-age.html">cast age</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-find-block"><a class="header" href="#cast-find-block">cast find-block</a></h2>
<h3 id="name-40"><a class="header" href="#name-40">NAME</a></h3>
<p>cast-find-block - Get the block number closest to the provided timestamp.</p>
<h3 id="synopsis-40"><a class="header" href="#synopsis-40">SYNOPSIS</a></h3>
<p><code>cast find-block</code> [<em>options</em>] <em>timestamp</em></p>
<h3 id="description-40"><a class="header" href="#description-40">DESCRIPTION</a></h3>
<p>Get the block number closest to the provided timestamp.</p>
<h3 id="options-38"><a class="header" href="#options-38">OPTIONS</a></h3>
<h4 id="rpc-options-12"><a class="header" href="#rpc-options-12">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-38"><a class="header" href="#common-options-38">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-36"><a class="header" href="#examples-36">EXAMPLES</a></h3>
<ol>
<li>Get the block number closest to New Years 2021
<pre><code class="language-sh">cast find-block 1609459200
</code></pre>
</li>
</ol>
<h3 id="see-also-35"><a class="header" href="#see-also-35">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-gas-price"><a class="header" href="#cast-gas-price">cast gas-price</a></h2>
<h3 id="name-41"><a class="header" href="#name-41">NAME</a></h3>
<p>cast-gas-price - Get the current gas price.</p>
<h3 id="synopsis-41"><a class="header" href="#synopsis-41">SYNOPSIS</a></h3>
<p><code>cast gas-price</code> [<em>options</em>]</p>
<h3 id="description-41"><a class="header" href="#description-41">DESCRIPTION</a></h3>
<p>Get the current gas price.</p>
<h3 id="options-39"><a class="header" href="#options-39">OPTIONS</a></h3>
<h4 id="rpc-options-13"><a class="header" href="#rpc-options-13">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-39"><a class="header" href="#common-options-39">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-37"><a class="header" href="#examples-37">EXAMPLES</a></h3>
<ol>
<li>Get the current gas price:
<pre><code class="language-sh">cast gas-price
</code></pre>
</li>
</ol>
<h3 id="see-also-36"><a class="header" href="#see-also-36">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-basefee.html">cast basefee</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-block-number"><a class="header" href="#cast-block-number">cast block-number</a></h2>
<h3 id="name-42"><a class="header" href="#name-42">NAME</a></h3>
<p>cast-block-number - Get the latest block number.</p>
<h3 id="synopsis-42"><a class="header" href="#synopsis-42">SYNOPSIS</a></h3>
<p><code>cast block-number</code> [<em>options</em>]</p>
<h3 id="description-42"><a class="header" href="#description-42">DESCRIPTION</a></h3>
<p>Get the latest block number.</p>
<h3 id="options-40"><a class="header" href="#options-40">OPTIONS</a></h3>
<h4 id="rpc-options-14"><a class="header" href="#rpc-options-14">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-40"><a class="header" href="#common-options-40">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-38"><a class="header" href="#examples-38">EXAMPLES</a></h3>
<ol>
<li>Get the latest block number:
<pre><code class="language-sh">cast block-number
</code></pre>
</li>
</ol>
<h3 id="see-also-37"><a class="header" href="#see-also-37">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-block.html">cast block</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-basefee"><a class="header" href="#cast-basefee">cast basefee</a></h2>
<h3 id="name-43"><a class="header" href="#name-43">NAME</a></h3>
<p>cast-basefee - Get the basefee of a block.</p>
<h3 id="synopsis-43"><a class="header" href="#synopsis-43">SYNOPSIS</a></h3>
<p><code>cast basefee</code> [<em>options</em>] <em>block</em></p>
<h3 id="description-43"><a class="header" href="#description-43">DESCRIPTION</a></h3>
<p>Get the basefee of a block.</p>
<h3 id="options-41"><a class="header" href="#options-41">OPTIONS</a></h3>
<h4 id="query-options-2"><a class="header" href="#query-options-2">Query Options</a></h4>
<p><code>-B</code> <em>block</em><br />
<code>--block</code> <em>block</em><br />
    The block height you want to query at.</p>
<p>    Can be a block number, or any of the tags: <code>earliest</code>, <code>latest</code> or <code>pending</code>.</p>
<h4 id="rpc-options-15"><a class="header" href="#rpc-options-15">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-41"><a class="header" href="#common-options-41">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-39"><a class="header" href="#examples-39">EXAMPLES</a></h3>
<ol>
<li>
<p>Get the basefee of the latest block:</p>
<pre><code class="language-sh">cast basefee latest
</code></pre>
</li>
<li>
<p>Get the basefee of the genesis block:</p>
<pre><code class="language-sh">cast basefee 1
</code></pre>
</li>
</ol>
<h3 id="see-also-38"><a class="header" href="#see-also-38">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-block.html">cast block</a>, <a href="reference/cast/./cast-age.html">cast age</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-block"><a class="header" href="#cast-block">cast block</a></h2>
<h3 id="name-44"><a class="header" href="#name-44">NAME</a></h3>
<p>cast-block - Get information about a block.</p>
<h3 id="synopsis-44"><a class="header" href="#synopsis-44">SYNOPSIS</a></h3>
<p><code>cast block</code> [<em>options</em>] <code>--block</code> <em>block</em></p>
<h3 id="description-44"><a class="header" href="#description-44">DESCRIPTION</a></h3>
<p>Get information about a block.</p>
<p>If <em>field</em> is specified, then only the given field of the block is displayed.</p>
<h3 id="options-42"><a class="header" href="#options-42">OPTIONS</a></h3>
<h4 id="query-options-3"><a class="header" href="#query-options-3">Query Options</a></h4>
<p><code>-B</code> <em>block</em><br />
<code>--block</code> <em>block</em><br />
    The block height you want to query at.</p>
<p>    Can be a block number, or any of the tags: <code>earliest</code>, <code>latest</code> or <code>pending</code>.</p>
<p><code>-f</code> <em>field</em><br />
<code>--field</code> <em>field</em><br />
    If specified, only get the given field of the block.</p>
<h4 id="display-options-8"><a class="header" href="#display-options-8">Display Options</a></h4>
<p><code>-j</code><br />
<code>--json</code><br />
    Output in JSON format.</p>
<h4 id="rpc-options-16"><a class="header" href="#rpc-options-16">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-42"><a class="header" href="#common-options-42">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-40"><a class="header" href="#examples-40">EXAMPLES</a></h3>
<ol>
<li>
<p>Get the latest block:</p>
<pre><code class="language-sh">cast block --block latest
</code></pre>
</li>
<li>
<p>Get the hash of the latest block:</p>
<pre><code class="language-sh">cast block --block latest --field hash
</code></pre>
</li>
</ol>
<h3 id="see-also-39"><a class="header" href="#see-also-39">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-basefee.html">cast basefee</a>, <a href="reference/cast/./cast-age.html">cast age</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-age"><a class="header" href="#cast-age">cast age</a></h2>
<h3 id="name-45"><a class="header" href="#name-45">NAME</a></h3>
<p>cast-age - Get the timestamp of a block.</p>
<h3 id="synopsis-45"><a class="header" href="#synopsis-45">SYNOPSIS</a></h3>
<p><code>cast age</code> [<em>options</em>]</p>
<h3 id="description-45"><a class="header" href="#description-45">DESCRIPTION</a></h3>
<p>Get the timestamp of a block.</p>
<h3 id="options-43"><a class="header" href="#options-43">OPTIONS</a></h3>
<h4 id="query-options-4"><a class="header" href="#query-options-4">Query Options</a></h4>
<p><code>-B</code> <em>block</em><br />
<code>--block</code> <em>block</em><br />
    The block height you want to query at.</p>
<p>    Can be a block number, or any of the tags: <code>earliest</code>, <code>latest</code> or <code>pending</code>.</p>
<h4 id="rpc-options-17"><a class="header" href="#rpc-options-17">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-43"><a class="header" href="#common-options-43">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-41"><a class="header" href="#examples-41">EXAMPLES</a></h3>
<ol>
<li>
<p>Get the timestamp of the latest block:</p>
<pre><code class="language-sh">cast age latest
</code></pre>
</li>
<li>
<p>Get the timestamp of the genesis block:</p>
<pre><code class="language-sh">cast age 1
</code></pre>
</li>
</ol>
<h3 id="see-also-40"><a class="header" href="#see-also-40">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-block.html">cast block</a>, <a href="reference/cast/./cast-basefee.html">cast basefee</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="account-commands-1"><a class="header" href="#account-commands-1">Account Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast-balance.html">cast balance</a></li>
<li><a href="reference/cast/./cast-storage.html">cast storage</a></li>
<li><a href="reference/cast/./cast-proof.html">cast proof</a></li>
<li><a href="reference/cast/./cast-nonce.html">cast nonce</a></li>
<li><a href="reference/cast/./cast-code.html">cast code</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-balance"><a class="header" href="#cast-balance">cast balance</a></h2>
<h3 id="name-46"><a class="header" href="#name-46">NAME</a></h3>
<p>cast-balance - Get the nonce of an account in wei.</p>
<h3 id="synopsis-46"><a class="header" href="#synopsis-46">SYNOPSIS</a></h3>
<p><code>cast balance</code> [<em>options</em>] <em>who</em></p>
<h3 id="description-46"><a class="header" href="#description-46">DESCRIPTION</a></h3>
<p>Get the balance of an account.</p>
<p>The argument <em>who</em> can be an ENS name or an address.</p>
<h3 id="options-44"><a class="header" href="#options-44">OPTIONS</a></h3>
<h4 id="query-options-5"><a class="header" href="#query-options-5">Query Options</a></h4>
<p><code>-B</code> <em>block</em><br />
<code>--block</code> <em>block</em><br />
    The block height you want to query at.</p>
<p>    Can be a block number, or any of the tags: <code>earliest</code>, <code>latest</code> or <code>pending</code>.</p>
<h4 id="rpc-options-18"><a class="header" href="#rpc-options-18">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-44"><a class="header" href="#common-options-44">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-42"><a class="header" href="#examples-42">EXAMPLES</a></h3>
<ol>
<li>Get the balance of beer.eth
<pre><code class="language-sh">cast balance beer.eth
</code></pre>
</li>
</ol>
<h3 id="see-also-41"><a class="header" href="#see-also-41">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-nonce.html">cast nonce</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-storage"><a class="header" href="#cast-storage">cast storage</a></h2>
<h3 id="name-47"><a class="header" href="#name-47">NAME</a></h3>
<p>cast-storage - Get the raw value of a contract's storage slot.</p>
<h3 id="synopsis-47"><a class="header" href="#synopsis-47">SYNOPSIS</a></h3>
<p><code>cast storage</code> [<em>options</em>] <em>address</em> <em>slot</em></p>
<h3 id="description-47"><a class="header" href="#description-47">DESCRIPTION</a></h3>
<p>Get the raw value of a contract's storage slot.</p>
<p>The address (<em>address</em>) can be an ENS name or an address.</p>
<h3 id="options-45"><a class="header" href="#options-45">OPTIONS</a></h3>
<h4 id="query-options-6"><a class="header" href="#query-options-6">Query Options</a></h4>
<p><code>-B</code> <em>block</em><br />
<code>--block</code> <em>block</em><br />
    The block height you want to query at.</p>
<p>    Can be a block number, or any of the tags: <code>earliest</code>, <code>latest</code> or <code>pending</code>.</p>
<h4 id="rpc-options-19"><a class="header" href="#rpc-options-19">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-45"><a class="header" href="#common-options-45">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-43"><a class="header" href="#examples-43">EXAMPLES</a></h3>
<ol>
<li>Get the value of slot 0 on the WETH contract.
<pre><code class="language-sh">cast storage 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2 0
</code></pre>
</li>
</ol>
<h3 id="see-also-42"><a class="header" href="#see-also-42">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-proof.html">cast proof</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-proof"><a class="header" href="#cast-proof">cast proof</a></h2>
<h3 id="name-48"><a class="header" href="#name-48">NAME</a></h3>
<p>cast-proof - Generate a storage proof for a given storage slot.</p>
<h3 id="synopsis-48"><a class="header" href="#synopsis-48">SYNOPSIS</a></h3>
<p><code>cast proof</code> [<em>options</em>] <em>address</em> [<em>slots...</em>]</p>
<h3 id="description-48"><a class="header" href="#description-48">DESCRIPTION</a></h3>
<p>Generate a storage proof for a given storage slot.</p>
<p>The address (<em>address</em>) can be an ENS name or an address.</p>
<p>The displayed output is a JSON object with the following keys:</p>
<ul>
<li><code>accountProof</code>: Proof for the account itself</li>
<li><code>address</code>: The address of the account</li>
<li><code>balance</code>: The balance of the account</li>
<li><code>codeHash</code>: A hash of the account's code</li>
<li><code>nonce</code>: The nonce of the account</li>
<li><code>storageHash</code>: A hash of the account's storage</li>
<li><code>storageProof</code>: An array of storage proofs, one for each requested slot</li>
<li><code>storageProof.key</code>: The slot</li>
<li><code>storageProof.proof</code>: The proof for the slot</li>
<li><code>storageProof.value</code>: The value of the slot</li>
</ul>
<h3 id="options-46"><a class="header" href="#options-46">OPTIONS</a></h3>
<h4 id="query-options-7"><a class="header" href="#query-options-7">Query Options</a></h4>
<p><code>-B</code> <em>block</em><br />
<code>--block</code> <em>block</em><br />
    The block height you want to query at.</p>
<p>    Can be a block number, or any of the tags: <code>earliest</code>, <code>latest</code> or <code>pending</code>.</p>
<h4 id="rpc-options-20"><a class="header" href="#rpc-options-20">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="display-options-9"><a class="header" href="#display-options-9">Display Options</a></h4>
<p><code>-j</code><br />
<code>--json</code><br />
    Output in JSON format.</p>
<h4 id="common-options-46"><a class="header" href="#common-options-46">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-44"><a class="header" href="#examples-44">EXAMPLES</a></h3>
<ol>
<li>Get the proof for storage slot 0 on the WETH contract:
<pre><code class="language-sh">cast proof 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2 0
</code></pre>
</li>
</ol>
<h3 id="see-also-43"><a class="header" href="#see-also-43">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-storage.html">cast storage</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-nonce"><a class="header" href="#cast-nonce">cast nonce</a></h2>
<h3 id="name-49"><a class="header" href="#name-49">NAME</a></h3>
<p>cast-nonce - Get the nonce for an account.</p>
<h3 id="synopsis-49"><a class="header" href="#synopsis-49">SYNOPSIS</a></h3>
<p><code>cast nonce</code> [<em>options</em>] <em>who</em></p>
<h3 id="description-49"><a class="header" href="#description-49">DESCRIPTION</a></h3>
<p>Get the nonce of an account.</p>
<p>The argument <em>who</em> can be an ENS name or an address.</p>
<h3 id="options-47"><a class="header" href="#options-47">OPTIONS</a></h3>
<h4 id="query-options-8"><a class="header" href="#query-options-8">Query Options</a></h4>
<p><code>-B</code> <em>block</em><br />
<code>--block</code> <em>block</em><br />
    The block height you want to query at.</p>
<p>    Can be a block number, or any of the tags: <code>earliest</code>, <code>latest</code> or <code>pending</code>.</p>
<h4 id="rpc-options-21"><a class="header" href="#rpc-options-21">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-47"><a class="header" href="#common-options-47">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-45"><a class="header" href="#examples-45">EXAMPLES</a></h3>
<ol>
<li>Get the nonce of beer.eth
<pre><code class="language-sh">cast nonce beer.eth
</code></pre>
</li>
</ol>
<h3 id="see-also-44"><a class="header" href="#see-also-44">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-balance.html">cast balance</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-code"><a class="header" href="#cast-code">cast code</a></h2>
<h3 id="name-50"><a class="header" href="#name-50">NAME</a></h3>
<p>cast-code - Get the bytecode of a contract.</p>
<h3 id="synopsis-50"><a class="header" href="#synopsis-50">SYNOPSIS</a></h3>
<p><code>cast code</code> [<em>options</em>] <em>address</em></p>
<h3 id="description-50"><a class="header" href="#description-50">DESCRIPTION</a></h3>
<p>Get the bytecode of a contract.</p>
<p>The contract (<em>address</em>) can be an ENS name or an address.</p>
<h3 id="options-48"><a class="header" href="#options-48">OPTIONS</a></h3>
<h4 id="query-options-9"><a class="header" href="#query-options-9">Query Options</a></h4>
<p><code>-B</code> <em>block</em><br />
<code>--block</code> <em>block</em><br />
    The block height you want to query at.</p>
<p>    Can be a block number, or any of the tags: <code>earliest</code>, <code>latest</code> or <code>pending</code>.</p>
<h4 id="rpc-options-22"><a class="header" href="#rpc-options-22">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-48"><a class="header" href="#common-options-48">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-46"><a class="header" href="#examples-46">EXAMPLES</a></h3>
<ol>
<li>Get the bytecode of the WETH contract.
<pre><code class="language-sh">cast code 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
</code></pre>
</li>
</ol>
<h3 id="see-also-45"><a class="header" href="#see-also-45">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-proof.html">cast proof</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ens-commands-1"><a class="header" href="#ens-commands-1">ENS Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast-lookup-address.html">cast lookup-address</a></li>
<li><a href="reference/cast/./cast-resolve-name.html">cast resolve-name</a></li>
<li><a href="reference/cast/./cast-namehash.html">cast namehash</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-lookup-address"><a class="header" href="#cast-lookup-address">cast lookup-address</a></h2>
<h3 id="name-51"><a class="header" href="#name-51">NAME</a></h3>
<p>cast-lookup-address - Perform an ENS reverse lookup.</p>
<h3 id="synopsis-51"><a class="header" href="#synopsis-51">SYNOPSIS</a></h3>
<p><code>cast lookup-address</code> [<em>options</em>] <em>who</em></p>
<h3 id="description-51"><a class="header" href="#description-51">DESCRIPTION</a></h3>
<p>Perform an ENS reverse lookup.</p>
<p>If <code>--verify</code> is passed, then a normal lookup is performed after the reverse lookup to verify that the address is correct.</p>
<h3 id="options-49"><a class="header" href="#options-49">OPTIONS</a></h3>
<h4 id="lookup-options"><a class="header" href="#lookup-options">Lookup Options</a></h4>
<p><code>-v</code><br />
<code>--verify</code><br />
    Perform a normal lookup to verify that the address is correct.</p>
<h4 id="rpc-options-23"><a class="header" href="#rpc-options-23">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-49"><a class="header" href="#common-options-49">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-47"><a class="header" href="#examples-47">EXAMPLES</a></h3>
<ol>
<li>
<p>Get the ENS name for an address.</p>
<pre><code class="language-sh">cast lookup-address $ADDRESS
</code></pre>
</li>
<li>
<p>Perform both a reverse and a normal lookup:</p>
<pre><code class="language-sh">cast lookup-address --verify $ADDRESS
</code></pre>
</li>
</ol>
<h3 id="see-also-46"><a class="header" href="#see-also-46">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-resolve-name.html">cast resolve-name</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-resolve-name"><a class="header" href="#cast-resolve-name">cast resolve-name</a></h2>
<h3 id="name-52"><a class="header" href="#name-52">NAME</a></h3>
<p>cast-resolve-name - Perform an ENS lookup.</p>
<h3 id="synopsis-52"><a class="header" href="#synopsis-52">SYNOPSIS</a></h3>
<p><code>cast lookup-address</code> [<em>options</em>] <em>who</em></p>
<h3 id="description-52"><a class="header" href="#description-52">DESCRIPTION</a></h3>
<p>Perform an ENS lookup.</p>
<p>If <code>--verify</code> is passed, then a reverse lookup is performed after the normal lookup to verify that the name is correct.</p>
<h3 id="options-50"><a class="header" href="#options-50">OPTIONS</a></h3>
<h4 id="lookup-options-1"><a class="header" href="#lookup-options-1">Lookup Options</a></h4>
<p><code>-v</code><br />
<code>--verify</code><br />
    Perform a reverse lookup to verify that the name is correct.</p>
<h4 id="rpc-options-24"><a class="header" href="#rpc-options-24">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-50"><a class="header" href="#common-options-50">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-48"><a class="header" href="#examples-48">EXAMPLES</a></h3>
<ol>
<li>
<p>Get the address for an ENS name.</p>
<pre><code class="language-sh">cast resolve-name vitalik.eth
</code></pre>
</li>
<li>
<p>Perform both a normal and a reverse lookup:</p>
<pre><code class="language-sh">cast resolve-name --verify vitalik.eth
</code></pre>
</li>
</ol>
<h3 id="see-also-47"><a class="header" href="#see-also-47">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-lookup-address.html">cast lookup-address</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-namehash"><a class="header" href="#cast-namehash">cast namehash</a></h2>
<h3 id="name-53"><a class="header" href="#name-53">NAME</a></h3>
<p>cast-namehash - Calculate the ENS namehash of a name.</p>
<h3 id="synopsis-53"><a class="header" href="#synopsis-53">SYNOPSIS</a></h3>
<p><code>cast namehash</code> [<em>options</em>] <em>name</em></p>
<h3 id="description-53"><a class="header" href="#description-53">DESCRIPTION</a></h3>
<p>Calculate the ENS namehash of a name.</p>
<h3 id="options-51"><a class="header" href="#options-51">OPTIONS</a></h3>
<h4 id="common-options-51"><a class="header" href="#common-options-51">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-49"><a class="header" href="#examples-49">EXAMPLES</a></h3>
<ol>
<li>Calculate the namehash of an ENS name.
<pre><code class="language-sh">cast namehash vitalik.eth
</code></pre>
</li>
</ol>
<h3 id="see-also-48"><a class="header" href="#see-also-48">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-lookup-address.html">cast lookup-address</a>, <a href="reference/cast/./cast-resolve-name.html">cast resolve-name</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="etherscan-commands-1"><a class="header" href="#etherscan-commands-1">Etherscan Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast-etherscan-source.html">cast etherscan-source</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-etherscan-source"><a class="header" href="#cast-etherscan-source">cast etherscan-source</a></h2>
<h3 id="name-54"><a class="header" href="#name-54">NAME</a></h3>
<p>cast-etherscan-source - Get the source code of a contract from Etherscan.</p>
<h3 id="synopsis-54"><a class="header" href="#synopsis-54">SYNOPSIS</a></h3>
<p><code>cast etherscan-source</code> [<em>options</em>] <em>address</em></p>
<h3 id="description-54"><a class="header" href="#description-54">DESCRIPTION</a></h3>
<p>Get the source code of a contract from Etherscan.</p>
<p>The destination (<em>to</em>) can be an ENS name or an address.</p>
<h3 id="options-52"><a class="header" href="#options-52">OPTIONS</a></h3>
<h4 id="output-options"><a class="header" href="#output-options">Output Options</a></h4>
<p><code>-d</code> <em>directory</em><br />
    The output directory to expand the source tree into.
    If not provided, the source will be outputted to stdout.</p>
<h4 id="etherscan-options-5"><a class="header" href="#etherscan-options-5">Etherscan Options</a></h4>
<p><code>-c</code>  <em>chain_name</em><br />
<code>--chain</code> <em>chain_name</em><br />
    The Etherscan chain.</p>
<p><code>--etherscan-api-key</code> <em>key</em><br />
    Etherscan API key.<br />
    Environment: <code>ETHERSCAN_API_KEY</code></p>
<h4 id="common-options-52"><a class="header" href="#common-options-52">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-50"><a class="header" href="#examples-50">EXAMPLES</a></h3>
<ol>
<li>
<p>Get the source code of the WETH contract:</p>
<pre><code class="language-sh">cast etherscan-source 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
</code></pre>
</li>
<li>
<p>Expand the source code of the WETH contract into a directory named <code>weth</code></p>
<pre><code class="language-sh">cast etherscan-source -d weth 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
</code></pre>
</li>
</ol>
<h3 id="see-also-49"><a class="header" href="#see-also-49">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="abi-commands-1"><a class="header" href="#abi-commands-1">ABI Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast-abi-encode.html">cast abi-encode</a></li>
<li><a href="reference/cast/./cast-4byte.html">cast 4byte</a></li>
<li><a href="reference/cast/./cast-4byte-decode.html">cast 4byte-decode</a></li>
<li><a href="reference/cast/./cast-4byte-event.html">cast 4byte-event</a></li>
<li><a href="reference/cast/./cast-calldata.html">cast calldata</a></li>
<li><a href="reference/cast/./cast-pretty-calldata.html">cast pretty-calldata</a></li>
<li><a href="reference/cast/./cast--abi-decode.html">cast --abi-decode</a></li>
<li><a href="reference/cast/./cast--calldata-decode.html">cast --calldata-decode</a></li>
<li><a href="reference/cast/./cast-upload-signature.html">cast upload-signature</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-abi-encode"><a class="header" href="#cast-abi-encode">cast abi-encode</a></h2>
<h3 id="name-55"><a class="header" href="#name-55">NAME</a></h3>
<p>cast-abi-encode - ABI encode the given function arguments, excluding the selector.</p>
<h3 id="synopsis-55"><a class="header" href="#synopsis-55">SYNOPSIS</a></h3>
<p><code>cast abi-encode</code> [<em>options</em>] <em>sig</em> [<em>args...</em>]</p>
<h3 id="description-55"><a class="header" href="#description-55">DESCRIPTION</a></h3>
<p>ABI encode the given function, excluding the selector.</p>
<p>The signature (<em>sig</em>) is a fragment in the form <code>&lt;function name&gt;(&lt;types...&gt;)</code>.</p>
<h3 id="options-53"><a class="header" href="#options-53">OPTIONS</a></h3>
<h4 id="common-options-53"><a class="header" href="#common-options-53">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-51"><a class="header" href="#examples-51">EXAMPLES</a></h3>
<ol>
<li>ABI-encode the arguments for a call to <code>someFunc(address,uint256)</code>:
<pre><code class="language-sh">cast abi-encode &quot;someFunc(address,uint256)&quot; 0x... 1
</code></pre>
</li>
</ol>
<h3 id="see-also-50"><a class="header" href="#see-also-50">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-calldata.html">cast calldata</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-4byte"><a class="header" href="#cast-4byte">cast 4byte</a></h2>
<h3 id="name-56"><a class="header" href="#name-56">NAME</a></h3>
<p>cast-4byte - Get the function signatures for the given selector from <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a>.</p>
<h3 id="synopsis-56"><a class="header" href="#synopsis-56">SYNOPSIS</a></h3>
<p><code>cast 4byte</code> [<em>options</em>] <em>sig</em></p>
<h3 id="description-56"><a class="header" href="#description-56">DESCRIPTION</a></h3>
<p>Get the function signatures for the given selector from <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a>.</p>
<h3 id="options-54"><a class="header" href="#options-54">OPTIONS</a></h3>
<h4 id="common-options-54"><a class="header" href="#common-options-54">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-52"><a class="header" href="#examples-52">EXAMPLES</a></h3>
<ol>
<li>Get the function signature for the selector <code>0x8cc5ce99</code>:
<pre><code class="language-sh">cast 4byte 0x8cc5ce99
</code></pre>
</li>
</ol>
<h3 id="see-also-51"><a class="header" href="#see-also-51">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-4byte-decode.html">cast 4byte-decode</a>, <a href="reference/cast/./cast-4byte-event.html">cast 4byte-event</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-4byte-decode"><a class="header" href="#cast-4byte-decode">cast 4byte-decode</a></h2>
<h3 id="name-57"><a class="header" href="#name-57">NAME</a></h3>
<p>cast-4byte-decode - Decode ABI-encoded calldata using <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a>.</p>
<h3 id="synopsis-57"><a class="header" href="#synopsis-57">SYNOPSIS</a></h3>
<p><code>cast 4byte-decode</code> [<em>options</em>] <em>calldata</em></p>
<h3 id="description-57"><a class="header" href="#description-57">DESCRIPTION</a></h3>
<p>Decode ABI-encoded calldata using <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a>.</p>
<h3 id="options-55"><a class="header" href="#options-55">OPTIONS</a></h3>
<h4 id="4byte-options"><a class="header" href="#4byte-options">4byte Options</a></h4>
<p><code>--id</code> <em>id</em><br />
    The index of the resolved signature to use.
    <br />
    <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a> can have multiple possible signatures for a given selector.<br />
    The index can be an integer, or the tags &quot;earliest&quot; and &quot;latest&quot;.</p>
<h4 id="common-options-55"><a class="header" href="#common-options-55">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-53"><a class="header" href="#examples-53">EXAMPLES</a></h3>
<ol>
<li>Decode calldata for a <code>transfer</code> call:
<pre><code class="language-sh">cast 4byte-decode 0xa9059cbb000000000000000000000000e78388b4ce79068e89bf8aa7f218ef6b9ab0e9d00000000000000000000000000000000000000000000000000174b37380cea000
</code></pre>
</li>
</ol>
<h3 id="see-also-52"><a class="header" href="#see-also-52">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-4byte.html">cast 4byte</a>, <a href="reference/cast/./cast-4byte-event.html">cast 4byte-event</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-4byte-event"><a class="header" href="#cast-4byte-event">cast 4byte-event</a></h2>
<h3 id="name-58"><a class="header" href="#name-58">NAME</a></h3>
<p>cast-4byte-event - Get the event signature for a given topic 0 from <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a>.</p>
<h3 id="synopsis-58"><a class="header" href="#synopsis-58">SYNOPSIS</a></h3>
<p><code>cast 4byte-event</code> [<em>options</em>] <em>topic_0</em></p>
<h3 id="description-58"><a class="header" href="#description-58">DESCRIPTION</a></h3>
<p>Get the event signature for a given topic 0 from <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a>.</p>
<h3 id="options-56"><a class="header" href="#options-56">OPTIONS</a></h3>
<h4 id="common-options-56"><a class="header" href="#common-options-56">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-54"><a class="header" href="#examples-54">EXAMPLES</a></h3>
<ol>
<li>Get the event signature for a topic 0 of <code>0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef</code>:
<pre><code class="language-sh">cast 4byte-event 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef
</code></pre>
</li>
</ol>
<h3 id="see-also-53"><a class="header" href="#see-also-53">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-4byte.html">cast 4byte</a>, <a href="reference/cast/./cast-4byte-decode.html">cast 4byte-decode</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-calldata"><a class="header" href="#cast-calldata">cast calldata</a></h2>
<h3 id="name-59"><a class="header" href="#name-59">NAME</a></h3>
<p>cast-calldata - ABI-encode a function with arguments.</p>
<h3 id="synopsis-59"><a class="header" href="#synopsis-59">SYNOPSIS</a></h3>
<p><code>cast calldata</code> [<em>options</em>] <em>sig</em> [<em>args...</em>]</p>
<h3 id="description-59"><a class="header" href="#description-59">DESCRIPTION</a></h3>
<p>ABI-encode a function with arguments.</p>
<p>The signature (<em>sig</em>) is a fragment in the form <code>&lt;function name&gt;(&lt;types...&gt;)</code>.</p>
<h3 id="options-57"><a class="header" href="#options-57">OPTIONS</a></h3>
<h4 id="common-options-57"><a class="header" href="#common-options-57">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-55"><a class="header" href="#examples-55">EXAMPLES</a></h3>
<ol>
<li>ABI-encode the arguments for a call to <code>someFunc(address,uint256)</code>:
<pre><code class="language-sh">cast calldata &quot;someFunc(address,uint256)&quot; 0x... 1
</code></pre>
</li>
</ol>
<h3 id="see-also-54"><a class="header" href="#see-also-54">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-abi-encode.html">cast abi-encode</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-pretty-calldata"><a class="header" href="#cast-pretty-calldata">cast pretty-calldata</a></h2>
<h3 id="name-60"><a class="header" href="#name-60">NAME</a></h3>
<p>cast-pretty-calldata - Pretty print calldata.</p>
<h3 id="synopsis-60"><a class="header" href="#synopsis-60">SYNOPSIS</a></h3>
<p><code>cast pretty-calldata</code> [<em>options</em>] <em>calldata</em></p>
<h3 id="description-60"><a class="header" href="#description-60">DESCRIPTION</a></h3>
<p>Pretty print calldata.</p>
<p>Tries to decode the calldata using <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a> unless <code>--offline</code> is passed.</p>
<h3 id="options-58"><a class="header" href="#options-58">OPTIONS</a></h3>
<h4 id="4byte-options-1"><a class="header" href="#4byte-options-1">4byte Options</a></h4>
<p><code>-o</code><br />
<code>--offline</code><br />
    Skip the <a href="https://sig.eth.samczsun.com">https://sig.eth.samczsun.com</a> lookup.</p>
<h4 id="common-options-58"><a class="header" href="#common-options-58">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-56"><a class="header" href="#examples-56">EXAMPLES</a></h3>
<ol>
<li>Decode calldata for a <code>transfer</code> call:
<pre><code class="language-sh">cast pretty-calldata 0xa9059cbb000000000000000000000000e78388b4ce79068e89bf8aa7f218ef6b9ab0e9d00000000000000000000000000000000000000000000000000174b37380cea000
</code></pre>
</li>
</ol>
<h3 id="see-also-55"><a class="header" href="#see-also-55">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-4byte-decode.html">cast 4byte-decode</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---abi-decode"><a class="header" href="#cast---abi-decode">cast --abi-decode</a></h2>
<h3 id="name-61"><a class="header" href="#name-61">NAME</a></h3>
<p>cast---abi-decode - Decode ABI-encoded input or output data.</p>
<h3 id="synopsis-61"><a class="header" href="#synopsis-61">SYNOPSIS</a></h3>
<p><code>cast --abi-decode</code> [<em>options</em>] <em>sig</em> <em>calldata</em></p>
<h3 id="description-61"><a class="header" href="#description-61">DESCRIPTION</a></h3>
<p>Decode ABI-encoded input or output data.</p>
<p>By default, the command will decode output data. To decode input data, pass <code>--input</code> or use <a href="reference/cast/./cast--calldata-decode.html"><code>cast --calldata-decode</code></a>.</p>
<p>The signature (<em>sig</em>) is a fragment in the form <code>&lt;function name&gt;(&lt;types...&gt;)(&lt;types...&gt;)</code>.</p>
<h3 id="options-59"><a class="header" href="#options-59">OPTIONS</a></h3>
<h4 id="decoder-options"><a class="header" href="#decoder-options">Decoder Options</a></h4>
<p><code>-i</code><br />
<code>--input</code><br />
    Decode input data.</p>
<h4 id="common-options-59"><a class="header" href="#common-options-59">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-57"><a class="header" href="#examples-57">EXAMPLES</a></h3>
<ol>
<li>
<p>Decode output data for a <code>balanceOf</code> call:</p>
<pre><code class="language-sh">cast --abi-decode &quot;balanceOf(address)(uint256)&quot; \
  0x000000000000000000000000000000000000000000000000000000000000000a
</code></pre>
</li>
<li>
<p>Decode input data for a <code>transfer</code> call:</p>
<pre><code class="language-sh">cast --abi-decode --input &quot;transfer(address,uint256)&quot; \
  0xa9059cbb000000000000000000000000e78388b4ce79068e89bf8aa7f218ef6b9ab0e9d0000000000000000000000000000000000000000000000000008a8e4b1a3d8000
</code></pre>
</li>
</ol>
<h3 id="see-also-56"><a class="header" href="#see-also-56">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast--calldata-decode.html">cast --calldata-decode</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---calldata-decode"><a class="header" href="#cast---calldata-decode">cast --calldata-decode</a></h2>
<h3 id="name-62"><a class="header" href="#name-62">NAME</a></h3>
<p>cast---calldata-decode - Decode ABI-encoded input data.</p>
<h3 id="synopsis-62"><a class="header" href="#synopsis-62">SYNOPSIS</a></h3>
<p><code>cast --calldata-decode</code> [<em>options</em>] <em>sig</em> <em>calldata</em></p>
<h3 id="description-62"><a class="header" href="#description-62">DESCRIPTION</a></h3>
<p>Decode ABI-encoded input data.</p>
<p>The signature (<em>sig</em>) is a fragment in the form <code>&lt;function name&gt;(&lt;types...&gt;)</code>.</p>
<h3 id="options-60"><a class="header" href="#options-60">OPTIONS</a></h3>
<h4 id="common-options-60"><a class="header" href="#common-options-60">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-58"><a class="header" href="#examples-58">EXAMPLES</a></h3>
<ol>
<li>Decode input data for a <code>transfer</code> call:
<pre><code class="language-sh">cast --calldata-decode &quot;transfer(address,uint256)&quot; \
  0xa9059cbb000000000000000000000000e78388b4ce79068e89bf8aa7f218ef6b9ab0e9d0000000000000000000000000000000000000000000000000008a8e4b1a3d8000
</code></pre>
</li>
</ol>
<h3 id="see-also-57"><a class="header" href="#see-also-57">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast--abi-decode.html">cast --abi-decode</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-upload-signature"><a class="header" href="#cast-upload-signature">cast upload-signature</a></h2>
<h3 id="name-63"><a class="header" href="#name-63">NAME</a></h3>
<p>cast-upload-signature</p>
<h3 id="synopsis-63"><a class="header" href="#synopsis-63">SYNOPSIS</a></h3>
<p><code>cast upload-signature</code> [<em>signatures...</em>]</p>
<h3 id="description-63"><a class="header" href="#description-63">DESCRIPTION</a></h3>
<p>Upload the given signatures to https://sig.eth.samczsun.com.</p>
<h3 id="options-61"><a class="header" href="#options-61">OPTIONS</a></h3>
<h4 id="common-options-61"><a class="header" href="#common-options-61">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-59"><a class="header" href="#examples-59">EXAMPLES</a></h3>
<ol>
<li>Upload signatures
<pre><code class="language-sh">cast upload-signature 'function approve(address,uint256)' \
'transfer(uint256)' 'event Transfer(uint256,address)'
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h2 id="conversion-commands-1"><a class="header" href="#conversion-commands-1">Conversion Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast--from-bin.html">cast --from-bin</a></li>
<li><a href="reference/cast/./cast--from-fix.html">cast --from-fix</a></li>
<li><a href="reference/cast/./cast--from-rlp.html">cast --from-rlp</a></li>
<li><a href="reference/cast/./cast--from-utf8.html">cast --from-utf8</a></li>
<li><a href="reference/cast/./cast--to-ascii.html">cast --to-ascii</a></li>
<li><a href="reference/cast/./cast--to-bytes32.html">cast --to-bytes32</a></li>
<li><a href="reference/cast/./cast--to-dec.html">cast --to-dec</a></li>
<li><a href="reference/cast/./cast--to-fix.html">cast --to-fix</a></li>
<li><a href="reference/cast/./cast--to-hex.html">cast --to-hex</a></li>
<li><a href="reference/cast/./cast--to-hexdata.html">cast --to-hexdata</a></li>
<li><a href="reference/cast/./cast--to-int256.html">cast --to-int256</a></li>
<li><a href="reference/cast/./cast--to-rlp.html">cast --to-rlp</a></li>
<li><a href="reference/cast/./cast--to-uint256.html">cast --to-uint256</a></li>
<li><a href="reference/cast/./cast--to-unit.html">cast --to-unit</a></li>
<li><a href="reference/cast/./cast--to-wei.html">cast --to-wei</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---from-bin"><a class="header" href="#cast---from-bin">cast --from-bin</a></h2>
<h3 id="name-64"><a class="header" href="#name-64">NAME</a></h3>
<p>cast---from-bin - Convert binary data into hex data.</p>
<h3 id="synopsis-64"><a class="header" href="#synopsis-64">SYNOPSIS</a></h3>
<p><code>cast --from-bin</code> [<em>options</em>]</p>
<h3 id="description-64"><a class="header" href="#description-64">DESCRIPTION</a></h3>
<p>Convert binary data into hex data.</p>
<p>The input is taken from stdin.</p>
<h3 id="options-62"><a class="header" href="#options-62">OPTIONS</a></h3>
<h4 id="common-options-62"><a class="header" href="#common-options-62">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-58"><a class="header" href="#see-also-58">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---from-fix"><a class="header" href="#cast---from-fix">cast --from-fix</a></h2>
<h3 id="name-65"><a class="header" href="#name-65">NAME</a></h3>
<p>cast---from-fix - Convert a fixed point number into an integer.</p>
<h3 id="synopsis-65"><a class="header" href="#synopsis-65">SYNOPSIS</a></h3>
<p><code>cast --from-fix</code> [<em>options</em>] <em>decimals</em> <em>value</em></p>
<h3 id="description-65"><a class="header" href="#description-65">DESCRIPTION</a></h3>
<p>Convert a fixed point number into an integer.</p>
<h3 id="options-63"><a class="header" href="#options-63">OPTIONS</a></h3>
<h4 id="common-options-63"><a class="header" href="#common-options-63">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-60"><a class="header" href="#examples-60">EXAMPLES</a></h3>
<ol>
<li>Convert 10.55 to an integer:
<pre><code class="language-sh">cast --from-fix 2 10.55
</code></pre>
</li>
</ol>
<h3 id="see-also-59"><a class="header" href="#see-also-59">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---from-rlp"><a class="header" href="#cast---from-rlp">cast --from-rlp</a></h2>
<h3 id="name-66"><a class="header" href="#name-66">NAME</a></h3>
<p>cast---from-rlp - Decodes RLP-encoded data.</p>
<h3 id="synopsis-66"><a class="header" href="#synopsis-66">SYNOPSIS</a></h3>
<p><code>cast --from-rlp</code> <em>data</em></p>
<h3 id="description-66"><a class="header" href="#description-66">DESCRIPTION</a></h3>
<p>Decodes RLP-encoded data.</p>
<p>The <em>data</em> is a hexadecimal string with optional 0x prefix.</p>
<h3 id="options-64"><a class="header" href="#options-64">OPTIONS</a></h3>
<h4 id="common-options-64"><a class="header" href="#common-options-64">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-61"><a class="header" href="#examples-61">EXAMPLES</a></h3>
<ol>
<li>Decode RLP data:
<pre><code class="language-sh">cast --from-rlp 0xc481f181f2

cast --from-rlp c481f181f2
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---from-utf8"><a class="header" href="#cast---from-utf8">cast --from-utf8</a></h2>
<h3 id="name-67"><a class="header" href="#name-67">NAME</a></h3>
<p>cast---from-utf8 - Convert UTF8 text to hex.</p>
<h3 id="synopsis-67"><a class="header" href="#synopsis-67">SYNOPSIS</a></h3>
<p><code>cast --from-utf8</code> [<em>options</em>] <em>text</em></p>
<h3 id="description-67"><a class="header" href="#description-67">DESCRIPTION</a></h3>
<p>Convert UTF8 text to hex.</p>
<h3 id="options-65"><a class="header" href="#options-65">OPTIONS</a></h3>
<h4 id="common-options-65"><a class="header" href="#common-options-65">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-62"><a class="header" href="#examples-62">EXAMPLES</a></h3>
<ol>
<li>Convert UTF8 text to hex:
<pre><code class="language-sh">cast --from-utf8 &quot;hello&quot;
</code></pre>
</li>
</ol>
<h3 id="see-also-60"><a class="header" href="#see-also-60">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-ascii"><a class="header" href="#cast---to-ascii">cast --to-ascii</a></h2>
<h3 id="name-68"><a class="header" href="#name-68">NAME</a></h3>
<p>cast---to-ascii - Convert hex data to an ASCII string.</p>
<h3 id="synopsis-68"><a class="header" href="#synopsis-68">SYNOPSIS</a></h3>
<p><code>cast --to-ascii</code> [<em>options</em>] <em>text</em></p>
<h3 id="description-68"><a class="header" href="#description-68">DESCRIPTION</a></h3>
<p>Convert hex data to an ASCII string.</p>
<h3 id="options-66"><a class="header" href="#options-66">OPTIONS</a></h3>
<h4 id="common-options-66"><a class="header" href="#common-options-66">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-63"><a class="header" href="#examples-63">EXAMPLES</a></h3>
<ol>
<li>Convert hex data to an ASCII string:
<pre><code class="language-sh">cast --to-ascii &quot;0x68656c6c6f&quot;
</code></pre>
</li>
</ol>
<h3 id="see-also-61"><a class="header" href="#see-also-61">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-bytes32"><a class="header" href="#cast---to-bytes32">cast --to-bytes32</a></h2>
<h3 id="name-69"><a class="header" href="#name-69">NAME</a></h3>
<p>cast---to-bytes32 - Right-pads hex data to 32 bytes.</p>
<h3 id="synopsis-69"><a class="header" href="#synopsis-69">SYNOPSIS</a></h3>
<p><code>cast --to-bytes32</code> [<em>options</em>] <em>bytes</em></p>
<h3 id="description-69"><a class="header" href="#description-69">DESCRIPTION</a></h3>
<p>Right-pads hex data to 32 bytes.</p>
<h3 id="options-67"><a class="header" href="#options-67">OPTIONS</a></h3>
<h4 id="common-options-67"><a class="header" href="#common-options-67">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-62"><a class="header" href="#see-also-62">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-dec"><a class="header" href="#cast---to-dec">cast --to-dec</a></h2>
<h3 id="name-70"><a class="header" href="#name-70">NAME</a></h3>
<p>cast---to-dec - Convert a hex value into a decimal number.</p>
<h3 id="synopsis-70"><a class="header" href="#synopsis-70">SYNOPSIS</a></h3>
<p><code>cast --to-dec</code> [<em>options</em>] <em>value</em></p>
<h3 id="description-70"><a class="header" href="#description-70">DESCRIPTION</a></h3>
<p>Convert a hex value into a decimal number.</p>
<h3 id="options-68"><a class="header" href="#options-68">OPTIONS</a></h3>
<h4 id="common-options-68"><a class="header" href="#common-options-68">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-63"><a class="header" href="#see-also-63">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-fix"><a class="header" href="#cast---to-fix">cast --to-fix</a></h2>
<h3 id="name-71"><a class="header" href="#name-71">NAME</a></h3>
<p>cast---to-fix - Convert an integer into a fixed point number.</p>
<h3 id="synopsis-71"><a class="header" href="#synopsis-71">SYNOPSIS</a></h3>
<p><code>cast --to-fix</code> [<em>options</em>] <em>decimals</em> <em>value</em></p>
<h3 id="description-71"><a class="header" href="#description-71">DESCRIPTION</a></h3>
<p>Convert an integer into a fixed point number.</p>
<h3 id="options-69"><a class="header" href="#options-69">OPTIONS</a></h3>
<h4 id="common-options-69"><a class="header" href="#common-options-69">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-64"><a class="header" href="#examples-64">EXAMPLES</a></h3>
<ol>
<li>Convert 250 to a fixed point number with 2 decimals:
<pre><code class="language-sh">cast --to-fix 2 250
</code></pre>
</li>
</ol>
<h3 id="see-also-64"><a class="header" href="#see-also-64">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-hex"><a class="header" href="#cast---to-hex">cast --to-hex</a></h2>
<h3 id="name-72"><a class="header" href="#name-72">NAME</a></h3>
<p>cast---to-hex - Convert an integer to hex.</p>
<h3 id="synopsis-72"><a class="header" href="#synopsis-72">SYNOPSIS</a></h3>
<p><code>cast --to-hex</code> [<em>options</em>] <em>decimal</em></p>
<h3 id="description-72"><a class="header" href="#description-72">DESCRIPTION</a></h3>
<p>Convert an integer to hex.</p>
<h3 id="options-70"><a class="header" href="#options-70">OPTIONS</a></h3>
<h4 id="common-options-70"><a class="header" href="#common-options-70">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-65"><a class="header" href="#examples-65">EXAMPLES</a></h3>
<ol>
<li>Convert 10 to hex:
<pre><code class="language-sh">cast --to-hex 10
</code></pre>
</li>
</ol>
<h3 id="see-also-65"><a class="header" href="#see-also-65">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-hexdata"><a class="header" href="#cast---to-hexdata">cast --to-hexdata</a></h2>
<h3 id="name-73"><a class="header" href="#name-73">NAME</a></h3>
<p>cast---to-hexdata - Normalize the input to lowercase, 0x-prefixed hex.</p>
<h3 id="synopsis-73"><a class="header" href="#synopsis-73">SYNOPSIS</a></h3>
<p><code>cast --to-hexdata</code> [<em>options</em>] <em>input</em></p>
<h3 id="description-73"><a class="header" href="#description-73">DESCRIPTION</a></h3>
<p>Normalize the input to lowercase, 0x-prefixed hex.</p>
<p>The input data (<em>input</em>) can either be:</p>
<ul>
<li>Mixed case hex with or without the 0x prefix.</li>
<li>0x prefixed hex that should be concatenated, separated by <code>:</code>.</li>
<li>An absolute path to a file containing hex.</li>
<li>A <code>@tag</code>, where the tag is defined in an environment variable.</li>
</ul>
<h3 id="options-71"><a class="header" href="#options-71">OPTIONS</a></h3>
<h4 id="common-options-71"><a class="header" href="#common-options-71">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-66"><a class="header" href="#examples-66">EXAMPLES</a></h3>
<ol>
<li>
<p>Add 0x prefix:</p>
<pre><code class="language-sh">cast --to-hexdata deadbeef
</code></pre>
</li>
<li>
<p>Concatenate hex values:</p>
<pre><code class="language-sh">cast --to-hexdata &quot;deadbeef:0xbeef&quot;
</code></pre>
</li>
<li>
<p>Normalize hex value in <code>MY_VAR</code>:</p>
<pre><code class="language-sh">cast --to-hexdata &quot;@MY_VAR&quot;
</code></pre>
</li>
</ol>
<h3 id="see-also-66"><a class="header" href="#see-also-66">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-int256"><a class="header" href="#cast---to-int256">cast --to-int256</a></h2>
<h3 id="name-74"><a class="header" href="#name-74">NAME</a></h3>
<p>cast---to-int256 - Convert a number to a hex-encoded int256.</p>
<h3 id="synopsis-74"><a class="header" href="#synopsis-74">SYNOPSIS</a></h3>
<p><code>cast --to-int256</code> [<em>options</em>] <em>value</em></p>
<h3 id="description-74"><a class="header" href="#description-74">DESCRIPTION</a></h3>
<p>Convert a number to a hex-encoded int256.</p>
<h3 id="options-72"><a class="header" href="#options-72">OPTIONS</a></h3>
<h4 id="common-options-72"><a class="header" href="#common-options-72">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-67"><a class="header" href="#see-also-67">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-rlp"><a class="header" href="#cast---to-rlp">cast --to-rlp</a></h2>
<h3 id="name-75"><a class="header" href="#name-75">NAME</a></h3>
<p>cast---to-rlp - Encodes hex data to RLP.</p>
<h3 id="synopsis-75"><a class="header" href="#synopsis-75">SYNOPSIS</a></h3>
<p><code>cast --to-rlp</code> <em>array</em></p>
<h3 id="description-75"><a class="header" href="#description-75">DESCRIPTION</a></h3>
<p>RLP encodes a hex string or a JSON array of hex strings.</p>
<h3 id="options-73"><a class="header" href="#options-73">OPTIONS</a></h3>
<h4 id="common-options-73"><a class="header" href="#common-options-73">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-67"><a class="header" href="#examples-67">EXAMPLES</a></h3>
<ol>
<li>Encoding RLP data:
<pre><code class="language-sh">cast --to-rlp '[&quot;0xaa&quot;,&quot;0xbb&quot;,&quot;cc&quot;]'

cast --to-rlp f0a9     
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-uint256"><a class="header" href="#cast---to-uint256">cast --to-uint256</a></h2>
<h3 id="name-76"><a class="header" href="#name-76">NAME</a></h3>
<p>cast---to-uint256 - Convert a number to a hex-encoded uint256.</p>
<h3 id="synopsis-76"><a class="header" href="#synopsis-76">SYNOPSIS</a></h3>
<p><code>cast --to-uint256</code> [<em>options</em>] <em>value</em></p>
<h3 id="description-76"><a class="header" href="#description-76">DESCRIPTION</a></h3>
<p>Convert a number to a hex-encoded uint256.</p>
<h3 id="options-74"><a class="header" href="#options-74">OPTIONS</a></h3>
<h4 id="common-options-74"><a class="header" href="#common-options-74">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-68"><a class="header" href="#see-also-68">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-unit"><a class="header" href="#cast---to-unit">cast --to-unit</a></h2>
<h3 id="name-77"><a class="header" href="#name-77">NAME</a></h3>
<p>cast---to-unit - Convert an eth amount to another unit.</p>
<h3 id="synopsis-77"><a class="header" href="#synopsis-77">SYNOPSIS</a></h3>
<p><code>cast --to-unit</code> [<em>options</em>] <em>value</em> [<em>unit</em>]</p>
<h3 id="description-77"><a class="header" href="#description-77">DESCRIPTION</a></h3>
<p>Convert an eth amount to another unit.</p>
<p>The value to convert (<em>value</em>) can be a quantity of eth (in wei), or a number with a unit attached to it.</p>
<p>Valid units are:</p>
<ul>
<li><code>ether</code></li>
<li><code>gwei</code></li>
<li><code>wei</code></li>
</ul>
<h3 id="options-75"><a class="header" href="#options-75">OPTIONS</a></h3>
<h4 id="common-options-75"><a class="header" href="#common-options-75">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-68"><a class="header" href="#examples-68">EXAMPLES</a></h3>
<ol>
<li>
<p>Convert 1000 wei to gwei</p>
<pre><code class="language-sh">cast --to-unit 1000 gwei
</code></pre>
</li>
<li>
<p>Convert 1 eth to gwei</p>
<pre><code class="language-sh">cast --to-unit 1ether gwei
</code></pre>
</li>
</ol>
<h3 id="see-also-69"><a class="header" href="#see-also-69">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-wei"><a class="header" href="#cast---to-wei">cast --to-wei</a></h2>
<h3 id="name-78"><a class="header" href="#name-78">NAME</a></h3>
<p>cast---to-wei - Convert an eth amount to wei.</p>
<h3 id="synopsis-78"><a class="header" href="#synopsis-78">SYNOPSIS</a></h3>
<p><code>cast --to-wei</code> [<em>options</em>] <em>value</em> [<em>unit</em>]</p>
<h3 id="description-78"><a class="header" href="#description-78">DESCRIPTION</a></h3>
<p>Convert an eth amount to wei.</p>
<p>Consider using <a href="reference/cast/./cast--to-unit.html"><code>cast --to-unit</code></a>.</p>
<h3 id="options-76"><a class="header" href="#options-76">OPTIONS</a></h3>
<h4 id="common-options-76"><a class="header" href="#common-options-76">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-70"><a class="header" href="#see-also-70">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast--to-unit.html">cast calldata</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="utility-commands-3"><a class="header" href="#utility-commands-3">Utility Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast-sig.html">cast sig</a></li>
<li><a href="reference/cast/./cast-keccak.html">cast keccak</a></li>
<li><a href="reference/cast/./cast-compute-address.html">cast compute-address</a></li>
<li><a href="reference/cast/./cast-interface.html">cast interface</a></li>
<li><a href="reference/cast/./cast-index.html">cast index</a></li>
<li><a href="reference/cast/./cast--concat-hex.html">cast --concat-hex</a></li>
<li><a href="reference/cast/./cast--max-int.html">cast --max-int</a></li>
<li><a href="reference/cast/./cast--min-int.html">cast --min-int</a></li>
<li><a href="reference/cast/./cast--max-uint.html">cast --max-uint</a></li>
<li><a href="reference/cast/./cast--to-checksum-address.html">cast --to-checksum-address</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-sig"><a class="header" href="#cast-sig">cast sig</a></h2>
<h3 id="name-79"><a class="header" href="#name-79">NAME</a></h3>
<p>cast-sig - Get the selector for a function.</p>
<h3 id="synopsis-79"><a class="header" href="#synopsis-79">SYNOPSIS</a></h3>
<p><code>cast sig</code> [<em>options</em>] <em>sig</em></p>
<h3 id="description-79"><a class="header" href="#description-79">DESCRIPTION</a></h3>
<p>Get the selector for a function.</p>
<p>The signature (<em>sig</em>) is a fragment in the form <code>&lt;function name&gt;(&lt;types...&gt;)</code>.</p>
<h3 id="options-77"><a class="header" href="#options-77">OPTIONS</a></h3>
<h4 id="common-options-77"><a class="header" href="#common-options-77">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-69"><a class="header" href="#examples-69">EXAMPLES</a></h3>
<ol>
<li>
<p>Get the selector for the function <code>transfer(address,uint256)</code>:</p>
<pre><code class="language-sh">cast sig &quot;transfer(address,uint256)&quot;
</code></pre>
</li>
<li>
<p>Get the selector for a function that expects a <code>struct</code>:</p>
<pre><code class="language-solidity">contract Test {
    struct MyStruct {
        address addr;
        uint256 amount;
    }
    function myfunction(MyStruct memory t) public pure {}
}
</code></pre>
<p>Structs are encoded as tuples (see <a href="reference/cast/./reference/common/struct-encoding.html">struct encoding</a>).</p>
<pre><code class="language-sh">cast sig &quot;myfunction((address,uint256))&quot;
</code></pre>
</li>
</ol>
<h3 id="see-also-71"><a class="header" href="#see-also-71">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./misc/struct-encoding.html">struct encoding</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-keccak"><a class="header" href="#cast-keccak">cast keccak</a></h2>
<h3 id="name-80"><a class="header" href="#name-80">NAME</a></h3>
<p>cast-keccak - Hash arbitrary data using keccak-256.</p>
<h3 id="synopsis-80"><a class="header" href="#synopsis-80">SYNOPSIS</a></h3>
<p><code>cast keccak</code> [<em>options</em>] <em>data</em></p>
<h3 id="description-80"><a class="header" href="#description-80">DESCRIPTION</a></h3>
<p>Hash arbitrary data using keccak-256.</p>
<h3 id="options-78"><a class="header" href="#options-78">OPTIONS</a></h3>
<h4 id="common-options-78"><a class="header" href="#common-options-78">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-72"><a class="header" href="#see-also-72">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-compute-address"><a class="header" href="#cast-compute-address">cast compute-address</a></h2>
<h3 id="name-81"><a class="header" href="#name-81">NAME</a></h3>
<p>cast-compute-address - Compute the contract address from a given nonce and deployer address.</p>
<h3 id="synopsis-81"><a class="header" href="#synopsis-81">SYNOPSIS</a></h3>
<p><code>cast compute-address</code> [<em>options</em>] <em>address</em></p>
<h3 id="description-81"><a class="header" href="#description-81">DESCRIPTION</a></h3>
<p>Compute the contract address from a given nonce and deployer address.</p>
<h3 id="options-79"><a class="header" href="#options-79">OPTIONS</a></h3>
<h4 id="compute-options"><a class="header" href="#compute-options">Compute Options</a></h4>
<p><code>--nonce</code> <em>nonce</em><br />
    The nonce of the account. Defaults to the latest nonce, fetched from the RPC.</p>
<h4 id="rpc-options-25"><a class="header" href="#rpc-options-25">RPC Options</a></h4>
<p><code>--rpc-url</code> <em>url</em><br />
    The RPC endpoint.<br />
    Environment: <code>ETH_RPC_URL</code></p>
<h4 id="common-options-79"><a class="header" href="#common-options-79">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-73"><a class="header" href="#see-also-73">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-proof.html">cast proof</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-interface"><a class="header" href="#cast-interface">cast interface</a></h2>
<h3 id="name-82"><a class="header" href="#name-82">NAME</a></h3>
<p>cast-interface - Generate a Solidity interface from a given ABI.</p>
<h3 id="synopsis-82"><a class="header" href="#synopsis-82">SYNOPSIS</a></h3>
<p><code>cast interface</code> [<em>options</em>] <em>address_or_path</em></p>
<h3 id="description-82"><a class="header" href="#description-82">DESCRIPTION</a></h3>
<p>Generates a Solidity interface from a given ABI.</p>
<p>The argument (<em>address_or_path</em>) can either be the path to a file containing an ABI, or an address.</p>
<p>If an address is provided, then the interface is generated from the ABI of the account, which is fetched from Etherscan.</p>
<blockquote>
<p>ℹ️ <strong>Note</strong></p>
<p>This command does not currently support ABI encoder v2.</p>
</blockquote>
<h3 id="options-80"><a class="header" href="#options-80">OPTIONS</a></h3>
<h4 id="interface-options"><a class="header" href="#interface-options">Interface Options</a></h4>
<p><code>-n</code> <em>name</em><br />
<code>--name</code> <em>name</em><br />
    The name to use for the generated interface. The default name is <code>Interface</code>.</p>
<p><code>-o</code> <em>path</em><br />
    The path to the output file. If not specified, the interface will be output to stdout.</p>
<p><code>-p</code> <em>version</em><br />
<code>--pragma</code> <em>version</em><br />
    The Solidity pragma version to use in the interface. Default: <code>^0.8.10</code>.</p>
<h4 id="etherscan-options-6"><a class="header" href="#etherscan-options-6">Etherscan Options</a></h4>
<p><code>-c</code>  <em>chain_name</em><br />
<code>--chain</code> <em>chain_name</em><br />
    The Etherscan chain.</p>
<p><code>--etherscan-api-key</code> <em>key</em><br />
    Etherscan API key.<br />
    Environment: <code>ETHERSCAN_API_KEY</code></p>
<h4 id="common-options-80"><a class="header" href="#common-options-80">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-70"><a class="header" href="#examples-70">EXAMPLES</a></h3>
<ol>
<li>
<p>Generate an interface from a file:</p>
<pre><code class="language-sh">cast interface ./path/to/abi.json
</code></pre>
</li>
<li>
<p>Generate an interface using Etherscan:</p>
<pre><code class="language-sh">cast interface -o IWETH.sol 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
</code></pre>
</li>
<li>
<p>Generate and name an interface from a file:</p>
<pre><code class="language-sh">cast interface -n LilENS ./path/to/abi.json
</code></pre>
</li>
</ol>
<h3 id="see-also-74"><a class="header" href="#see-also-74">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-proof.html">cast proof</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-index"><a class="header" href="#cast-index">cast index</a></h2>
<h3 id="name-83"><a class="header" href="#name-83">NAME</a></h3>
<p>cast-index - Compute the storage slot for an entry in a mapping.</p>
<h3 id="synopsis-83"><a class="header" href="#synopsis-83">SYNOPSIS</a></h3>
<p><code>cast index</code> <em>key_type</em> <em>value_type</em> <em>key</em> <em>slot</em></p>
<h3 id="description-83"><a class="header" href="#description-83">DESCRIPTION</a></h3>
<p>Compute the storage slot for an entry in a mapping.</p>
<h3 id="options-81"><a class="header" href="#options-81">OPTIONS</a></h3>
<h4 id="common-options-81"><a class="header" href="#common-options-81">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-71"><a class="header" href="#examples-71">EXAMPLES</a></h3>
<ol>
<li>Compute the storage slot of an entry (<code>hello</code>) in a mapping of type <code>mapping(string =&gt; uint256)</code>, located at slot 2:
<pre><code class="language-sh">cast index string uint256 &quot;hello&quot; 2
</code></pre>
</li>
</ol>
<h3 id="see-also-75"><a class="header" href="#see-also-75">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---concat-hex"><a class="header" href="#cast---concat-hex">cast --concat-hex</a></h2>
<h3 id="name-84"><a class="header" href="#name-84">NAME</a></h3>
<p>cast---concat-hex - Concatenate hex strings.</p>
<h3 id="synopsis-84"><a class="header" href="#synopsis-84">SYNOPSIS</a></h3>
<p><code>cast --concat-hex</code> <em>data...</em></p>
<h3 id="description-84"><a class="header" href="#description-84">DESCRIPTION</a></h3>
<p>Concatenate hex strings.</p>
<h3 id="options-82"><a class="header" href="#options-82">OPTIONS</a></h3>
<h4 id="common-options-82"><a class="header" href="#common-options-82">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-72"><a class="header" href="#examples-72">EXAMPLES</a></h3>
<ol>
<li>Concatenate hex strings:
<pre><code class="language-sh">cast --concat-hex 0xa 0xb 0xc
</code></pre>
</li>
</ol>
<h3 id="see-also-76"><a class="header" href="#see-also-76">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---max-int"><a class="header" href="#cast---max-int">cast --max-int</a></h2>
<h3 id="name-85"><a class="header" href="#name-85">NAME</a></h3>
<p>cast---max-int - Get the maximum i256 value.</p>
<h3 id="synopsis-85"><a class="header" href="#synopsis-85">SYNOPSIS</a></h3>
<p><code>cast --max-int</code></p>
<h3 id="description-85"><a class="header" href="#description-85">DESCRIPTION</a></h3>
<p>Get the maximum i256 value.</p>
<h3 id="options-83"><a class="header" href="#options-83">OPTIONS</a></h3>
<h4 id="common-options-83"><a class="header" href="#common-options-83">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-77"><a class="header" href="#see-also-77">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast--min-int.html">cast --min-int</a>, <a href="reference/cast/./cast--max-uint.html">cast --max-uint</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---min-int"><a class="header" href="#cast---min-int">cast --min-int</a></h2>
<h3 id="name-86"><a class="header" href="#name-86">NAME</a></h3>
<p>cast---min-int - Get the minimum i256 value.</p>
<h3 id="synopsis-86"><a class="header" href="#synopsis-86">SYNOPSIS</a></h3>
<p><code>cast --min-int</code></p>
<h3 id="description-86"><a class="header" href="#description-86">DESCRIPTION</a></h3>
<p>Get the minimum i256 value.</p>
<h3 id="options-84"><a class="header" href="#options-84">OPTIONS</a></h3>
<h4 id="common-options-84"><a class="header" href="#common-options-84">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-78"><a class="header" href="#see-also-78">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast--max-int.html">cast --max-int</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---max-uint"><a class="header" href="#cast---max-uint">cast --max-uint</a></h2>
<h3 id="name-87"><a class="header" href="#name-87">NAME</a></h3>
<p>cast---max-uint - Get the maximum uint256 value.</p>
<h3 id="synopsis-87"><a class="header" href="#synopsis-87">SYNOPSIS</a></h3>
<p><code>cast --max-uint</code></p>
<h3 id="description-87"><a class="header" href="#description-87">DESCRIPTION</a></h3>
<p>Get the maximum uint256 value.</p>
<h3 id="options-85"><a class="header" href="#options-85">OPTIONS</a></h3>
<h4 id="common-options-85"><a class="header" href="#common-options-85">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-79"><a class="header" href="#see-also-79">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast--max-int.html">cast --max-int</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast---to-checksum-address"><a class="header" href="#cast---to-checksum-address">cast --to-checksum-address</a></h2>
<h3 id="name-88"><a class="header" href="#name-88">NAME</a></h3>
<p>cast---to-checksum-address - Convert an addresss to a checksummed format (<a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-55.md">EIP-55</a>).</p>
<h3 id="synopsis-88"><a class="header" href="#synopsis-88">SYNOPSIS</a></h3>
<p><code>cast --to-checksum-address</code> <em>address</em></p>
<h3 id="description-88"><a class="header" href="#description-88">DESCRIPTION</a></h3>
<p>Convert an addresss to a checksummed format (<a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-55.md">EIP-55</a>).</p>
<h3 id="options-86"><a class="header" href="#options-86">OPTIONS</a></h3>
<h4 id="common-options-86"><a class="header" href="#common-options-86">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-80"><a class="header" href="#see-also-80">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="wallet-commands-1"><a class="header" href="#wallet-commands-1">Wallet Commands</a></h2>
<ul>
<li><a href="reference/cast/./cast-wallet.html">cast wallet</a></li>
<li><a href="reference/cast/./cast-wallet-address.html">cast wallet address</a></li>
<li><a href="reference/cast/./cast-wallet-new.html">cast wallet new</a></li>
<li><a href="reference/cast/./cast-wallet-sign.html">cast wallet sign</a></li>
<li><a href="reference/cast/./cast-wallet-vanity.html">cast wallet vanity</a></li>
<li><a href="reference/cast/./cast-wallet-verify.html">cast wallet verify</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-wallet"><a class="header" href="#cast-wallet">cast wallet</a></h2>
<h3 id="name-89"><a class="header" href="#name-89">NAME</a></h3>
<p>cast-wallet - Wallet management utilities.</p>
<h3 id="synopsis-89"><a class="header" href="#synopsis-89">SYNOPSIS</a></h3>
<p><code>cast wallet</code> [<em>options</em>] <em>command</em> [<em>args</em>]<br />
<code>cast wallet</code> [<em>options</em>] <code>--version</code><br />
<code>cast wallet</code> [<em>options</em>] <code>--help</code></p>
<h3 id="description-89"><a class="header" href="#description-89">DESCRIPTION</a></h3>
<p>This program is a set of tools to use, create and manage wallets.</p>
<h3 id="commands-3"><a class="header" href="#commands-3">COMMANDS</a></h3>
<p><a href="reference/cast/./cast-wallet-new.html">cast wallet new</a><br />
    Create a new random keypair.</p>
<p><a href="reference/cast/./cast-wallet-address.html">cast wallet address</a><br />
    Convert a private key to an address.</p>
<p><a href="reference/cast/./cast-wallet-sign.html">cast wallet sign</a><br />
    Sign a message.</p>
<p><a href="reference/cast/./cast-wallet-vanity.html">cast wallet vanity</a><br />
    Generate a vanity address.</p>
<p><a href="reference/cast/./cast-wallet-verify.html">cast wallet verify</a><br />
    Verify the signature of a message.</p>
<h3 id="options-87"><a class="header" href="#options-87">OPTIONS</a></h3>
<h4 id="special-options-3"><a class="header" href="#special-options-3">Special Options</a></h4>
<p><code>-V</code><br />
<code>--version</code><br />
    Print version info and exit.</p>
<h4 id="common-options-87"><a class="header" href="#common-options-87">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-wallet-new"><a class="header" href="#cast-wallet-new">cast wallet new</a></h2>
<h3 id="name-90"><a class="header" href="#name-90">NAME</a></h3>
<p>cast-wallet-new - Create a new random keypair.</p>
<h3 id="synopsis-90"><a class="header" href="#synopsis-90">SYNOPSIS</a></h3>
<p><code>cast wallet new</code> [<em>options</em>] [<em>path</em>]</p>
<h3 id="description-90"><a class="header" href="#description-90">DESCRIPTION</a></h3>
<p>Create a new random keypair.</p>
<p>If <em>path</em> is specified, then the new keypair will be written to a JSON keystore encrypted with a password.
(<em>path</em> should be an existing directory.)</p>
<h3 id="options-88"><a class="header" href="#options-88">OPTIONS</a></h3>
<h4 id="keystore-options"><a class="header" href="#keystore-options">Keystore Options</a></h4>
<p><code>-p</code><br />
<code>--password</code><br />
    Triggers a hidden password prompt for the JSON keystore.<br />
    <strong>Deprecated: prompting for a hidden password is now the default.</strong></p>
<p><code>--unsafe-password</code> <em>password</em><br />
    Password for the JSON keystore in cleartext.</p>
<p>    This is <strong>unsafe</strong> to use and we recommend using <code>--password</code> instead.<br />
    Environment: <code>CAST_PASSWORD</code></p>
<h4 id="common-options-88"><a class="header" href="#common-options-88">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-73"><a class="header" href="#examples-73">EXAMPLES</a></h3>
<ol>
<li>
<p>Create a new keypair without saving it to a keystore:</p>
<pre><code class="language-sh">cast wallet new
</code></pre>
</li>
<li>
<p>Create a new keypair and save it in the <code>keystore</code> directory:</p>
<pre><code class="language-sh">cast wallet new keystore
</code></pre>
</li>
</ol>
<h3 id="see-also-81"><a class="header" href="#see-also-81">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-wallet.html">cast wallet</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-wallet-address"><a class="header" href="#cast-wallet-address">cast wallet address</a></h2>
<h3 id="name-91"><a class="header" href="#name-91">NAME</a></h3>
<p>cast-wallet-address - Convert a private key to an address.</p>
<h3 id="synopsis-91"><a class="header" href="#synopsis-91">SYNOPSIS</a></h3>
<p><code>cast wallet address</code> [<em>options</em>]</p>
<h3 id="description-91"><a class="header" href="#description-91">DESCRIPTION</a></h3>
<p>Convert a private key to an address.</p>
<h3 id="options-89"><a class="header" href="#options-89">OPTIONS</a></h3>
<h4 id="keystore-options-1"><a class="header" href="#keystore-options-1">Keystore Options</a></h4>
<h4 id="wallet-options---raw-5"><a class="header" href="#wallet-options---raw-5">Wallet Options - Raw</a></h4>
<p><code>-i</code><br />
<code>--interactive</code><br />
    Open an interactive prompt to enter your private key.</p>
<p><code>--private-key</code> <em>raw_private_key</em><br />
    Use the provided private key.</p>
<p><code>--mnemonic-path</code> <em>path</em><br />
    Use the mnemonic file at the specified path.</p>
<p><code>--mnemonic-index</code> <em>index</em><br />
    Use the private key from the given mnemonic index. Used with <code>--mnemonic-path</code>.<br />
    Defaults to <code>0</code>.</p>
<h4 id="wallet-options---keystore-5"><a class="header" href="#wallet-options---keystore-5">Wallet Options - Keystore</a></h4>
<p><code>--keystore</code> <em>path</em><br />
    Use the keystore in the given folder or file.<br />
    Environment: <code>ETH_KEYSTORE</code></p>
<p><code>--password</code> <em>password</em><br />
    The keystore password. Used with <code>--keystore</code>.</p>
<h4 id="wallet-options---hardware-wallet-5"><a class="header" href="#wallet-options---hardware-wallet-5">Wallet Options - Hardware Wallet</a></h4>
<p><code>-t</code><br />
<code>--trezor</code><br />
    Use a Trezor hardware wallet.</p>
<p><code>-l</code><br />
<code>--ledger</code><br />
    Use a Ledger hardware wallet.</p>
<p><code>--hd-path</code> <em>path</em><br />
    The derivation path to use with hardware wallets.</p>
<h4 id="common-options-89"><a class="header" href="#common-options-89">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-74"><a class="header" href="#examples-74">EXAMPLES</a></h3>
<ol>
<li>Get the address of the keypair in <code>keystore.json</code>:
<pre><code class="language-sh">cast wallet address --keystore keystore.json
</code></pre>
</li>
</ol>
<h3 id="see-also-82"><a class="header" href="#see-also-82">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-wallet.html">cast wallet</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-wallet-sign"><a class="header" href="#cast-wallet-sign">cast wallet sign</a></h2>
<h3 id="name-92"><a class="header" href="#name-92">NAME</a></h3>
<p>cast-wallet-sign - Sign a message.</p>
<h3 id="synopsis-92"><a class="header" href="#synopsis-92">SYNOPSIS</a></h3>
<p><code>cast wallet sign</code> [<em>options</em>] <em>message</em></p>
<h3 id="description-92"><a class="header" href="#description-92">DESCRIPTION</a></h3>
<p>Sign a message.</p>
<h3 id="options-90"><a class="header" href="#options-90">OPTIONS</a></h3>
<h4 id="wallet-options---raw-6"><a class="header" href="#wallet-options---raw-6">Wallet Options - Raw</a></h4>
<p><code>-i</code><br />
<code>--interactive</code><br />
    Open an interactive prompt to enter your private key.</p>
<p><code>--private-key</code> <em>raw_private_key</em><br />
    Use the provided private key.</p>
<p><code>--mnemonic-path</code> <em>path</em><br />
    Use the mnemonic file at the specified path.</p>
<p><code>--mnemonic-index</code> <em>index</em><br />
    Use the private key from the given mnemonic index. Used with <code>--mnemonic-path</code>.<br />
    Defaults to <code>0</code>.</p>
<h4 id="wallet-options---keystore-6"><a class="header" href="#wallet-options---keystore-6">Wallet Options - Keystore</a></h4>
<p><code>--keystore</code> <em>path</em><br />
    Use the keystore in the given folder or file.<br />
    Environment: <code>ETH_KEYSTORE</code></p>
<p><code>--password</code> <em>password</em><br />
    The keystore password. Used with <code>--keystore</code>.</p>
<h4 id="wallet-options---hardware-wallet-6"><a class="header" href="#wallet-options---hardware-wallet-6">Wallet Options - Hardware Wallet</a></h4>
<p><code>-t</code><br />
<code>--trezor</code><br />
    Use a Trezor hardware wallet.</p>
<p><code>-l</code><br />
<code>--ledger</code><br />
    Use a Ledger hardware wallet.</p>
<p><code>--hd-path</code> <em>path</em><br />
    The derivation path to use with hardware wallets.</p>
<h4 id="common-options-90"><a class="header" href="#common-options-90">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-75"><a class="header" href="#examples-75">EXAMPLES</a></h3>
<ol>
<li>
<p>Sign a message using a keystore:</p>
<pre><code class="language-sh">cast wallet sign --keystore keystore.json --interactive &quot;hello&quot;
</code></pre>
</li>
<li>
<p>Sign a message using a raw private key:</p>
<pre><code class="language-sh">cast wallet sign --private-key $PRIV_KEY &quot;hello&quot;
</code></pre>
</li>
</ol>
<h3 id="see-also-83"><a class="header" href="#see-also-83">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-wallet.html">cast wallet</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-wallet-vanity"><a class="header" href="#cast-wallet-vanity">cast wallet vanity</a></h2>
<h3 id="name-93"><a class="header" href="#name-93">NAME</a></h3>
<p>cast-wallet-vanity - Generate a vanity address.</p>
<h3 id="synopsis-93"><a class="header" href="#synopsis-93">SYNOPSIS</a></h3>
<p><code>cast wallet vanity</code> [<em>options</em>]</p>
<h3 id="description-93"><a class="header" href="#description-93">DESCRIPTION</a></h3>
<p>Generate a vanity address.</p>
<p>If <code>--nonce</code> is specified, then the command will try to generate a vanity contract address.</p>
<h3 id="options-91"><a class="header" href="#options-91">OPTIONS</a></h3>
<h4 id="keystore-options-2"><a class="header" href="#keystore-options-2">Keystore Options</a></h4>
<p><code>--starts-with</code> <em>hex</em><br />
    Prefix for the vanity address.</p>
<p><code>--ends-with</code> <em>hex</em><br />
    Suffix for the vanity address.</p>
<p><code>--nonce</code> <em>nonce</em><br />
    Generate a vanity contract address created by the generated keypair with the specified nonce.</p>
<h4 id="common-options-91"><a class="header" href="#common-options-91">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="examples-76"><a class="header" href="#examples-76">EXAMPLES</a></h3>
<ol>
<li>
<p>Create a new keypair that starts with <code>dead</code>:</p>
<pre><code class="language-sh">cast wallet vanity --starts-with dead
</code></pre>
</li>
<li>
<p>Create a new keypair ends with <code>beef</code>:</p>
<pre><code class="language-sh">cast wallet vanity --ends-with beef
</code></pre>
</li>
</ol>
<h3 id="see-also-84"><a class="header" href="#see-also-84">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-wallet.html">cast wallet</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cast-wallet-verify"><a class="header" href="#cast-wallet-verify">cast wallet verify</a></h2>
<h3 id="name-94"><a class="header" href="#name-94">NAME</a></h3>
<p>cast-wallet-verify - Verify the signature of a message.</p>
<h3 id="synopsis-94"><a class="header" href="#synopsis-94">SYNOPSIS</a></h3>
<p><code>cast wallet verify</code> [<em>options</em>] <code>--address</code> <em>address</em> <em>message</em> <em>signature</em></p>
<h3 id="description-94"><a class="header" href="#description-94">DESCRIPTION</a></h3>
<p>Verify the signature of a message.</p>
<h3 id="options-92"><a class="header" href="#options-92">OPTIONS</a></h3>
<h4 id="signature-options"><a class="header" href="#signature-options">Signature Options</a></h4>
<p><code>-a</code> <em>address</em><br />
<code>--address</code> <em>address</em><br />
    The address of the message signer.</p>
<h4 id="common-options-92"><a class="header" href="#common-options-92">Common Options</a></h4>
<p><code>-h</code><br />
<code>--help</code><br />
    Prints help information.</p>
<h3 id="see-also-85"><a class="header" href="#see-also-85">SEE ALSO</a></h3>
<p><a href="reference/cast/./cast.html">cast</a>, <a href="reference/cast/./cast-wallet.html">cast wallet</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="anvil"><a class="header" href="#anvil">anvil</a></h2>
<h3 id="name-95"><a class="header" href="#name-95">NAME</a></h3>
<p>anvil - Create a local testnet node for deploying and testing smart contracts. It can also be used to fork other EVM compatible networks.</p>
<h3 id="synopsis-95"><a class="header" href="#synopsis-95">SYNOPSIS</a></h3>
<p><code>anvil</code> [<em>options</em>]</p>
<h3 id="description-95"><a class="header" href="#description-95">DESCRIPTION</a></h3>
<p>Create a local testnet node for deploying and testing smart contracts. It can also be used to fork other EVM compatible networks.</p>
<p>This section covers an extensive list of information about Mining Modes, Supported Transport Layers, Supported RPC Methods, Anvil flags and their usages. You can run multiple flags at the same time.</p>
<h4 id="mining-modes"><a class="header" href="#mining-modes">Mining Modes</a></h4>
<p>Mining modes refer to how frequent blocks are mined using Anvil. By default, it automatically generates a new block as soon as a transaction is submitted.</p>
<p>You can change this setting to interval mining if you will, which means that a new block will be generated in a given period of time selected by the user. If you want to go for this type of mining, you can do it by adding the <code>--block-time &lt;block-time-in-seconds&gt;</code> flag, like in the following example.</p>
<pre><code class="language-sh"># Produces a new block every 10 seconds
anvil --block-time 10
</code></pre>
<p>There's also a third mining mode called never. In this case, it disables auto and interval mining, and mine on demand instead. You can do this by typing:</p>
<pre><code class="language-sh"># Enables never mining mode
anvil --no-mining
</code></pre>
<h4 id="supported-transport-layers"><a class="header" href="#supported-transport-layers">Supported Transport Layers</a></h4>
<p>HTTP is already supported and WebSocket (WS) will be supported soon. The server listens on port 8545 by default, but it can be changed by running the following command:</p>
<pre><code class="language-sh">anvil --port &lt;PORT&gt;
</code></pre>
<h4 id="supported-rpc-methods"><a class="header" href="#supported-rpc-methods">Supported RPC Methods</a></h4>
<h5 id="standard-methods"><a class="header" href="#standard-methods">Standard Methods</a></h5>
<p>The standard methods are based on <a href="https://eth.wiki/json-rpc/API">this</a> reference.</p>
<ul>
<li>
<p><code>web3_clientVersion</code></p>
</li>
<li>
<p><code>web3_sha3</code></p>
</li>
<li>
<p><code>eth_chainId</code></p>
</li>
<li>
<p><code>eth_networkId</code></p>
</li>
<li>
<p><code>eth_gasPrice</code></p>
</li>
<li>
<p><code>eth_accounts</code></p>
</li>
<li>
<p><code>eth_blockNumber</code></p>
</li>
<li>
<p><code>eth_getBalance</code></p>
</li>
<li>
<p><code>eth_getStorageAt</code></p>
</li>
<li>
<p><code>eth_getBlockByHash</code></p>
</li>
<li>
<p><code>eth_getBlockByNumber</code></p>
</li>
<li>
<p><code>eth_getTransactionCount</code></p>
</li>
<li>
<p><code>eth_getBlockTransactionCountByHash</code></p>
</li>
<li>
<p><code>eth_getBlockTransactionCountByNumber</code></p>
</li>
<li>
<p><code>eth_getUncleCountByBlockHash</code></p>
</li>
<li>
<p><code>eth_getUncleCountByBlockNumber</code></p>
</li>
<li>
<p><code>eth_getCode</code></p>
</li>
<li>
<p><code>eth_sign</code></p>
</li>
<li>
<p><code>eth_sendTransaction</code></p>
</li>
<li>
<p><code>eth_sendRawTransaction</code></p>
</li>
<li>
<p><code>eth_call</code></p>
</li>
<li>
<p><code>eth_createAccessList</code></p>
</li>
<li>
<p><code>eth_estimateGas</code></p>
</li>
<li>
<p><code>eth_getTransactionByHash</code></p>
</li>
<li>
<p><code>eth_getTransactionByBlockHashAndIndex</code></p>
</li>
<li>
<p><code>eth_getTransactionByBlockNumberAndIndex</code></p>
</li>
<li>
<p><code>eth_getTransactionReceipt</code></p>
</li>
<li>
<p><code>eth_getUncleByBlockHashAndIndex</code></p>
</li>
<li>
<p><code>eth_getUncleByBlockNumberAndIndex</code></p>
</li>
<li>
<p><code>eth_getLogs</code></p>
</li>
<li>
<p><code>eth_newFilter</code></p>
</li>
<li>
<p><code>eth_getFilterChanges</code></p>
</li>
<li>
<p><code>eth_newBlockFilter</code></p>
</li>
<li>
<p><code>eth_newPendingTransactionFilter</code></p>
</li>
<li>
<p><code>eth_getFilterLogs</code></p>
</li>
<li>
<p><code>eth_uninstallFilter</code></p>
</li>
<li>
<p><code>eth_getWork</code></p>
</li>
<li>
<p><code>eth_submitWork</code></p>
</li>
<li>
<p><code>eth_submitHashrate</code></p>
</li>
<li>
<p><code>eth_feeHistory</code></p>
</li>
<li>
<p><code>trace_transaction</code></p>
</li>
<li>
<p><code>trace_block</code></p>
</li>
</ul>
<h5 id="custom-methods"><a class="header" href="#custom-methods">Custom Methods</a></h5>
<p>The <code>anvil_*</code> namespace is an alias for <code>hardhat</code>. For more info, refer to the <a href="https://hardhat.org/hardhat-network/reference#hardhat-network-methods">Hardhat documentation</a>.</p>
<p><code>anvil_impersonateAccount</code><br />
Send transactions impersonating specific account and contract addresses</p>
<p><code>anvil_stopImpersonatingAccount</code><br />
Stops impersonating an account if previously set with <code>anvil_impersonateAccount</code></p>
<p><code>anvil_getAutomine</code><br />
Returns true if automatic mining is enabled, and false</p>
<p><code>anvil_mine</code><br />
Mines a series of blocks</p>
<p><code>anvil_dropTransaction</code><br />
Removes transactions from the pool</p>
<p><code>anvil_reset</code><br />
Reset the fork to a fresh forked state, and optionally update the fork config</p>
<p><code>anvil_setRpcUrl</code><br />
Sets the backend RPC URL</p>
<p><code>anvil_setBalance</code><br />
Modifies the balance of an account</p>
<p><code>anvil_setCode</code><br />
Sets the code of a contract</p>
<p><code>anvil_setNonce</code><br />
Sets the nonce of an address</p>
<p><code>anvil_setStorageAt</code><br />
Writes a single slot of the account's storage</p>
<p><code>anvil_setCoinbase</code><br />
Sets the coinbase address</p>
<p><code>anvil_setLoggingEnabled</code><br />
Enable or disable logging</p>
<p><code>anvil_setMinGasPrice</code><br />
Set the minimum gas price for the node</p>
<p><code>anvil_setNextBlockBaseFeePerGas</code><br />
Sets the base fee of the next block</p>
<h5 id="special-methods"><a class="header" href="#special-methods">Special Methods</a></h5>
<p>The special methods come from Ganache. You can take a look at the documentation <a href="https://github.com/trufflesuite/ganache-cli-archive/blob/master/README.md">here</a>.</p>
<p><code>evm_setAutomine</code><br />
Enables or disables, based on the single boolean argument, the automatic mining of new blocks with each new transaction submitted to the network</p>
<p><code>evm_setIntervalMining</code><br />
Sets the mining behavior to interval with the given interval (seconds)</p>
<p><code>evm_snapshot</code><br />
Snapshot the state of the blockchain at the current block</p>
<p><code>evm_revert</code><br />
Revert the state of the blockchain to a previous snapshot. Takes a single parameter, which is the snapshot id to revert to</p>
<p><code>evm_increaseTime</code><br />
Jump forward in time by the given amount of time, in seconds</p>
<p><code>evm_setNextBlockTimestamp</code><br />
Similar to <code>evm_increaseTime</code> but takes the exact timestamp that you want in the next block</p>
<p><code>anvil_setBlockTimestampInterval</code><br />
Similar to <code>evm_increaseTime</code> but sets a block timestamp <code>interval</code>. The timestamp of the next block will be computed as <code>lastBlock_timestamp + interval</code></p>
<p><code>anvil_removeBlockTimestampInterval</code><br />
Removes an <code>anvil_setBlockTimestampInterval</code> if it exists</p>
<p><code>evm_mine</code><br />
Mine a single block</p>
<p><code>anvil_enableTraces</code><br />
Turn on call traces for transactions that are returned to the user when they execute a transaction (instead of just txhash/receipt)</p>
<p><code>eth_sendUnsignedTransaction</code><br />
Execute a transaction regardless of signature status</p>
<p>For the next three methods, make sure to read <a href="https://geth.ethereum.org/docs/rpc/ns-txpool">Geth's documentation</a>.</p>
<p><code>txpool_status</code><br />
Returns the number of transactions currently pending for inclusion in the next block(s), as well as the ones that are being scheduled for future execution only</p>
<p><code>txpool_inspect</code><br />
Returns a summary of all the transactions currently pending for inclusion in the next block(s), as well as the ones that are being scheduled for future execution only</p>
<p><code>txpool_content</code><br />
Returns the details of all transactions currently pending for inclusion in the next block(s), as well as the ones that are being scheduled for future execution only</p>
<h3 id="options-93"><a class="header" href="#options-93">OPTIONS</a></h3>
<h4 id="general-options"><a class="header" href="#general-options">General Options</a></h4>
<p><code>-a, --accounts &lt;ACCOUNTS&gt;</code><br />
     Set the number of accounts [default: 10]</p>
<p><code>-b, --block-time &lt;block-time&gt;</code><br />
     Block time in seconds for interval mining</p>
<p><code>--balance &lt;BALANCE&gt;</code><br />
     Set the balance of the accounts [default: 10000]</p>
<p><code>--derivation-path &lt;DERIVATION_PATH&gt;</code><br />
     Set the derivation path of the child key to be derived [default: m/44'/60'/0'/0/]</p>
<p><code>-h, --help</code><br />
     Print help information</p>
<p><code>--hardfork &lt;HARDFORK&gt;</code><br />
     Choose the EVM hardfork to use [default: latest]</p>
<p><code>--host &lt;HOST&gt;</code><br />
     The IP address the server will listen on</p>
<p><code>-m, --mnemonic &lt;MNEMONIC&gt;</code><br />
     BIP39 mnemonic phrase used for generating accounts</p>
<p><code>--no-mining</code><br />
     Disable auto and interval mining, and mine on demand instead</p>
<p><code>--order &lt;ORDER&gt;</code><br />
     How transactions are sorted in the mempool [default: fees]</p>
<p><code>-p, --port &lt;PORT&gt;</code><br />
     Port number to listen on [default: 8545]</p>
<p><code>--silent</code><br />
     Don't print anything on startup</p>
<p><code>-V, --version</code><br />
     Print version information</p>
<h4 id="evm-options-4"><a class="header" href="#evm-options-4">EVM Options</a></h4>
<p><code>-f, --fork-url &lt;URL&gt;</code><br />
     Fetch state over a remote endpoint instead of starting from an empty state</p>
<p><code>--ffi</code><br />
     Enables the FFI cheatcode</p>
<p><code>--fork-block-number &lt;BLOCK&gt;</code><br />
     Fetch state from a specific block number over a remote endpoint (Must pass --fork-url in the same command-line)</p>
<p><code>--initial-balance &lt;BALANCE&gt;</code><br />
     The initial balance of deployed test contracts</p>
<p><code>--no-storage-caching&gt;</code><br />
     Explicitly disables the use of RPC caching. All storage slots are read entirely from the endpoint. This flag overrides the project's configuration file (Must pass --fork-url in the same command-line)</p>
<p><code>--sender &lt;ADDRESS&gt; </code><br />
     The address which will be executing tests</p>
<p><code>-v, --verbosity</code><br />
     Verbosity of the EVM. Pass multiple times to increase the verbosity (e.g. -v, -vv, -vvv)<br />
     Verbosity levels:<br />
      - 2: Print logs for all tests<br />
      - 3: Print execution traces for failing tests<br />
      - 4: Print execution traces for all tests, and setup traces for failing tests<br />
      - 5: Print execution and setup traces for all tests</p>
<h4 id="executor-environment-config"><a class="header" href="#executor-environment-config">Executor Environment Config</a></h4>
<p><code>--base-fee &lt;FEE&gt;</code><br />
<code>--block-base-fee-per-gas &lt;FEE&gt;</code><br />
     The base fee in a block</p>
<p><code>--block-coinbase &lt;ADDRESS&gt;</code><br />
     The coinbase of the block</p>
<p><code>--block-difficulty &lt;DIFFICULTY&gt;</code><br />
     The block difficulty</p>
<p><code>--block-gas-limit &lt;GAS_LIMIT&gt;</code><br />
     The block gas limit</p>
<p><code>--block-number &lt;BLOCK&gt;</code><br />
     The block number</p>
<p><code>--block-timestamp &lt;TIMESTAMP&gt;</code><br />
     The timestamp of the block</p>
<p><code>--chain-id &lt;CHAIN_ID&gt;</code><br />
     The chain ID</p>
<p><code>--gas-limit &lt;GAS_LIMIT&gt;</code><br />
     The block gas limit</p>
<p><code>--gas-price &lt;GAS_PRICE&gt;</code><br />
     The gas price</p>
<p><code>--tx-origin &lt;ADDRESS&gt;</code><br />
     The transaction origin</p>
<h4 id="server-options"><a class="header" href="#server-options">Server Options</a></h4>
<p><code>--allow-origin &lt;allow-origin&gt;</code><br />
     Set the CORS allow_origin [default: *]</p>
<p><code>--no-cors</code><br />
     Disable CORS</p>
<h3 id="examples-77"><a class="header" href="#examples-77">EXAMPLES</a></h3>
<ol>
<li>Set the number of accounts to 15 and their balance to 300 ETH</li>
</ol>
<pre><code class="language-sh">anvil --accounts 15 --balance 300
</code></pre>
<ol start="2">
<li>Choose the address which will execute the tests</li>
</ol>
<pre><code class="language-sh">anvil --sender 0xC8479C45EE87E0B437c09d3b8FE8ED14ccDa825E
</code></pre>
<ol start="3">
<li>Change how transactions are sorted in the mempool to FIFO</li>
</ol>
<pre><code class="language-sh">anvil --order fifo
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="config-reference"><a class="header" href="#config-reference">Config Reference</a></h2>
<p>Foundry's configuration system allows you to configure its tools.</p>
<h3 id="profiles"><a class="header" href="#profiles">Profiles</a></h3>
<p>Configuration can be arbitrarily namespaced into profiles. The default profile is named <code>default</code>, and all other profiles inherit values from this profile.</p>
<p>You can select the profile to use by setting the <code>FOUNDRY_PROFILE</code> environment variable.</p>
<h3 id="global-configuration"><a class="header" href="#global-configuration">Global configuration</a></h3>
<p>You can create a <code>foundry.toml</code> file in your home folder to configure Foundry globally.</p>
<h3 id="environment-variables"><a class="header" href="#environment-variables">Environment variables</a></h3>
<p>Configuration can be overriden with <code>FOUNDRY_</code> and <code>DAPP_</code> prefixed environment variables.</p>
<h3 id="configuration-format"><a class="header" href="#configuration-format">Configuration format</a></h3>
<p>Configuration files are written in the <a href="https://toml.io">TOML format</a>, with simple key-value pairs inside of sections. The following gives a quick overview of all settings (and their default values), with detailed descriptions found below.</p>
<pre><code class="language-toml">[default]
# The source directory
src = 'src'
# The test directory
test = 'test'
# The artifact directory
out = 'out'
# A list of paths to look for libraries in
libs = ['lib']
# A list of remappings
remappings = []
# additional solc allow paths
allow_paths = []
# A list of deployed libraries to link against
libraries = []
# Whether to cache builds or not
cache = true
# The cache directory if enabled
cache_path = 'cache'
# Whether to ignore the cache
force = false
# The EVM version by hardfork name
evm_version = 'london'
# Override the Solidity version (this overrides `auto_detect_solc`)
#solc_version = '0.8.10'
# Whether or not Forge should auto-detect the solc version to use
auto_detect_solc = true
# Disables downloading missing solc versions
offline = false
# Enables or disables the optimizer
optimizer = true
# The number of optimizer runs
optimizer_runs = 200
# The verbosity of tests
verbosity = 0
# A list of ignored solc error codes
ignored_error_codes = []
# The number of fuzz runs for fuzz tests
fuzz_runs = 256
# The max number of individual inputs that may be rejected before a fuzz test aborts
fuzz_max_local_rejects = 65536
# The max number of combined inputs that may be rejected before a fuzz test aborts
fuzz_max_global_rejects = 1024
# Whether or not to enable `vm.ffi`
ffi = false
# The address of `msg.sender` in tests
sender = '0x00a329c0648769a73afac7f9381e08fb43dbea72'
# The address of `tx.origin` in tests
tx_origin = '0x00a329c0648769a73afac7f9381e08fb43dbea72'
# The initial balance of the test contract
initial_balance = '0xffffffffffffffffffffffff'
# The block number we are at in tests
block_number = 1
# The chain ID we are on in tests
chain_id = 31337
# The gas limit in tests
gas_limit = 9223372036854775807
# The gas price in tests (in wei)
gas_price = 0
# The block basefee in tests (in wei)
block_base_fee_per_gas = 0
# The address of `block.coinbase` in tests
block_coinbase = '0x0000000000000000000000000000000000000000'
# The block timestamp in tests
block_timestamp = 1
# The block difficulty in tests
block_difficulty = 0
# A list of contracts to output gas reports for
gas_reports = [&quot;*&quot;]
# Enables or disables RPC caching when forking
no_storage_caching = false
# Caches storage retrieved locally for certain chains and endpoints
# Can also be restricted to multiple chains
# By default only remote endpoints will be cached
# To disable storage caching, set `no_storage_caching = true`
rpc_storage_caching = { chains = &quot;all&quot;, endpoints = &quot;remote&quot; }
# Extra output to include in the contract's artifact.
extra_output = []
# Extra output to write to separate files.
extra_output_files = []
# Use the given hash method for the metadata hash that is appended
# to the bytecode.
# The metadata hash can be removed from the bytecode by setting &quot;none&quot;
bytecode_hash = &quot;ipfs&quot;
# If enabled, the Solidity compiler is instructed to generate bytecode
# only for the required contracts. This can reduce compile time
# for `forge test`, but is experimental.
sparse_mode = false
# Whether or not to use the Yul intermediate representation compilation pipeline
via_ir = false
# How to treat revert (and require) reason strings
revert_strings = &quot;default&quot;
# Switch optimizer components on or off in detail
#optimizer_details = None
# Url of the rpc server that should be used for any rpc calls
#eth_rpc_url = None
# Etherscan API key
#etherscan_api_key = None
# Only run test functions matching the specified regex pattern
#test_pattern= None
# Only run test functions that do not match the specified regex pattern
#test_pattern_inverse = None
# Only run tests in contracts matching the specified regex pattern
#contract_pattern = None
# Only run tests in contracts that do not match the specified regex pattern
#contract_pattern_inverse = None
# Only run tests in source files matching the specified glob pattern
#path_pattern = None
# Only run tests in source files that do not match the specified glob pattern
#path_pattern_inverse = None
# The block gas limit
#block_gas_limit = None
# The memory limit of the EVM (32 MB by default)
memory_limit = 33554432
# Print the names of the compiled contracts
names = false
# Print the sizes of the compiled contracts
sizes = false
</code></pre>
<h3 id="configuration-keys"><a class="header" href="#configuration-keys">Configuration keys</a></h3>
<p>This section documents all configuration keys. All configuration keys must live under a profile, such as <code>default</code>.</p>
<h4 id="project"><a class="header" href="#project">Project</a></h4>
<p>Configuration related to the project in general.</p>
<h5 id="src"><a class="header" href="#src"><code>src</code></a></h5>
<ul>
<li>Type: string</li>
<li>Default: src</li>
<li>Environment: <code>FOUNDRY_SRC</code> or <code>DAPP_SRC</code></li>
</ul>
<p>The path to the contract sources relative to the root of the project.</p>
<h5 id="test"><a class="header" href="#test"><code>test</code></a></h5>
<ul>
<li>Type: string</li>
<li>Default: test</li>
<li>Environment: <code>FOUNDRY_TEST</code> or <code>DAPP_TEST</code></li>
</ul>
<p>The path to the test contract sources relative to the root of the project.</p>
<h5 id="out"><a class="header" href="#out"><code>out</code></a></h5>
<ul>
<li>Type: string</li>
<li>Default: out</li>
<li>Environment: <code>FOUNDRY_OUT</code> or <code>DAPP_OUT</code></li>
</ul>
<p>The path to put contract artifacts in, relative to the root of the project.</p>
<h5 id="libs"><a class="header" href="#libs"><code>libs</code></a></h5>
<ul>
<li>Type: array of strings (paths)</li>
<li>Default: lib</li>
<li>Environment: <code>FOUNDRY_LIBS</code> or <code>DAPP_LIBS</code></li>
</ul>
<p>An array of paths that contain libraries, relative to the root of the project.</p>
<h5 id="cache"><a class="header" href="#cache"><code>cache</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: true</li>
<li>Environment: <code>FOUNDRY_CACHE</code> or <code>DAPP_CACHE</code></li>
</ul>
<p>Whether or not to enable caching. If enabled, the result of compiling sources, tests, and dependencies, are cached in <code>cache</code>.</p>
<h5 id="cache_path"><a class="header" href="#cache_path"><code>cache_path</code></a></h5>
<ul>
<li>Type: string</li>
<li>Default: cache</li>
<li>Environment: <code>FOUNDRY_CACHE_PATH</code> or <code>DAPP_CACHE_PATH</code></li>
</ul>
<p>The path to the cache, relative to the root of the project.</p>
<h5 id="force"><a class="header" href="#force"><code>force</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: false</li>
<li>Environment: <code>FOUNDRY_FORCE</code> or <code>DAPP_FORCE</code></li>
</ul>
<p>Whether or not to perform a clean build, discarding the cache.</p>
<h4 id="solidity-compiler"><a class="header" href="#solidity-compiler">Solidity compiler</a></h4>
<p>Configuration related to the behavior of the Solidity compiler.</p>
<h5 id="remappings"><a class="header" href="#remappings"><code>remappings</code></a></h5>
<ul>
<li>Type: array of strings (remappings)</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_REMAPPINGS</code> or <code>DAPP_REMAPPINGS</code></li>
</ul>
<p>An array of remappings in the following format: <code>&lt;name&gt;=&lt;target&gt;</code>.</p>
<p>A remapping <em>remaps</em> Solidity imports to different directories. For example, the following remapping</p>
<pre><code class="language-ignore">@openzeppelin/=node_modules/@openzeppelin/openzeppelin-contracts/
</code></pre>
<p>with an import like</p>
<pre><code class="language-solidity">import &quot;@openzeppelin/contracts/utils/Context.sol&quot;;
</code></pre>
<p>becomes</p>
<pre><code class="language-solidity">import &quot;node_modules/@openzeppelin/openzeppelin-contracts/contracts/utils/Context.sol&quot;;
</code></pre>
<h5 id="allow_paths"><a class="header" href="#allow_paths"><code>allow_paths</code></a></h5>
<ul>
<li>Type: array of strings (paths)</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_ALLOW_PATHS</code> or <code>DAPP_ALLOW_PATHS</code></li>
</ul>
<h5 id="libraries"><a class="header" href="#libraries"><code>libraries</code></a></h5>
<ul>
<li>Type: array of strings (libraries)</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_LIBRARIES</code> or <code>DAPP_LIBRARIES</code></li>
</ul>
<p>An array of libraries to link against in the following format: <code>&lt;file&gt;:&lt;lib&gt;:&lt;address&gt;</code>, for example: <code>src/MyLibrary.sol:MyLibrary:0xfD88CeE74f7D78697775aBDAE53f9Da1559728E4</code>.</p>
<h5 id="solc_version"><a class="header" href="#solc_version"><code>solc_version</code></a></h5>
<ul>
<li>Type: string (semver)</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_SOLC_VERSION</code> or <code>DAPP_SOLC_VERSION</code></li>
</ul>
<p>If specified, overrides the auto-detection system (more below) and uses a single Solidity compiler version for the project.</p>
<p>Only strict versions are supported (i.e. <code>0.8.11</code> is valid, but <code>^0.8.0</code> is not).</p>
<h5 id="auto_detect_solc"><a class="header" href="#auto_detect_solc"><code>auto_detect_solc</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: true</li>
<li>Environment: <code>FOUNDRY_AUTO_DETECT_SOLC</code> or <code>DAPP_AUTO_DETECT_SOLC</code></li>
</ul>
<p>If enabled, Foundry will automatically try to resolve appropriate Solidity compiler versions to compile your project.</p>
<p>This key is ignored if <code>solc_version</code> is set.</p>
<h5 id="offline"><a class="header" href="#offline"><code>offline</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: false</li>
<li>Environment: <code>FOUNDRY_OFFLINE</code> or <code>DAPP_OFFLINE</code></li>
</ul>
<p>If enabled, Foundry will not attempt to download any missing solc versions.</p>
<p>If both <code>offline</code> and <code>auto-detect-solc</code> are set to <code>true</code>, the required version(s) of solc will be auto detected but any missing versions will <em>not</em> be installed.</p>
<h5 id="optimizer"><a class="header" href="#optimizer"><code>optimizer</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: true</li>
<li>Environment: <code>FOUNDRY_OPTIMIZER</code> or <code>DAPP_OPTIMIZER</code></li>
</ul>
<p>Whether or not to enable the Solidity compiler optimizer.</p>
<h5 id="optimizer_runs"><a class="header" href="#optimizer_runs"><code>optimizer_runs</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 200</li>
<li>Environment: <code>FOUNDRY_OPTIMIZER_RUNS</code> or <code>DAPP_OPTIMIZER_RUNS</code></li>
</ul>
<p>The amount of optimizer runs to perform.</p>
<h5 id="ignored_error_codes"><a class="header" href="#ignored_error_codes"><code>ignored_error_codes</code></a></h5>
<ul>
<li>Type: array of integers</li>
<li>Default: none for source, SPDX license identifiers and contract size for tests</li>
<li>Environment: <code>FOUNDRY_IGNORED_ERROR_CODES</code> or <code>DAPP_IGNORED_ERROR_CODES</code></li>
</ul>
<p>An array of Solidity compiler error codes to ignore during build, such as warnings.</p>
<h5 id="evm_version"><a class="header" href="#evm_version"><code>evm_version</code></a></h5>
<ul>
<li>Type: string</li>
<li>Default: london</li>
<li>Environment: <code>FOUNDRY_EVM_VERSION</code> or <code>DAPP_EVM_VERSION</code></li>
</ul>
<p>The EVM version to use during tests. The value <strong>must</strong> be an EVM hardfork name, such as <code>london</code>, <code>byzantium</code>, etc.</p>
<h5 id="via_ir"><a class="header" href="#via_ir"><code>via_ir</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: false</li>
<li>Environment: <code>FOUNDRY_VIA_IR</code> or <code>DAPP_VIA_IR</code></li>
</ul>
<p>If set to true, changes compilation pipeline to go through the Yul intermediate representation.</p>
<h5 id="revert_strings"><a class="header" href="#revert_strings"><code>revert_strings</code></a></h5>
<ul>
<li>Type: string</li>
<li>Default: default</li>
<li>Environment: <code>FOUNDRY_REVERT_STRINGS</code> or <code>DAPP_REVERT_STRINGS</code></li>
</ul>
<p>Possible values are: </p>
<ul>
<li><code>default</code> does not inject compiler-generated revert strings and keeps user-supplied ones.</li>
<li><code>strip</code> removes all revert strings (if possible, i.e. if literals are used) keeping side-effects.</li>
<li><code>debug</code> injects strings for compiler-generated internal reverts, implemented for ABI encoders V1 and V2 for now.</li>
<li><code>verboseDebug</code> even appends further information to user-supplied revert strings (not yet implemented).</li>
</ul>
<h5 id="optimizer_details"><a class="header" href="#optimizer_details"><code>optimizer_details</code></a></h5>
<ul>
<li>Type: option</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_OPTIMIZER_DETAILS</code> or <code>DAPP_OPTIMIZER_DETAILS</code></li>
</ul>
<p>If the <code>optimizer</code> is enabled, there are two defaults provided which can be tweaked here.</p>
<p>Possible values are:</p>
<ul>
<li>peephole</li>
<li>inliner</li>
<li>jumpdest_remover</li>
<li>order_literals</li>
<li>deduplicate</li>
<li>cse</li>
<li>constant_optimizer</li>
<li>yul</li>
<li>yul_details</li>
</ul>
<h5 id="eth_rpc_url"><a class="header" href="#eth_rpc_url"><code>eth_rpc_url</code></a></h5>
<ul>
<li>Type: string</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_ETH_RPC_URL</code> or <code>DAPP_ETH_RPC_URL</code></li>
</ul>
<p>The url of the rpc server that should be used for any rpc calls.</p>
<h5 id="etherscan_api_key"><a class="header" href="#etherscan_api_key"><code>etherscan_api_key</code></a></h5>
<ul>
<li>Type: string</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_ETHERSCAN_API_KEY</code> or <code>DAPP_ETHERSCAN_API_KEY</code></li>
</ul>
<p>The etherscan API key for RPC calls.</p>
<h4 id="tests-1"><a class="header" href="#tests-1">Tests</a></h4>
<p>Configuration related to the behavior of <code>forge test</code>.</p>
<h5 id="verbosity"><a class="header" href="#verbosity"><code>verbosity</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 0</li>
<li>Environment: <code>FOUNDRY_VERBOSITY</code> or <code>DAPP_VERBOSITY</code></li>
</ul>
<p>The verbosity level to use during tests.</p>
<ul>
<li><strong>Level 2 (<code>-vv</code>)</strong>: Logs emitted during tests are also displayed.</li>
<li><strong>Level 3 (<code>-vvv</code>)</strong>: Stack traces for failing tests are also displayed.</li>
<li><strong>Level 4 (<code>-vvvv</code>)</strong>: Stack traces for all tests are displayed, and setup traces for failing tests are displayed.</li>
<li><strong>Level 5 (<code>-vvvvv</code>)</strong>: Stack traces and setup traces are always displayed.</li>
</ul>
<h5 id="fuzz_runs"><a class="header" href="#fuzz_runs"><code>fuzz_runs</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 256</li>
<li>Environment: <code>FOUNDRY_FUZZ_RUNS</code> or <code>DAPP_FUZZ_RUNS</code></li>
</ul>
<p>The amount of fuzz runs to perform for each fuzz test case. Higher values gives more confidence in results at the cost of testing speed.</p>
<h5 id="fuzz_max_local_rejects"><a class="header" href="#fuzz_max_local_rejects"><code>fuzz_max_local_rejects</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 1024</li>
<li>Environment: <code>FOUNDRY_FUZZ_MAX_LOCAL_REJECTS</code></li>
</ul>
<p>The maximum number of individual inputs that may be rejected before the test as a whole aborts.
&quot;Local&quot; filters apply to a single strategy. If a value is rejected, a new value is drawn from that strategy only.</p>
<h5 id="fuzz_max_global_rejects"><a class="header" href="#fuzz_max_global_rejects"><code>fuzz_max_global_rejects</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 65536</li>
<li>Environment: <code>FOUNDRY_FUZZ_MAX_GLOBAL_REJECTS</code></li>
</ul>
<p>The maximum number of combined inputs that may be rejected before the test as a whole aborts.
&quot;Global&quot; filters apply to the whole test case. If the test case is rejected, the whole thing is regenerated.</p>
<h5 id="ffi"><a class="header" href="#ffi"><code>ffi</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: false</li>
<li>Environment: <code>FOUNDRY_FFI</code> or <code>DAPP_FFI</code></li>
</ul>
<p>Whether or not to enable the <code>ffi</code> cheatcode.</p>
<p><strong>Warning:</strong> Enabling this cheatcode has security implications for your project, as it allows tests to execute arbitrary programs on your computer.</p>
<h5 id="sender"><a class="header" href="#sender"><code>sender</code></a></h5>
<ul>
<li>Type: string (address)</li>
<li>Default: 0x00a329c0648769a73afac7f9381e08fb43dbea72</li>
<li>Environment: <code>FOUNDRY_SENDER</code> or <code>DAPP_SENDER</code></li>
</ul>
<p>The value of <code>msg.sender</code> in tests.</p>
<h5 id="tx_origin"><a class="header" href="#tx_origin"><code>tx_origin</code></a></h5>
<ul>
<li>Type: string (address)</li>
<li>Default: 0x00a329c0648769a73afac7f9381e08fb43dbea72</li>
<li>Environment: <code>FOUNDRY_TX_ORIGIN</code> or <code>DAPP_TX_ORIGIN</code></li>
</ul>
<p>The value of <code>tx.origin</code> in tests.</p>
<h5 id="initial_balance"><a class="header" href="#initial_balance"><code>initial_balance</code></a></h5>
<ul>
<li>Type: string (hexadecimal)</li>
<li>Default: 0xffffffffffffffffffffffff</li>
<li>Environment: <code>FOUNDRY_INITIAL_BALANCE</code> or <code>DAPP_INITIAL_BALANCE</code></li>
</ul>
<p>The initial balance of the test contracts in wei, written in hexadecimal.</p>
<h5 id="block_number"><a class="header" href="#block_number"><code>block_number</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 1</li>
<li>Environment: <code>FOUNDRY_BLOCK_NUMBER</code> or <code>DAPP_BLOCK_NUMBER</code></li>
</ul>
<p>The value of <code>block.number</code> in tests.</p>
<h5 id="chain_id"><a class="header" href="#chain_id"><code>chain_id</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 31337</li>
<li>Environment: <code>FOUNDRY_CHAIN_ID</code> or <code>DAPP_CHAIN_ID</code></li>
</ul>
<p>The value of the <code>chainid</code> opcode in tests.</p>
<h5 id="gas_limit"><a class="header" href="#gas_limit"><code>gas_limit</code></a></h5>
<ul>
<li>Type: integer or string</li>
<li>Default: 9223372036854775807</li>
<li>Environment: <code>FOUNDRY_GAS_LIMIT</code> or <code>DAPP_GAS_LIMIT</code></li>
</ul>
<p>The gas limit for each test case.</p>
<p>Due to a bug in a dependency of Forge, you <strong>cannot raise the gas limit</strong> beyond the default without changing the value to a string.</p>
<h5 id="gas_price"><a class="header" href="#gas_price"><code>gas_price</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 0</li>
<li>Environment: <code>FOUNDRY_GAS_PRICE</code> or <code>DAPP_GAS_PRICE</code></li>
</ul>
<p>The price of gas (in wei) in tests.</p>
<h5 id="block_base_fee_per_gas"><a class="header" href="#block_base_fee_per_gas"><code>block_base_fee_per_gas</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 0</li>
<li>Environment: <code>FOUNDRY_BLOCK_BASE_FEE_PER_GAS</code> or <code>DAPP_BLOCK_BASE_FEE_PER_GAS</code></li>
</ul>
<p>The base fee per gas (in wei) in tests.</p>
<h5 id="block_coinbase"><a class="header" href="#block_coinbase"><code>block_coinbase</code></a></h5>
<ul>
<li>Type: string (address)</li>
<li>Default: 0x0000000000000000000000000000000000000000</li>
<li>Environment: <code>FOUNDRY_BLOCK_COINBASE</code> or <code>DAPP_BLOCK_COINBASE</code></li>
</ul>
<p>The value of <code>block.coinbase</code> in tests.</p>
<h5 id="block_timestamp"><a class="header" href="#block_timestamp"><code>block_timestamp</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 1</li>
<li>Environment: <code>FOUNDRY_BLOCK_TIMESTAMP</code> or <code>DAPP_BLOCK_TIMESTAMP</code></li>
</ul>
<p>The value of <code>block.timestamp</code> in tests.</p>
<h5 id="block_difficulty"><a class="header" href="#block_difficulty"><code>block_difficulty</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 0</li>
<li>Environment: <code>FOUNDRY_BLOCK_DIFFICULTY</code> or <code>DAPP_BLOCK_DIFFICULTY</code></li>
</ul>
<p>The value of <code>block.difficulty</code> in tests.</p>
<h5 id="gas_reports"><a class="header" href="#gas_reports"><code>gas_reports</code></a></h5>
<ul>
<li>Type: array of strings (contract names)</li>
<li>Default: [&quot;*&quot;]</li>
<li>Environment: <code>FOUNDRY_GAS_REPORTS</code> or <code>DAPP_GAS_REPORTS</code></li>
</ul>
<p>The contracts to print gas reports for.</p>
<h5 id="no_storage_caching"><a class="header" href="#no_storage_caching"><code>no_storage_caching</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: false</li>
<li>Environment: <code>FOUNDRY_NO_STORAGE_CACHING</code> or <code>DAPP_NO_STORAGE_CACHING</code></li>
</ul>
<p>If set to <code>true</code>, then block data from RPC endpoints in tests will not be cached. Otherwise, the data is cached to <code>$HOME/.foundry/cache/&lt;chain id&gt;/&lt;block number&gt;</code>.</p>
<h5 id="rpc_storage_caching"><a class="header" href="#rpc_storage_caching"><code>[rpc_storage_caching]</code></a></h5>
<p>The <code>[rpc_storage_caching]</code> block determines what RPC endpoints are cached.</p>
<h6 id="rpc_storage_cachingchains"><a class="header" href="#rpc_storage_cachingchains"><code>rpc_storage_caching.chains</code></a></h6>
<ul>
<li>Type: string or array of strings (chain names)</li>
<li>Default: all</li>
<li>Environment: N/A</li>
</ul>
<p>Determines what chains are cached. By default, all chains are cached.</p>
<p>Valid values are:</p>
<ul>
<li>&quot;all&quot;</li>
<li>A list of chain names, e.g. <code>[&quot;optimism&quot;, &quot;mainnet&quot;]</code></li>
</ul>
<h6 id="rpc_storage_cachingendpoints"><a class="header" href="#rpc_storage_cachingendpoints"><code>rpc_storage_caching.endpoints</code></a></h6>
<ul>
<li>Type: string or array of regex patterns (to match URLs)</li>
<li>Default: remote</li>
<li>Environment: N/A</li>
</ul>
<p>Determines what RPC endpoints are cached. By default, only remote endpoints are cached.</p>
<p>Valid values are:</p>
<ul>
<li>all</li>
<li>remote (default)</li>
<li>A list of regex patterns, e.g. <code>[&quot;localhost&quot;]</code></li>
</ul>
<h5 id="extra_output"><a class="header" href="#extra_output"><code>extra_output</code></a></h5>
<ul>
<li>Type: array of strings</li>
<li>Default: see below</li>
<li>Environment: N/A</li>
</ul>
<p>Extra output to include in the contract's artifact.</p>
<p>The following values are always set, since they're required by Forge:</p>
<pre><code class="language-toml">extra_output = [
  &quot;abi&quot;,
  &quot;evm.bytecode&quot;,
  &quot;evm.deployedBytecode&quot;,
  &quot;evm.methodIdentifiers&quot;,
]
</code></pre>
<p>For a list of valid values, see the [Solidity docs][output-desc].</p>
<h5 id="extra_output_files"><a class="header" href="#extra_output_files"><code>extra_output_files</code></a></h5>
<ul>
<li>Type: array of strings</li>
<li>Default: none</li>
<li>Environment: N/A</li>
</ul>
<p>Extra output from the Solidity compiler that should be written to files in the artifacts directory.</p>
<p>Valid values are:</p>
<ul>
<li><code>metadata</code>: Written as a <code>metadata.json</code> file in the artifacts directory</li>
<li><code>ir</code>: Written as a <code>.ir</code> file in the artifacts directory</li>
<li><code>irOptimized</code>: Written as a <code>.iropt</code> file in the artifacts directory</li>
<li><code>ewasm</code>: Written as a <code>.ewasm</code> file in the artifacts directory</li>
<li><code>evm.assembly</code>: Written as a <code>.asm</code> file in the artifacts directory</li>
</ul>
<h5 id="bytecode_hash"><a class="header" href="#bytecode_hash"><code>bytecode_hash</code></a></h5>
<ul>
<li>Type: string</li>
<li>Default: ipfs</li>
<li>Environment: <code>FOUNDRY_BYTECODE_HASH</code> or <code>DAPP_BYTECODE_HASH</code></li>
</ul>
<p>Determines the hash method for the metadata hash that is appended to the bytecode.</p>
<p>Valid values are:</p>
<ul>
<li>ipfs (default)</li>
<li>bzzr1</li>
<li>none</li>
</ul>
<h5 id="sparse_mode"><a class="header" href="#sparse_mode"><code>sparse_mode</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: false</li>
<li>Environment: <code>FOUNDRY_SPARSE_MODE</code> or <code>DAPP_SPARSE_MODE</code></li>
</ul>
<p>Enables <a href="reference/./forge/forge-build.html#sparse-mode-experimental">sparse mode</a> for builds.</p>
<h5 id="test_pattern"><a class="header" href="#test_pattern"><code>test_pattern</code></a></h5>
<ul>
<li>Type: regex</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_TEST_PATTERN</code> or <code>DAPP_TEST_PATTERN</code></li>
</ul>
<p>Only run test methods matching regex.<br />
Equivalent to <code>forge test --match-test &lt;TEST_PATTERN&gt;</code></p>
<h5 id="test_pattern_inverse"><a class="header" href="#test_pattern_inverse"><code>test_pattern_inverse</code></a></h5>
<ul>
<li>Type: regex</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_TEST_PATTERN_INVERSE</code> or <code>DAPP_TEST_PATTERN_INVERSE</code></li>
</ul>
<p>Only run test methods not matching regex.<br />
Equivalent to <code>forge test --no-match-test &lt;TEST_PATTERN_INVERSE&gt;</code></p>
<h5 id="contract_pattern"><a class="header" href="#contract_pattern"><code>contract_pattern</code></a></h5>
<ul>
<li>Type: regex</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_CONTRACT_PATTERN</code> or <code>DAPP_CONTRACT_PATTERN</code></li>
</ul>
<p>Only run test methods in contracts matching regex.<br />
Equivalent to <code>forge test --match-contract &lt;CONTRACT_PATTERN&gt;</code></p>
<h5 id="contract_pattern_inverse"><a class="header" href="#contract_pattern_inverse"><code>contract_pattern_inverse</code></a></h5>
<ul>
<li>Type: regex</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_CONTRACT_PATTERN_INVERSE</code> or <code>DAPP_CONTRACT_PATTERN_INVERSE</code></li>
</ul>
<p>Only run test methods in contracts not matching regex.<br />
Equivalent to <code>forge test --no-match-contract &lt;CONTRACT_PATTERN_INVERSE&gt;</code></p>
<h5 id="path_pattern"><a class="header" href="#path_pattern"><code>path_pattern</code></a></h5>
<ul>
<li>Type: regex</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_PATH_PATTERN</code> or <code>DAPP_PATH_PATTERN</code></li>
</ul>
<p>Only runs test methods on files matching the path.</p>
<h5 id="path_pattern_inverse"><a class="header" href="#path_pattern_inverse"><code>path_pattern_inverse</code></a></h5>
<ul>
<li>Type: regex</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_PATH_PATTERN_INVERSE</code> or <code>DAPP_PATH_PATTERN_INVERSE</code></li>
</ul>
<p>Only runs test methods on files not matching the path.</p>
<h5 id="block_gas_limit"><a class="header" href="#block_gas_limit"><code>block_gas_limit</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: none</li>
<li>Environment: <code>FOUNDRY_BLOCK_GAS_LIMIT</code> or <code>DAPP_BLOCK_GAS_LIMIT</code></li>
</ul>
<p>The block.gaslimit value during EVM execution.</p>
<h5 id="memory_limit"><a class="header" href="#memory_limit"><code>memory_limit</code></a></h5>
<ul>
<li>Type: integer</li>
<li>Default: 33554432</li>
<li>Environment: <code>FOUNDRY_MEMORY_LIMIT</code> or <code>DAPP_MEMORY_LIMIT</code></li>
</ul>
<p>The memory limit of the EVM in bytes.</p>
<h5 id="names"><a class="header" href="#names"><code>names</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: false</li>
<li>Environment: <code>FOUNDRY_NAMES</code> or <code>DAPP_NAMES</code></li>
</ul>
<p>Print compiled contract names.</p>
<h5 id="sizes"><a class="header" href="#sizes"><code>sizes</code></a></h5>
<ul>
<li>Type: boolean</li>
<li>Default: false</li>
<li>Environment: <code>FOUNDRY_SIZES</code> or <code>DAPP_SIZES</code></li>
</ul>
<p>Print compiled contract sizes.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="forge-standard-library-reference"><a class="header" href="#forge-standard-library-reference">Forge Standard Library Reference</a></h2>
<p>Forge Standard Library (Forge Std for short) is a collection of helpful contracts that make writing tests easier, faster, and more user-friendly.</p>
<p>Using Forge Std is the preferred way of writing tests with Foundry.</p>
<p>What's included:</p>
<ul>
<li>
<p><code>Vm.sol</code>: Up-to-date <a href="reference/forge-std/../../cheatcodes/#cheatcodes-interface">cheatcodes interface</a></p>
<pre><code class="language-solidity">import &quot;forge-std/Vm.sol&quot;;
</code></pre>
</li>
<li>
<p><a href="https://hardhat.org/hardhat-network/reference/#console-log"><code>console.sol</code></a> and <code>console2.sol</code>: Hardhat-style logging functionality</p>
<pre><code class="language-solidity">import &quot;forge-std/console.sol&quot;;
</code></pre>
<p><strong>Note:</strong> <code>console2.sol</code> contains patches to <code>console.sol</code> that allow Forge to decode traces for calls to the console, but it is not compatible with Hardhat.</p>
<pre><code class="language-solidity">import &quot;forge-std/console2.sol&quot;;
</code></pre>
</li>
<li>
<p><code>Test.sol</code>: Complete Forge Std experience (more details <a href="reference/forge-std/index.html#forge-stds-test">below</a>)</p>
<pre><code class="language-solidity">import &quot;forge-std/Test.sol&quot;;
</code></pre>
</li>
</ul>
<h3 id="forge-stds-test"><a class="header" href="#forge-stds-test">Forge Std's <code>Test</code></a></h3>
<p>The <code>Test</code> contract in <code>Test.sol</code> provides all the essential functionality you need to get started writing tests.</p>
<p>Simply import <code>Test.sol</code> and inherit from <code>Test</code> in your test contract:</p>
<pre><code class="language-solidity">import &quot;forge-std/Test.sol&quot;;

contract ContractTest is Test { ...
</code></pre>
<p>What's included:</p>
<ul>
<li>
<p>Std Libraries</p>
<ul>
<li><a href="reference/forge-std/./std-assertions.html">Std Assertions</a>: Expand upon the assertion functions from the DSTest library.</li>
<li><a href="reference/forge-std/./std-cheats.html">Std Cheats</a>: Wrappers around Forge cheatcodes for improved safety and UX.</li>
<li><a href="reference/forge-std/./std-errors.html">Std Errors</a>: Wrappers around common internal Solidity errors and reverts.</li>
<li><a href="reference/forge-std/./std-storage.html">Std Storage</a>: Contract storage manipulation helpers.</li>
<li><a href="reference/forge-std/./std-math.html">Std Math</a>: Covers some mathematical calculations.</li>
<li><a href="reference/forge-std/./std-logs.html">Std Logs</a>: Additional logging utilities.</li>
</ul>
</li>
<li>
<p>A cheatcodes instance <code>vm</code>, from which you invoke Forge cheatcodes (see <a href="reference/forge-std/../../cheatcodes/">Cheatcodes Reference</a>)</p>
<pre><code class="language-solidity">vm.startPrank(alice);
</code></pre>
</li>
<li>
<p>All Hardhat <code>console</code> functions for logging (see <a href="https://hardhat.org/hardhat-network/reference/#console-log">Hardhat docs</a>)</p>
<pre><code class="language-solidity">console.log(alice.balance); // or `console2`
</code></pre>
</li>
<li>
<p>All Dappsys Test functions for asserting and logging (see <a href="reference/forge-std/../ds-test.html">Dappsys Test reference</a>)</p>
<pre><code class="language-solidity">assertEq(dai.balanceOf(alice), 10000e18);
</code></pre>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="std-assertions-1"><a class="header" href="#std-assertions-1">Std Assertions</a></h2>
<ul>
<li><a href="reference/forge-std/./fail.html"><code>fail</code></a></li>
<li><a href="reference/forge-std/./assertFalse.html"><code>assertFalse</code></a></li>
<li><a href="reference/forge-std/./assertEq.html"><code>assertEq</code></a></li>
<li><a href="reference/forge-std/./assertApproxEqAbs.html"><code>assertApproxEqAbs</code></a></li>
<li><a href="reference/forge-std/./assertApproxEqRel.html"><code>assertApproxEqRel</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="fail"><a class="header" href="#fail"><code>fail</code></a></h2>
<h3 id="signature"><a class="header" href="#signature">Signature</a></h3>
<pre><code class="language-solidity">function fail(string memory err) internal virtual;
</code></pre>
<h3 id="description-96"><a class="header" href="#description-96">Description</a></h3>
<p>Provides a clean and readable way to fail tests if a certain branch or execution point is hit.</p>
<h3 id="examples-78"><a class="header" href="#examples-78">Examples</a></h3>
<pre><code class="language-solidity">function test() external {
    for(uint256 place; place &lt; 10; ++i){
        if(game.leaderboard(place) == address(this)) return;
    }
    fail(&quot;Not in the top 10.&quot;);
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="assertfalse"><a class="header" href="#assertfalse"><code>assertFalse</code></a></h2>
<h3 id="signature-1"><a class="header" href="#signature-1">Signature</a></h3>
<pre><code class="language-solidity">function assertFalse(bool data) internal virtual;
</code></pre>
<pre><code class="language-solidity">function assertFalse(bool data, string memory err) internal virtual;
</code></pre>
<h3 id="description-97"><a class="header" href="#description-97">Description</a></h3>
<p>Asserts the <code>condition</code> is false.</p>
<h3 id="examples-79"><a class="header" href="#examples-79">Examples</a></h3>
<pre><code class="language-solidity">bool failure = contract.fun();
assertFalse(failure);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="asserteq"><a class="header" href="#asserteq"><code>assertEq</code></a></h2>
<h3 id="signature-2"><a class="header" href="#signature-2">Signature</a></h3>
<pre><code class="language-solidity">function assertEq(bool a, bool b) internal;
</code></pre>
<pre><code class="language-solidity">function assertEq(bool a, bool b, string memory err) internal;
</code></pre>
<pre><code class="language-solidity">function assertEq(bytes memory a, bytes memory b) internal;
</code></pre>
<pre><code class="language-solidity">function assertEq(bytes memory a, bytes memory b, string memory err) internal;
</code></pre>
<pre><code class="language-solidity">function assertEq(uint256[] memory a, uint256[] memory b) internal;
</code></pre>
<pre><code class="language-solidity">function assertEq(int256[] memory a, int256[] memory b) internal;
</code></pre>
<pre><code class="language-solidity">function assertEq(uint256[] memory a, uint256[] memory b, string memory err) internal;
</code></pre>
<pre><code class="language-solidity">function assertEq(int256[] memory a, int256[] memory b, string memory err) internal;
</code></pre>
<h3 id="description-98"><a class="header" href="#description-98">Description</a></h3>
<p>Asserts <code>a</code> is equal to <code>b</code>.</p>
<p>Works with booleans, bytes and arrays of int and uint.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="assertapproxeqabs"><a class="header" href="#assertapproxeqabs"><code>assertApproxEqAbs</code></a></h2>
<h3 id="signature-3"><a class="header" href="#signature-3">Signature</a></h3>
<pre><code class="language-solidity">function assertApproxEqAbs(uint256 a, uint256 b, uint256 maxDelta) internal virtual;
</code></pre>
<pre><code class="language-solidity">function assertApproxEqAbs(uint256 a, uint256 b, uint256 maxDelta, string memory err) internal virtual;
</code></pre>
<pre><code class="language-solidity">function assertApproxEqAbs(int256 a, int256 b, uint256 maxDelta) internal virtual;
</code></pre>
<pre><code class="language-solidity">function assertApproxEqAbs(int256 a, int256 b, uint256 maxDelta, string memory err) internal virtual;
</code></pre>
<h3 id="description-99"><a class="header" href="#description-99">Description</a></h3>
<p>Asserts <code>a</code> is approximately equal to <code>b</code> with delta in absolute value.</p>
<h3 id="examples-80"><a class="header" href="#examples-80">Examples</a></h3>
<pre><code class="language-solidity">uint256 a = 100;
uint256 b = 200;
function testFail () external {
    assertApproxEqAbs(a, b, 90);
}
//[PASS] testFail() (gas: 23169)
//Logs:
//  Error: a ~= b not satisfied [uint]
//    Expected: 200
//      Actual: 100
//   Max Delta: 90
//       Delta: 100
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="assertapproxeqrel"><a class="header" href="#assertapproxeqrel"><code>assertApproxEqRel</code></a></h2>
<h3 id="signature-4"><a class="header" href="#signature-4">Signature</a></h3>
<pre><code class="language-solidity">function assertApproxEqRel(uint256 a, uint256 b, uint256 maxPercentDelta) internal virtual;
</code></pre>
<pre><code class="language-solidity">function assertApproxEqRel(uint256 a, uint256 b, uint256 maxPercentDelta, string memory err) internal virtual;
</code></pre>
<pre><code class="language-solidity">function assertApproxEqRel(int256 a, int256 b, uint256 maxPercentDelta) internal virtual;
</code></pre>
<pre><code class="language-solidity">function assertApproxEqRel( int256 a, int256 b, uint256 maxPercentDelta, string memory err) internal virtual;
</code></pre>
<h3 id="description-100"><a class="header" href="#description-100">Description</a></h3>
<p>Asserts <code>a</code> is approximately equal to <code>b</code> with delta in percentage (An 18 decimal fixed point number, where 1e18 == 100%).</p>
<h3 id="examples-81"><a class="header" href="#examples-81">Examples</a></h3>
<pre><code class="language-solidity">uint256 a = 100;
uint256 b = 200;
function testFail () external {
    assertApproxEqRel(a, b, 0.4e18);
}
//[PASS] testFail() (gas: 23884)
//Logs:
//  Error: a ~= b not satisfied [uint]
//      Expected: 200
//        Actual: 100
//   Max % Delta: 0.400000000000000000
//       % Delta: 0.500000000000000000
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="std-cheats-1"><a class="header" href="#std-cheats-1">Std Cheats</a></h2>
<ul>
<li><a href="reference/forge-std/./skip.html"><code>skip</code></a></li>
<li><a href="reference/forge-std/./rewind.html"><code>rewind</code></a></li>
<li><a href="reference/forge-std/./hoax.html"><code>hoax</code></a></li>
<li><a href="reference/forge-std/./startHoax.html"><code>startHoax</code></a></li>
<li><a href="reference/forge-std/./deal.html"><code>deal</code></a></li>
<li><a href="reference/forge-std/./deployCode.html"><code>deployCode</code></a></li>
<li><a href="reference/forge-std/./bound.html"><code>bound</code></a></li>
<li><a href="reference/forge-std/./change-prank.html"><code>changePrank</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="skip"><a class="header" href="#skip"><code>skip</code></a></h2>
<h3 id="signature-5"><a class="header" href="#signature-5">Signature</a></h3>
<pre><code class="language-solidity">function skip(uint256 time) public;
</code></pre>
<h3 id="description-101"><a class="header" href="#description-101">Description</a></h3>
<p>Skips forward <code>block.timestamp</code> by the specified number of seconds.</p>
<h3 id="examples-82"><a class="header" href="#examples-82">Examples</a></h3>
<pre><code class="language-solidity">assertEq(block.timestamp, 0);
skip(3600);
assertEq(block.timestamp, 3600);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="rewind"><a class="header" href="#rewind"><code>rewind</code></a></h2>
<h3 id="signature-6"><a class="header" href="#signature-6">Signature</a></h3>
<pre><code class="language-solidity">function rewind(uint256 time) public;
</code></pre>
<h3 id="description-102"><a class="header" href="#description-102">Description</a></h3>
<p>Rewinds <code>block.timestamp</code> by the specified number of seconds.</p>
<h3 id="examples-83"><a class="header" href="#examples-83">Examples</a></h3>
<pre><code class="language-solidity">assertEq(block.timestamp, 3600);
rewind(3600);
assertEq(block.timestamp, 0);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="hoax"><a class="header" href="#hoax"><code>hoax</code></a></h2>
<h3 id="signature-7"><a class="header" href="#signature-7">Signature</a></h3>
<pre><code class="language-solidity">function hoax(address who) public;
</code></pre>
<pre><code class="language-solidity">function hoax(address who, uint256 give) public;
</code></pre>
<pre><code class="language-solidity">function hoax(address who, address origin) public;
</code></pre>
<pre><code class="language-solidity">function hoax(address who, address origin, uint256 give) public;
</code></pre>
<h3 id="description-103"><a class="header" href="#description-103">Description</a></h3>
<p>Sets up a <a href="reference/forge-std/../../cheatcodes/prank.html"><code>prank</code></a> from an address that has some ether.</p>
<p>If the balance is not specified, it will be set to 2^128 wei.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="starthoax"><a class="header" href="#starthoax"><code>startHoax</code></a></h2>
<h3 id="signature-8"><a class="header" href="#signature-8">Signature</a></h3>
<pre><code class="language-solidity">function startHoax(address who) public;
</code></pre>
<pre><code class="language-solidity">function startHoax(address who, uint256 give) public;
</code></pre>
<pre><code class="language-solidity">function startHoax(address who, address origin) public;
</code></pre>
<pre><code class="language-solidity">function startHoax(address who, address origin, uint256 give) public;
</code></pre>
<h3 id="description-104"><a class="header" href="#description-104">Description</a></h3>
<p>Start a <a href="reference/forge-std/../../cheatcodes/start-prank.html">perpetual <code>prank</code></a> from an address that has some ether.</p>
<p>If the balance is not specified, it will be set to 2^128 wei.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="deal"><a class="header" href="#deal"><code>deal</code></a></h2>
<h3 id="signature-9"><a class="header" href="#signature-9">Signature</a></h3>
<pre><code class="language-solidity">function deal(address to, uint256 give) public;
</code></pre>
<pre><code class="language-solidity">function deal(address token, address to, uint256 give) public;
</code></pre>
<pre><code class="language-solidity">function deal(address token, address to, uint256 give, bool adjust) public;
</code></pre>
<h3 id="description-105"><a class="header" href="#description-105">Description</a></h3>
<p>A wrapper around the <a href="reference/forge-std/../../cheatcodes/deal.html"><code>deal</code></a> cheatcode that also works for most ERC-20 tokens.</p>
<p>If the alternative signature of <code>deal</code> is used, adjusts the token's total supply after setting the balance.</p>
<h3 id="examples-84"><a class="header" href="#examples-84">Examples</a></h3>
<pre><code class="language-solidity">deal(address(dai), alice, 10000e18);
assertEq(dai.balanceOf(alice), 10000e18);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="deploycode"><a class="header" href="#deploycode"><code>deployCode</code></a></h2>
<h3 id="signature-10"><a class="header" href="#signature-10">Signature</a></h3>
<pre><code class="language-solidity">function deployCode(string memory what) public returns (address);
</code></pre>
<pre><code class="language-solidity">function deployCode(string memory what, bytes memory args) public returns (address);
</code></pre>
<h3 id="description-106"><a class="header" href="#description-106">Description</a></h3>
<p>Deploys a contract by fetching the contract bytecode from the artifacts directory.</p>
<p>The calldata parameter can either be in the form <code>ContractFile.sol</code> (if the filename and contract name are the same), <code>ContractFile.sol:ContractName</code>, or the path to an artifact, relative to the root of your project.</p>
<h3 id="examples-85"><a class="header" href="#examples-85">Examples</a></h3>
<pre><code class="language-solidity">address deployment = deployCode(&quot;MyContract.sol&quot;, abi.encode(arg1, arg2));
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="bound"><a class="header" href="#bound"><code>bound</code></a></h2>
<h3 id="signature-11"><a class="header" href="#signature-11">Signature</a></h3>
<pre><code class="language-solidity">function bound(uint256 x, uint256 min, uint256 max) public returns (uint256 result);
</code></pre>
<h3 id="description-107"><a class="header" href="#description-107">Description</a></h3>
<p>Useful for wrapping inputs of a fuzz test into a certain range</p>
<h3 id="examples-86"><a class="header" href="#examples-86">Examples</a></h3>
<pre><code class="language-solidity">assertEq(bound(5, 0, 4), 0);
assertEq(bound(0, 69, 69), 69);
assertEq(bound(0, 68, 69), 68);
assertEq(bound(10, 150, 190), 160);
assertEq(bound(300, 2800, 3200), 3100);
assertEq(bound(9999, 1337, 6666), 6006);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="changeprank"><a class="header" href="#changeprank"><code>changePrank</code></a></h2>
<h3 id="signature-12"><a class="header" href="#signature-12">Signature</a></h3>
<pre><code class="language-solidity">function changePrank(address who) internal;
</code></pre>
<h3 id="description-108"><a class="header" href="#description-108">Description</a></h3>
<p>Stops the active prank with <code>stopPrank</code> and passes address to <code>startPrank</code>.</p>
<p>Useful for starting a global prank in the <code>setUp</code> function and deactivating it in certain tests.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="std-errors-1"><a class="header" href="#std-errors-1">Std Errors</a></h2>
<ul>
<li><a href="reference/forge-std/./assertionError.html"><code>assertionError</code></a></li>
<li><a href="reference/forge-std/./arithmeticError.html"><code>arithmeticError</code></a></li>
<li><a href="reference/forge-std/./divisionError.html"><code>divisionError</code></a></li>
<li><a href="reference/forge-std/./enumConversionError.html"><code>enumConversionError</code></a></li>
<li><a href="reference/forge-std/./encodeStorageError.html"><code>encodeStorageError</code></a></li>
<li><a href="reference/forge-std/./popError.html"><code>popError</code></a></li>
<li><a href="reference/forge-std/./indexOOBError.html"><code>indexOOBError</code></a></li>
<li><a href="reference/forge-std/./memOverflowError.html"><code>memOverflowError</code></a></li>
<li><a href="reference/forge-std/./zeroVarError.html"><code>zeroVarError</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="assertionerror"><a class="header" href="#assertionerror"><code>assertionError</code></a></h2>
<h3 id="signature-13"><a class="header" href="#signature-13">Signature</a></h3>
<pre><code class="language-solidity">stdError.assertionError
</code></pre>
<h3 id="description-109"><a class="header" href="#description-109">Description</a></h3>
<p>The internal Solidity error when an <code>assert</code> fails.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="arithmeticerror"><a class="header" href="#arithmeticerror"><code>arithmeticError</code></a></h2>
<h3 id="signature-14"><a class="header" href="#signature-14">Signature</a></h3>
<pre><code class="language-solidity">stdError.arithmeticError
</code></pre>
<h3 id="description-110"><a class="header" href="#description-110">Description</a></h3>
<p>The internal Solidity error when an arithmetic operation fails, e.g. underflow and overflow.</p>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<p>Assume we have a basic vault contract that can store some token (<code>wmdToken</code>):</p>
<pre><code class="language-solidity">contract BasicVault {

    IERC20 public immutable wmdToken;   
    mapping(address =&gt; uint) public balances;

    event Deposited(address indexed from, uint amount);
    event Withdrawal(address indexed from, uint amount);

    constructor(IERC20 wmdToken_){
        wmdToken = wmdToken_;
    }

    function deposit(uint amount) external {    
        balances[msg.sender] += amount;
        bool success = wmdToken.transferFrom(msg.sender, address(this), amount);
        require(success, &quot;Deposit failed!&quot;); 
        emit Deposited(msg.sender, amount);
    }

    function withdraw(uint amount) external {      
        balances[msg.sender] -= amount;
        bool success = wmdToken.transfer(msg.sender, amount);
        require(success, &quot;Withdrawal failed!&quot;);
        emit Withdrawal(msg.sender, amount);
    }
}
</code></pre>
<p>We have a test function to ensure that a user is unable to withdraw tokens in excess of his deposit, like so:</p>
<pre><code class="language-solidity">    function testUserCannotWithdrawExcessOfDeposit() public {
        vm.prank(user);
        vm.expectRevert(stdError.arithmeticError);
        vault.withdraw(userTokens + 100*10**18);
    }
</code></pre>
<ol>
<li>User has tokens of amount <code>userTokens</code> deposited in a Vault contract.</li>
<li>User attempts to withdraw tokens of amount in excess of his deposits.</li>
<li>This leads to an underflow error, resulting from: <code>balances[msg.sender] -= amount;</code> as it would evaluate into a negative value.</li>
</ol>
<p>To catch the error &quot;Arithmetic over/underflow&quot;, we insert <code>vm.expectRevert(stdError.arithmeticError)</code> just before the function call that is expected to result in an underflow.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="divisionerror"><a class="header" href="#divisionerror"><code>divisionError</code></a></h2>
<h3 id="signature-15"><a class="header" href="#signature-15">Signature</a></h3>
<pre><code class="language-solidity">stdError.divisionError
</code></pre>
<h3 id="description-111"><a class="header" href="#description-111">Description</a></h3>
<p>The internal Solidity error when a division fails, e.g. division by zero.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="enumconversionerror"><a class="header" href="#enumconversionerror"><code>enumConversionError</code></a></h2>
<h3 id="signature-16"><a class="header" href="#signature-16">Signature</a></h3>
<pre><code class="language-solidity">stdError.enumConversionError
</code></pre>
<h3 id="description-112"><a class="header" href="#description-112">Description</a></h3>
<p>The internal Solidity error when trying to convert a number to a variant of an enum, if the number is larger than the number of variants in the enum (counting from 0).</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="encodestorageerror"><a class="header" href="#encodestorageerror"><code>encodeStorageError</code></a></h2>
<h3 id="signature-17"><a class="header" href="#signature-17">Signature</a></h3>
<pre><code class="language-solidity">stdError.encodeStorageError
</code></pre>
<h3 id="description-113"><a class="header" href="#description-113">Description</a></h3>
<p>The internal Solidity error when trying to access data in storage that is corrupted. Data cannot be corrupted unless assembly had been used.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="poperror"><a class="header" href="#poperror"><code>popError</code></a></h2>
<h3 id="signature-18"><a class="header" href="#signature-18">Signature</a></h3>
<pre><code class="language-solidity">stdError.popError
</code></pre>
<h3 id="description-114"><a class="header" href="#description-114">Description</a></h3>
<p>The internal Solidity error when trying to pop an element off of an empty array.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="indexooberror"><a class="header" href="#indexooberror"><code>indexOOBError</code></a></h2>
<h3 id="signature-19"><a class="header" href="#signature-19">Signature</a></h3>
<pre><code class="language-solidity">stdError.indexOOBError
</code></pre>
<h3 id="description-115"><a class="header" href="#description-115">Description</a></h3>
<p>The internal Solidity error when trying to access an element of an array that is out of bounds.</p>
<p>Will not work for empty arrays in external contracts. For those, use <code>expectRevert</code> without any arguments.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="memoverflowerror"><a class="header" href="#memoverflowerror"><code>memOverflowError</code></a></h2>
<h3 id="signature-20"><a class="header" href="#signature-20">Signature</a></h3>
<pre><code class="language-solidity">stdError.memOverflowError
</code></pre>
<h3 id="description-116"><a class="header" href="#description-116">Description</a></h3>
<p>The internal Solidity error when trying to allocate a dynamic memory array with more than 2^64-1 items.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="zerovarerror"><a class="header" href="#zerovarerror"><code>zeroVarError</code></a></h2>
<h3 id="signature-21"><a class="header" href="#signature-21">Signature</a></h3>
<pre><code class="language-solidity">stdError.zeroVarError
</code></pre>
<h3 id="description-117"><a class="header" href="#description-117">Description</a></h3>
<p>The internal Solidity error when trying to call a function via a function pointer that has not been initialized.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="std-storage-1"><a class="header" href="#std-storage-1">Std Storage</a></h2>
<p>Std Storage is a library that makes manipulating contract storage easy.</p>
<p>To use Std Storage, add the following line to your test contract:</p>
<pre><code class="language-solidity">using stdStorage for StdStorage;
</code></pre>
<p>Then, access Std Storage via the <code>stdstore</code> instance.</p>
<h3 id="functions"><a class="header" href="#functions">Functions</a></h3>
<p>Query functions:</p>
<ul>
<li><a href="reference/forge-std/./target.html"><code>target</code></a>: Set the address of the contract (required)</li>
<li><a href="reference/forge-std/./sig.html"><code>sig</code></a>: Set the signature of the function to call (required)</li>
<li><a href="reference/forge-std/./with_key.html"><code>with_key</code></a>: Set the mapping key, if the variable is of type <code>mapping</code></li>
<li><a href="reference/forge-std/./depth.html"><code>depth</code></a>: Set the index of the struct member, if the variable is of type <code>struct</code></li>
</ul>
<p>Terminator functions:</p>
<ul>
<li><a href="reference/forge-std/./checked_write.html"><code>checked_write</code></a>: Set the data to be written to the storage slot(s)</li>
<li><a href="reference/forge-std/./find.html"><code>find</code></a>: Return the slot number</li>
<li><a href="reference/forge-std/./read.html"><code>read</code></a>: Access a value from the storage slot</li>
</ul>
<h3 id="example-1"><a class="header" href="#example-1">Example</a></h3>
<p><code>playerToCharacter</code> tracks each player's character's stats.</p>
<pre><code class="language-solidity">// MetaRPG.sol

struct Character {
    Class class;
    uint256 level;
    uint256 xp;
}

mapping (address =&gt; Character) public playerToCharacter;
</code></pre>
<p>Let's say we want to set the level of our character to 120.</p>
<pre><code class="language-solidity">// MetaRPG.t.sol

stdstore
    .target(address(metaRpg))
    .sig(metaRpg.playerToCharacter.selector)
    .with_key(address(this))
    .depth(1)
    .checked_write(120);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="target"><a class="header" href="#target"><code>target</code></a></h2>
<h3 id="signature-22"><a class="header" href="#signature-22">Signature</a></h3>
<pre><code class="language-solidity">function target(StdStorage storage self, address _target) internal returns (StdStorage storage);
</code></pre>
<h3 id="description-118"><a class="header" href="#description-118">Description</a></h3>
<p>Sets the address of the contract (required).</p>
<h3 id="examples-87"><a class="header" href="#examples-87">Examples</a></h3>
<pre><code class="language-solidity">// function playerCount() public view returns (uint256) {

uint256 slot = stdstore
    .target(address(game))
    .sig(game.playerCount.selector)
    .find();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="sig"><a class="header" href="#sig"><code>sig</code></a></h2>
<h3 id="signature-23"><a class="header" href="#signature-23">Signature</a></h3>
<pre><code class="language-solidity">function sig(StdStorage storage self, bytes4 _sig) internal returns (StdStorage storage);
</code></pre>
<pre><code class="language-solidity">function sig(StdStorage storage self, string memory _sig) internal returns (StdStorage storage);
</code></pre>
<h3 id="description-119"><a class="header" href="#description-119">Description</a></h3>
<p>Sets the signature of the function to call (required).</p>
<h3 id="examples-88"><a class="header" href="#examples-88">Examples</a></h3>
<pre><code class="language-solidity">// function playerCount() public view returns (uint256) {

uint256 slot = stdstore
    .target(address(game))
    .sig(game.playerCount.selector)
    .find();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="with_key"><a class="header" href="#with_key"><code>with_key</code></a></h2>
<h3 id="signature-24"><a class="header" href="#signature-24">Signature</a></h3>
<pre><code class="language-solidity">function with_key(StdStorage storage self, address who) internal returns (StdStorage storage);
</code></pre>
<pre><code class="language-solidity">function with_key(StdStorage storage self, uint256 amt) internal returns (StdStorage storage);
</code></pre>
<pre><code class="language-solidity">function with_key(StdStorage storage self, bytes32 key) internal returns (StdStorage storage);
</code></pre>
<h3 id="description-120"><a class="header" href="#description-120">Description</a></h3>
<p>Sets the mapping key, if the variable is of type <code>mapping</code>.</p>
<h3 id="examples-89"><a class="header" href="#examples-89">Examples</a></h3>
<pre><code class="language-solidity">// mapping(uint256 =&gt; mapping(address =&gt; uint256)) public itemToPlayerToQuantity;

uint256 slot = stdstore
    .target(address(game))
    .sig(game.itemToOwnerToQuantity.selector)
    .with_key(1337)
    .with_key(address(this))
    .find();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="depth"><a class="header" href="#depth"><code>depth</code></a></h2>
<h3 id="signature-25"><a class="header" href="#signature-25">Signature</a></h3>
<pre><code class="language-solidity">function depth(StdStorage storage self, uint256 _depth) internal returns (StdStorage storage);
</code></pre>
<h3 id="description-121"><a class="header" href="#description-121">Description</a></h3>
<p>Sets the index of the struct member, if the variable is of type <code>struct</code>.</p>
<h3 id="examples-90"><a class="header" href="#examples-90">Examples</a></h3>
<pre><code class="language-solidity">// struct Character {
//     Class class;
//     uint256 level;
//     uint256 xp;
// }
//
// mapping (address =&gt; Character) public playerToCharacter;

stdstore
    .target(game)
    .sig(game.playerToCharacter.selector)
    .with_key(address(this))
    .depth(1)
    .checked_write(120);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="checked_write"><a class="header" href="#checked_write"><code>checked_write</code></a></h2>
<h3 id="signature-26"><a class="header" href="#signature-26">Signature</a></h3>
<pre><code class="language-solidity">function checked_write(StdStorage storage self, address who) internal;
</code></pre>
<pre><code class="language-solidity">function checked_write(StdStorage storage self, uint256 amt) internal;
</code></pre>
<pre><code class="language-solidity">function checked_write(StdStorage storage self, bool write) internal;
</code></pre>
<pre><code class="language-solidity">function checked_write(StdStorage storage self, bytes32 set) internal;
</code></pre>
<h3 id="description-122"><a class="header" href="#description-122">Description</a></h3>
<p>Sets the data to be written to the storage slot(s)</p>
<h3 id="examples-91"><a class="header" href="#examples-91">Examples</a></h3>
<pre><code class="language-solidity">stdstore
// uint256 public season;

uint256 slot = stdstore
    .target(address(game))
    .sig(game.season.selector)
    .checked_write(7);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="find"><a class="header" href="#find"><code>find</code></a></h2>
<h3 id="signature-27"><a class="header" href="#signature-27">Signature</a></h3>
<pre><code class="language-solidity">function find(StdStorage storage self) internal returns (uint256);
</code></pre>
<h3 id="description-123"><a class="header" href="#description-123">Description</a></h3>
<p>Finds an arbitrary storage slot given a function sig, input data, address of the contract and a value to check against slot complexity.</p>
<h3 id="examples-92"><a class="header" href="#examples-92">Examples</a></h3>
<pre><code class="language-solidity">// uint256 public season;

uint256 slot = stdstore
    .target(address(game))
    .sig(game.season.selector)
    .find();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="read"><a class="header" href="#read"><code>read</code></a></h2>
<h3 id="signature-28"><a class="header" href="#signature-28">Signature</a></h3>
<pre><code class="language-solidity">function read_bytes32(StdStorage storage self) internal returns (bytes32);
</code></pre>
<pre><code class="language-solidity">function read_bool(StdStorage storage self) internal returns (bool);
</code></pre>
<pre><code class="language-solidity">function read_address(StdStorage storage self) internal returns (address);
</code></pre>
<pre><code class="language-solidity">function read_uint(StdStorage storage self) internal returns (uint256);
</code></pre>
<pre><code class="language-solidity">function read_int(StdStorage storage self) internal returns (int256);
</code></pre>
<h3 id="description-124"><a class="header" href="#description-124">Description</a></h3>
<p>Accesses a value from the storage slot.</p>
<h3 id="examples-93"><a class="header" href="#examples-93">Examples</a></h3>
<pre><code class="language-solidity">address a = stdstore
    .target(address(c))
    .sig(c.a.selector)
    .read_address();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="std-math-1"><a class="header" href="#std-math-1">Std Math</a></h2>
<p>Std Math is a library that simplifies the process of some mathematical calculations.</p>
<h3 id="functions-1"><a class="header" href="#functions-1">Functions</a></h3>
<p>Std Math has 3 different functions. Their explanation and examplification of the expected behavior are the following:</p>
<p><code>abs</code>: return the absolute value of your int256</p>
<pre><code class="language-solidity">// If a = 10, returns 10 | If a = -1001, returns 1001
    function AbsInt(int256 a) public pure returns(uint256) {
        return stdMath.abs(a);
    }
</code></pre>
<p><code>delta</code>: difference between the first value and second value</p>
<pre><code class="language-solidity">// If a = 10 and b = 2, returns 8 | If a = 6 and b = 9, returns 3
    function DeltaUint(uint256 a, uint256 b) public pure returns(uint256) {
        return stdMath.delta(a, b);
    }

// If a = 5 and b = -4, returns 9 | If a = -15 and b = -20, returns 5
    function DeltaInt(int256 a, int256 b) public pure returns(uint256) {
        return stdMath.delta(a, b);
    }
</code></pre>
<p><code>percentdelta</code>: delta in percentage (multiplied by 1e18)</p>
<pre><code class="language-solidity">// First, it calculates (a - b) / b. To avoid a result with comma, the function multiplies the result by 1e18
// If a = 10 and b = 5, returns 1000000000000000000 (100%) |  If a = 10 and b = 7, returns 428571428571428571 (~42.86%)
    function PercentDeltaUint(uint256 a, uint256 b) public pure returns(uint256) {
        return stdMath.percentDelta(a, b);
    }

// First, it calculates (a - b) / abs(b). To avoid a result with comma, the function multiplies the result by 1e18
// If a = -12 and b = -3, returns 3000000000000000000 (300%) |  If a = 15 and b = -4, returns 4750000000000000000 (475%)
    function PercentDeltaInt(int256 a, int256 b) public pure returns(uint256) {
        return stdMath.percentDelta(a, b);
    }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="std-logs"><a class="header" href="#std-logs">Std Logs</a></h1>
<p>Std Logs adds additional logging events for forge.</p>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<p>Std Logs has 4 events to log arrays.</p>
<pre><code class="language-solidity">event log_array(uint256[] val);
event log_array(int256[] val);
event log_named_array(string key, uint256[] val);
event log_named_array(string key, int256[] val);
</code></pre>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>This section provides usage examples.</p>
<h3 id="log_array"><a class="header" href="#log_array">log_array</a></h3>
<pre><code class="language-solidity">event log_array(&lt;type&gt;[] val);
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int256</code> or <code>uint256</code>.</p>
<h4 id="example-2"><a class="header" href="#example-2">Example</a></h4>
<pre><code class="language-solidity">// Assuming storage
// uint256[] data = [10, 20, 30, 40, 50]; 
emit log_array(data);
</code></pre>
<h3 id="log_named_array"><a class="header" href="#log_named_array">log_named_array</a></h3>
<pre><code class="language-solidity">event log_named_array(string key, &lt;type&gt;[] val);
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int256</code> or <code>uint256</code>.</p>
<h4 id="example-3"><a class="header" href="#example-3">Example</a></h4>
<pre><code class="language-solidity">// Assuming storage
// uint256[] data = [10, 20, 30, 40, 50]; 
emit log_named_array(&quot;Data&quot;, data);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dstest-reference"><a class="header" href="#dstest-reference">DSTest Reference</a></h2>
<p>Dappsys Test (DSTest for short) provides basic logging and assertion functionality. It is included in the Forge Standard Library.</p>
<p>To get access to the functions, import <code>forge-std/Test.sol</code> and inherit from <code>Test</code> in your test contract:</p>
<pre><code class="language-solidity">import &quot;forge-std/Test.sol&quot;;

contract ContractTest is Test {
    // ... tests ...
}
</code></pre>
<h3 id="logging"><a class="header" href="#logging">Logging</a></h3>
<p>This is a complete overview of all the available logging events. For detailed descriptions and example usage, see below.</p>
<pre><code class="language-solidity">event log                    (string);
event logs                   (bytes);

event log_address            (address);
event log_bytes32            (bytes32);
event log_int                (int);
event log_uint               (uint);
event log_bytes              (bytes);
event log_string             (string);

event log_named_address      (string key, address val);
event log_named_bytes32      (string key, bytes32 val);
event log_named_decimal_int  (string key, int val, uint decimals);
event log_named_decimal_uint (string key, uint val, uint decimals);
event log_named_int          (string key, int val);
event log_named_uint         (string key, uint val);
event log_named_bytes        (string key, bytes val);
event log_named_string       (string key, string val);
</code></pre>
<h3 id="logging-events"><a class="header" href="#logging-events">Logging events</a></h3>
<p>This section documents all events for logging and provides usage examples. </p>
<h4 id="log"><a class="header" href="#log"><code>log</code></a></h4>
<pre><code class="language-solidity">event log(string);
</code></pre>
<h5 id="example-4"><a class="header" href="#example-4">Example</a></h5>
<pre><code class="language-solidity">emit log(&quot;here&quot;);
// here
</code></pre>
<br>
<hr />
<h4 id="logs"><a class="header" href="#logs">logs</a></h4>
<pre><code class="language-solidity">event logs(bytes);
</code></pre>
<h5 id="example-5"><a class="header" href="#example-5">Example</a></h5>
<pre><code class="language-solidity">emit logs(bytes(&quot;abcd&quot;));
// 0x6162636400000000000000000000000000000000000000000000000000000000
</code></pre>
<br>
<hr />
<h4 id="log_type"><a class="header" href="#log_type">log_&lt;type&gt;</a></h4>
<pre><code class="language-solidity">event log_&lt;type&gt;(&lt;type&gt;);
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>address</code>, <code>bytes32</code>, <code>int</code>, <code>uint</code>, <code>bytes</code>, <code>string</code></p>
<h5 id="example-6"><a class="header" href="#example-6">Example</a></h5>
<pre><code class="language-solidity">uint256 amount = 1 ether;
emit log_uint(amount);
// 1000000000000000000
</code></pre>
<br>
<hr />
<h4 id="log_named_type"><a class="header" href="#log_named_type">log_named_&lt;type&gt;</a></h4>
<pre><code class="language-solidity">event log_named_&lt;type&gt;(string key, &lt;type&gt; val);
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>address</code>, <code>bytes32</code>, <code>int</code>, <code>uint</code>, <code>bytes</code>, <code>string</code></p>
<h5 id="example-7"><a class="header" href="#example-7">Example</a></h5>
<pre><code class="language-solidity">uint256 amount = 1 ether;
emit log_named_uint(&quot;Amount: &quot;, amount);
// amount: 1000000000000000000
</code></pre>
<br>
<hr />
<h4 id="log_named_decimal_type"><a class="header" href="#log_named_decimal_type">log_named_decimal_&lt;type&gt;</a></h4>
<pre><code class="language-solidity">event log_named_decimal_&lt;type&gt;(string key, &lt;type&gt; val, uint decimals);
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int</code>, <code>uint</code></p>
<h5 id="example-8"><a class="header" href="#example-8">Example</a></h5>
<pre><code class="language-solidity">uint256 amount = 1 ether;
emit log_named_decimal_uint(&quot;Amount: &quot;, amount, 18);
// amount: 1.000000000000000000
</code></pre>
<h3 id="asserting"><a class="header" href="#asserting">Asserting</a></h3>
<p>This is a complete overview of all the available assertion functions. For detailed descriptions and example usage, see below.</p>
<pre><code class="language-solidity">// Assert the `condition` is true
function assertTrue(bool condition) internal;
function assertTrue(bool condition, string memory err) internal;

// Assert `a` is equal to `b`
function assertEq(address a, address b) internal;
function assertEq(address a, address b, string memory err) internal;
function assertEq(bytes32 a, bytes32 b) internal;
function assertEq(bytes32 a, bytes32 b, string memory err) internal;
function assertEq(int a, int b) internal;
function assertEq(int a, int b, string memory err) internal;
function assertEq(uint a, uint b) internal;
function assertEq(uint a, uint b, string memory err) internal;
function assertEqDecimal(int a, int b, uint decimals) internal;
function assertEqDecimal(int a, int b, uint decimals, string memory err) internal;
function assertEqDecimal(uint a, uint b, uint decimals) internal;
function assertEqDecimal(uint a, uint b, uint decimals, string memory err) internal;
function assertEq(string memory a, string memory b) internal;
function assertEq(string memory a, string memory b, string memory err) internal;
function assertEq32(bytes32 a, bytes32 b) internal;
function assertEq32(bytes32 a, bytes32 b, string memory err) internal;
function assertEq0(bytes memory a, bytes memory b) internal;
function assertEq0(bytes memory a, bytes memory b, string memory err) internal;

// Assert  `a` is greater than `b`
function assertGt(uint a, uint b) internal;
function assertGt(uint a, uint b, string memory err) internal;
function assertGt(int a, int b) internal;
function assertGt(int a, int b, string memory err) internal;
function assertGtDecimal(int a, int b, uint decimals) internal;
function assertGtDecimal(int a, int b, uint decimals, string memory err) internal;
function assertGtDecimal(uint a, uint b, uint decimals) internal;
function assertGtDecimal(uint a, uint b, uint decimals, string memory err) internal;

// Assert  `a` is greater than or equal to `b`
function assertGe(uint a, uint b) internal;
function assertGe(uint a, uint b, string memory err) internal;
function assertGe(int a, int b) internal;
function assertGe(int a, int b, string memory err) internal;
function assertGeDecimal(int a, int b, uint decimals) internal;
function assertGeDecimal(int a, int b, uint decimals, string memory err) internal;
function assertGeDecimal(uint a, uint b, uint decimals) internal;
function assertGeDecimal(uint a, uint b, uint decimals, string memory err) internal;

// Assert  `a` is lesser than `b`
function assertLt(uint a, uint b) internal;
function assertLt(uint a, uint b, string memory err) internal;
function assertLt(int a, int b) internal;
function assertLt(int a, int b, string memory err) internal;
function assertLtDecimal(int a, int b, uint decimals) internal;
function assertLtDecimal(int a, int b, uint decimals, string memory err) internal;
function assertLtDecimal(uint a, uint b, uint decimals) internal;
function assertLtDecimal(uint a, uint b, uint decimals, string memory err) internal;

// Assert  `a` is lesser than or equal to `b`
function assertLe(uint a, uint b) internal;
function assertLe(uint a, uint b, string memory err) internal;
function assertLe(int a, int b) internal;
function assertLe(int a, int b, string memory err) internal;
function assertLeDecimal(int a, int b, uint decimals) internal;
function assertLeDecimal(int a, int b, uint decimals, string memory err) internal;
function assertLeDecimal(uint a, uint b, uint decimals) internal;
function assertLeDecimal(uint a, uint b, uint decimals, string memory err) internal;
</code></pre>
<h3 id="assertion-functions"><a class="header" href="#assertion-functions">Assertion functions</a></h3>
<p>This section documents all functions for asserting and provides usage examples. </p>
<h4 id="asserttrue"><a class="header" href="#asserttrue"><code>assertTrue</code></a></h4>
<pre><code class="language-solidity">function assertTrue(bool condition) internal;
</code></pre>
<p>Asserts the <code>condition</code> is true.</p>
<h5 id="example-9"><a class="header" href="#example-9">Example</a></h5>
<pre><code class="language-solidity">bool success = contract.fun();
assertTrue(success);
</code></pre>
<br>
<hr />
<h4 id="asserteq-1"><a class="header" href="#asserteq-1"><code>assertEq</code></a></h4>
<pre><code class="language-solidity">function assertEq(&lt;type&gt; a, &lt;type&gt; b) internal;
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>address</code>, <code>bytes32</code>, <code>int</code>, <code>uint</code></p>
<p>Asserts <code>a</code> is equal to <code>b</code>.</p>
<h5 id="example-10"><a class="header" href="#example-10">Example</a></h5>
<pre><code class="language-solidity">uint256 a = 1 ether;
uint256 b = 1e18 wei;
assertEq(a, b);
</code></pre>
<br>
<hr />
<h4 id="asserteqdecimal"><a class="header" href="#asserteqdecimal"><code>assertEqDecimal</code></a></h4>
<pre><code class="language-solidity">function assertEqDecimal(&lt;type&gt; a, &lt;type&gt; b, uint decimals) internal;
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int</code>, <code>uint</code></p>
<p>Asserts <code>a</code> is equal to <code>b</code>.</p>
<h5 id="example-11"><a class="header" href="#example-11">Example</a></h5>
<pre><code class="language-solidity">uint256 a = 1 ether;
uint256 b = 1e18 wei;
assertEqDecimal(a, b, 18);
</code></pre>
<br>
<hr />
<h4 id="asserteq32"><a class="header" href="#asserteq32"><code>assertEq32</code></a></h4>
<pre><code class="language-solidity">function assertEq32(bytes32 a, bytes32 b) internal;
</code></pre>
<p>Asserts <code>a</code> is equal to <code>b</code>.</p>
<h5 id="example-12"><a class="header" href="#example-12">Example</a></h5>
<pre><code class="language-solidity">assertEq(bytes32(&quot;abcd&quot;), 0x6162636400000000000000000000000000000000000000000000000000000000);
</code></pre>
<br>
<hr />
<h4 id="asserteq0"><a class="header" href="#asserteq0"><code>assertEq0</code></a></h4>
<pre><code class="language-solidity">function assertEq0(bytes a, bytes b) internal;
</code></pre>
<p>Asserts <code>a</code> is equal to <code>b</code>.</p>
<h5 id="example-13"><a class="header" href="#example-13">Example</a></h5>
<pre><code class="language-solidity">string memory name1 = &quot;Alice&quot;;
string memory name2 = &quot;Bob&quot;;
assertEq0(bytes(name1), bytes(name2)); // [FAIL]
</code></pre>
<br>
<hr />
<h4 id="assertgt"><a class="header" href="#assertgt"><code>assertGt</code></a></h4>
<pre><code class="language-solidity">function assertGt(&lt;type&gt; a, &lt;type&gt; b) internal;
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int</code>, <code>uint</code></p>
<p>Asserts  <code>a</code> is greater than <code>b</code>.</p>
<h5 id="example-14"><a class="header" href="#example-14">Example</a></h5>
<pre><code class="language-solidity">uint256 a = 2 ether;
uint256 b = 1e18 wei;
assertGt(a, b);
</code></pre>
<br>
<hr />
<h4 id="assertgtdecimal"><a class="header" href="#assertgtdecimal"><code>assertGtDecimal</code></a></h4>
<pre><code class="language-solidity">function assertGtDecimal(&lt;type&gt; a, &lt;type&gt; b, uint decimals) internal;
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int</code>, <code>uint</code></p>
<p>Asserts  <code>a</code> is greater than <code>b</code>.</p>
<h5 id="example-15"><a class="header" href="#example-15">Example</a></h5>
<pre><code class="language-solidity">uint256 a = 2 ether;
uint256 b = 1e18 wei;
assertGtDecimal(a, b, 18);
</code></pre>
<br>
<hr />
<h4 id="assertge"><a class="header" href="#assertge"><code>assertGe</code></a></h4>
<pre><code class="language-solidity">function assertGe(&lt;type&gt; a, &lt;type&gt; b) internal;
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int</code>, <code>uint</code></p>
<p>Asserts  <code>a</code> is greater than or equal to <code>b</code>.</p>
<h5 id="example-16"><a class="header" href="#example-16">Example</a></h5>
<pre><code class="language-solidity">uint256 a = 1 ether;
uint256 b = 1e18 wei;
assertGe(a, b);
</code></pre>
<br>
<hr />
<h4 id="assertgedecimal"><a class="header" href="#assertgedecimal"><code>assertGeDecimal</code></a></h4>
<pre><code class="language-solidity">function assertGeDecimal(&lt;type&gt; a, &lt;type&gt; b, uint decimals) internal;
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int</code>, <code>uint</code></p>
<p>Asserts  <code>a</code> is greater than or equal to <code>b</code>.</p>
<h5 id="example-17"><a class="header" href="#example-17">Example</a></h5>
<pre><code class="language-solidity">uint256 a = 1 ether;
uint256 b = 1e18 wei;
assertGeDecimal(a, b, 18);
</code></pre>
<br>
<hr />
<h4 id="assertlt"><a class="header" href="#assertlt"><code>assertLt</code></a></h4>
<pre><code class="language-solidity">function assertLt(&lt;type&gt; a, &lt;type&gt; b) internal;
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int</code>, <code>uint</code></p>
<p>Asserts  <code>a</code> is lesser than <code>b</code>.</p>
<h5 id="example-18"><a class="header" href="#example-18">Example</a></h5>
<pre><code class="language-solidity">uint256 a = 1 ether;
uint256 b = 2e18 wei;
assertLt(a, b);
</code></pre>
<br>
<hr />
<h4 id="assertltdecimal"><a class="header" href="#assertltdecimal"><code>assertLtDecimal</code></a></h4>
<pre><code class="language-solidity">function assertLtDecimal(&lt;type&gt; a, &lt;type&gt; b, uint decimals) internal;
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int</code>, <code>uint</code></p>
<p>Asserts  <code>a</code> is lesser than <code>b</code>.</p>
<h5 id="example-19"><a class="header" href="#example-19">Example</a></h5>
<pre><code class="language-solidity">uint256 a = 1 ether;
uint256 b = 2e18 wei;
assertLtDecimal(a, b, 18);
</code></pre>
<br>
<hr />
<h4 id="assertle"><a class="header" href="#assertle"><code>assertLe</code></a></h4>
<pre><code class="language-solidity">function assertLe(&lt;type&gt; a, &lt;type&gt; b) internal;
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int</code>, <code>uint</code></p>
<p>Asserts  <code>a</code> is lesser than or equal to <code>b</code>.</p>
<h5 id="example-20"><a class="header" href="#example-20">Example</a></h5>
<pre><code class="language-solidity">uint256 a = 1 ether;
uint256 b = 1e18 wei;
assertLe(a, b);
</code></pre>
<br>
<hr />
<h4 id="assertledecimal"><a class="header" href="#assertledecimal"><code>assertLeDecimal</code></a></h4>
<pre><code class="language-solidity">function assertLeDecimal(&lt;type&gt; a, &lt;type&gt; b, uint decimals) internal;
</code></pre>
<p>Where <code>&lt;type&gt;</code> can be <code>int</code>, <code>uint</code></p>
<p>Asserts  <code>a</code> is lesser than or equal to <code>b</code>.</p>
<h5 id="example-21"><a class="header" href="#example-21">Example</a></h5>
<pre><code class="language-solidity">uint256 a = 1 ether;
uint256 b = 1e18 wei;
assertLeDecimal(a, b, 18);
</code></pre>
<br>
<blockquote>
<p>ℹ️ <strong>Information</strong></p>
<p>You can pass a custom error message to the above functions by providing an additional parameter <code>string err</code>.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cheatcodes-reference"><a class="header" href="#cheatcodes-reference">Cheatcodes Reference</a></h2>
<p>Cheatcodes give you powerful assertions, the ability to alter the state of the EVM, mock data, and more.</p>
<p>To enable a cheatcode you call designated functions on the cheatcode address: <code>0x7109709ECfa91a80626fF3989D68f67F5b1DD12D</code>.</p>
<p>You can access cheatcodes easily via <code>vm</code> available in Forge Standard Library's <a href="cheatcodes/../reference/forge-std/#forge-stds-test"><code>Test</code></a> contract.</p>
<p>Below are some subsections for the different Forge cheatcodes.</p>
<ul>
<li><a href="cheatcodes/./environment.html">Environment</a>: Cheatcodes that alter the state of the EVM.</li>
<li><a href="cheatcodes/./assertions.html">Assertions</a>: Cheatcodes that are powerful assertions</li>
<li><a href="cheatcodes/./fuzzer.html">Fuzzer</a>: Cheatcodes that configure the fuzzer</li>
<li><a href="cheatcodes/./external.html">External</a>: Cheatcodes that interact with external state (files, commands, ...)</li>
<li><a href="cheatcodes/./utilities.html">Utilities</a>: Smaller utility cheatcodes</li>
</ul>
<h3 id="cheatcodes-interface"><a class="header" href="#cheatcodes-interface">Cheatcodes Interface</a></h3>
<p>This is a Solidity interface for all of the cheatcodes present in Forge.</p>
<pre><code class="language-solidity">interface CheatCodes {
    // Set block.timestamp
    function warp(uint256) external;

    // Set block.number
    function roll(uint256) external;

    // Set block.basefee
    function fee(uint256) external;

    // Set block.chainid
    function chainId(uint256) external;

    // Loads a storage slot from an address
    function load(address account, bytes32 slot) external returns (bytes32);

    // Stores a value to an address' storage slot
    function store(address account, bytes32 slot, bytes32 value) external;

    // Signs data
    function sign(uint256 privateKey, bytes32 digest) external returns (uint8 v, bytes32 r, bytes32 s);

    // Computes address for a given private key
    function addr(uint256 privateKey) external returns (address);

    // Gets the nonce of an account
    function getNonce(address account) external returns (uint64);

    // Sets the nonce of an account
    // The new nonce must be higher than the current nonce of the account
    function setNonce(address account, uint64 nonce) external;

    // Performs a foreign function call via terminal
    function ffi(string[] calldata) external returns (bytes memory);

    // Set environment variables, (name, value)
    function setEnv(string calldata, string calldata) external;

    // Read environment variables, (name) =&gt; (value)
    function envBool(string calldata) external returns (bool);
    function envUint(string calldata) external returns (uint256);
    function envInt(string calldata) external returns (int256);
    function envAddress(string calldata) external returns (address);
    function envBytes32(string calldata) external returns (bytes32);
    function envString(string calldata) external returns (string memory);
    function envBytes(string calldata) external returns (bytes memory);

    // Read environment variables as arrays, (name, delim) =&gt; (value[])
    function envBool(string calldata, string calldata) external returns (bool[] memory);
    function envUint(string calldata, string calldata) external returns (uint256[] memory);
    function envInt(string calldata, string calldata) external returns (int256[] memory);
    function envAddress(string calldata, string calldata) external returns (address[] memory);
    function envBytes32(string calldata, string calldata) external returns (bytes32[] memory);
    function envString(string calldata, string calldata) external returns (string[] memory);
    function envBytes(string calldata, string calldata) external returns (bytes[] memory);

    // Sets the *next* call's msg.sender to be the input address
    function prank(address) external;

    // Sets all subsequent calls' msg.sender to be the input address until `stopPrank` is called
    function startPrank(address) external;

    // Sets the *next* call's msg.sender to be the input address, and the tx.origin to be the second input
    function prank(address, address) external;

    // Sets all subsequent calls' msg.sender to be the input address until `stopPrank` is called, and the tx.origin to be the second input
    function startPrank(address, address) external;

    // Resets subsequent calls' msg.sender to be `address(this)`
    function stopPrank() external;

    // Sets an address' balance
    function deal(address who, uint256 newBalance) external;

    // Sets an address' code
    function etch(address who, bytes calldata code) external;

    // Expects an error on next call
    function expectRevert() external;
    function expectRevert(bytes calldata) external;
    function expectRevert(bytes4) external;

    // Record all storage reads and writes
    function record() external;

    // Gets all accessed reads and write slot from a recording session, for a given address
    function accesses(address) external returns (bytes32[] memory reads, bytes32[] memory writes);

    // Prepare an expected log with (bool checkTopic1, bool checkTopic2, bool checkTopic3, bool checkData).
    // Call this function, then emit an event, then call a function. Internally after the call, we check if
    // logs were emitted in the expected order with the expected topics and data (as specified by the booleans)
    // Second form also checks supplied address against emitting contract.
    function expectEmit(bool, bool, bool, bool) external;
    function expectEmit(bool, bool, bool, bool, address) external;

    // Mocks a call to an address, returning specified data.
    // Calldata can either be strict or a partial match, e.g. if you only
    // pass a Solidity selector to the expected calldata, then the entire Solidity
    // function will be mocked.
    function mockCall(address, bytes calldata, bytes calldata) external;

    // Clears all mocked calls
    function clearMockedCalls() external;

    // Expect a call to an address with the specified calldata.
    // Calldata can either be strict or a partial match
    function expectCall(address, bytes calldata) external;

    // Gets the bytecode for a contract in the project given the path to the contract.
    function getCode(string calldata) external returns (bytes memory);

    // Label an address in test traces
    function label(address addr, string calldata label) external;

    // When fuzzing, generate new inputs if conditional not met
    function assume(bool) external;
    
    // Set block.coinbase (who)
    function coinbase(address) external;

    // Using the address that calls the test contract or the address provided 
    // as the sender, has the next call (at this call depth only) create a 
    // transaction that can later be signed and sent onchain
    function broadcast() external;
    function broadcast(address) external;
    
    // Using the address that calls the test contract or the address provided
    // as the sender, has all subsequent calls (at this call depth only) create
    // transactions that can later be signed and sent onchain
    function startBroadcast() external;
    function startBroadcast(address) external;
    
    // Stops collecting onchain transactions
    function stopBroadcast() external;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="environment"><a class="header" href="#environment">Environment</a></h2>
<ul>
<li><a href="cheatcodes/./warp.html"><code>warp</code></a></li>
<li><a href="cheatcodes/./roll.html"><code>roll</code></a></li>
<li><a href="cheatcodes/./fee.html"><code>fee</code></a></li>
<li><a href="cheatcodes/./chain-id.html"><code>chainId</code></a></li>
<li><a href="cheatcodes/./store.html"><code>store</code></a></li>
<li><a href="cheatcodes/./load.html"><code>load</code></a></li>
<li><a href="cheatcodes/./etch.html"><code>etch</code></a></li>
<li><a href="cheatcodes/./deal.html"><code>deal</code></a></li>
<li><a href="cheatcodes/./prank.html"><code>prank</code></a></li>
<li><a href="cheatcodes/./start-prank.html"><code>startPrank</code></a></li>
<li><a href="cheatcodes/./stop-prank.html"><code>stopPrank</code></a></li>
<li><a href="cheatcodes/./record.html"><code>record</code></a></li>
<li><a href="cheatcodes/./accesses.html"><code>accesses</code></a></li>
<li><a href="cheatcodes/./set-nonce.html"><code>setNonce</code></a></li>
<li><a href="cheatcodes/./get-nonce.html"><code>getNonce</code></a></li>
<li><a href="cheatcodes/./mock-call.html"><code>mockCall</code></a></li>
<li><a href="cheatcodes/./clear-mocked-calls.html"><code>clearMockedCalls</code></a></li>
<li><a href="cheatcodes/./coinbase.html"><code>coinbase</code></a></li>
<li><a href="cheatcodes/./broadcast.html"><code>broadcast</code></a></li>
<li><a href="cheatcodes/./start-broadcast.html"><code>startBroadcast</code></a></li>
<li><a href="cheatcodes/./stop-broadcast.html"><code>stopBroadcast</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="warp"><a class="header" href="#warp"><code>warp</code></a></h2>
<h3 id="signature-29"><a class="header" href="#signature-29">Signature</a></h3>
<pre><code class="language-solidity">function warp(uint256) external;
</code></pre>
<h3 id="description-125"><a class="header" href="#description-125">Description</a></h3>
<p>Sets <code>block.timestamp</code>.</p>
<h3 id="examples-94"><a class="header" href="#examples-94">Examples</a></h3>
<pre><code class="language-solidity">vm.warp(1641070800);
emit log_uint(block.timestamp); // 1641070800
</code></pre>
<h3 id="see-also-86"><a class="header" href="#see-also-86">SEE ALSO</a></h3>
<p>Forge Standard Library</p>
<p><a href="cheatcodes/../reference/forge-std/skip.html"><code>skip</code></a>, <a href="cheatcodes/../reference/forge-std/rewind.html"><code>rewind</code></a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="roll"><a class="header" href="#roll"><code>roll</code></a></h2>
<h3 id="signature-30"><a class="header" href="#signature-30">Signature</a></h3>
<pre><code class="language-solidity">function roll(uint256) external;
</code></pre>
<h3 id="description-126"><a class="header" href="#description-126">Description</a></h3>
<p>Sets <code>block.number</code>.</p>
<h3 id="examples-95"><a class="header" href="#examples-95">Examples</a></h3>
<pre><code class="language-solidity">vm.roll(100);
emit log_uint(block.number); // 100
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="fee"><a class="header" href="#fee"><code>fee</code></a></h2>
<h3 id="signature-31"><a class="header" href="#signature-31">Signature</a></h3>
<pre><code class="language-solidity">function fee(uint256) external;
</code></pre>
<h3 id="description-127"><a class="header" href="#description-127">Description</a></h3>
<p>Sets <code>block.basefee</code>.</p>
<h3 id="examples-96"><a class="header" href="#examples-96">Examples</a></h3>
<pre><code class="language-solidity">vm.fee(25 gwei);
emit log_uint(block.basefee); // 25000000000
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="chainid"><a class="header" href="#chainid"><code>chainId</code></a></h2>
<h3 id="signature-32"><a class="header" href="#signature-32">Signature</a></h3>
<pre><code class="language-solidity">function chainId(uint256) external;
</code></pre>
<h3 id="description-128"><a class="header" href="#description-128">Description</a></h3>
<p>Sets <code>block.chainid</code>.</p>
<h3 id="examples-97"><a class="header" href="#examples-97">Examples</a></h3>
<pre><code class="language-solidity">vm.chainId(31337);
emit log_uint(block.chainid); // 31337
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="store"><a class="header" href="#store"><code>store</code></a></h2>
<h3 id="signature-33"><a class="header" href="#signature-33">Signature</a></h3>
<pre><code class="language-solidity">function store(address account, bytes32 slot, bytes32 value) external;
</code></pre>
<h3 id="description-129"><a class="header" href="#description-129">Description</a></h3>
<p>Stores the value <code>value</code> in storage slot <code>slot</code> on account <code>account</code>.</p>
<h3 id="examples-98"><a class="header" href="#examples-98">Examples</a></h3>
<pre><code class="language-solidity">/// contract LeetContract {
///     uint256 private leet = 1337; // slot 0
/// }

vm.store(address(leetContract), bytes32(uint256(0)), bytes32(uint256(31337)));
bytes32 leet = vm.load(address(leetContract), bytes32(uint256(0)));
emit log_uint(uint256(leet)); // 31337
</code></pre>
<h3 id="see-also-87"><a class="header" href="#see-also-87">SEE ALSO</a></h3>
<p>Forge Standard Library</p>
<p><a href="cheatcodes/../reference/forge-std/std-storage.html">Std Storage</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="load"><a class="header" href="#load"><code>load</code></a></h2>
<h3 id="signature-34"><a class="header" href="#signature-34">Signature</a></h3>
<pre><code class="language-solidity">function load(address account, bytes32 slot) external returns (bytes32);
</code></pre>
<h3 id="description-130"><a class="header" href="#description-130">Description</a></h3>
<p>Loads the value from storage slot <code>slot</code> on account <code>account</code>.</p>
<h3 id="examples-99"><a class="header" href="#examples-99">Examples</a></h3>
<pre><code class="language-solidity">/// contract LeetContract {
///     uint256 private leet = 1337; // slot 0
/// }

bytes32 leet = cheats.load(address(leetContract), bytes32(uint256(0)));
emit log_uint(uint256(leet)); // 1337
</code></pre>
<h3 id="see-also-88"><a class="header" href="#see-also-88">SEE ALSO</a></h3>
<p>Forge Standard Library</p>
<p><a href="cheatcodes/../reference/forge-std/std-storage.html">Std Storage</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="etch"><a class="header" href="#etch"><code>etch</code></a></h2>
<h3 id="signature-35"><a class="header" href="#signature-35">Signature</a></h3>
<pre><code class="language-solidity">function etch(address who, bytes calldata code) external;
</code></pre>
<h3 id="description-131"><a class="header" href="#description-131">Description</a></h3>
<p>Sets the bytecode of an address <code>who</code> to <code>code</code>.</p>
<h3 id="examples-100"><a class="header" href="#examples-100">Examples</a></h3>
<pre><code class="language-solidity">bytes memory code = address(awesomeContract).code;
address targetAddr = address(1);
vm.etch(targetAddr, code);
log_bytes(address(targetAddr).code); // 0x6080604052348015610010...
</code></pre>
<h3 id="see-also-89"><a class="header" href="#see-also-89">SEE ALSO</a></h3>
<p>Forge Standard Library</p>
<p><a href="cheatcodes/../reference/forge-std/deployCode.html"><code>deployCode</code></a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="deal-1"><a class="header" href="#deal-1"><code>deal</code></a></h2>
<h3 id="signature-36"><a class="header" href="#signature-36">Signature</a></h3>
<pre><code class="language-solidity">function deal(address who, uint256 newBalance) external;
</code></pre>
<h3 id="description-132"><a class="header" href="#description-132">Description</a></h3>
<p>Sets the balance of an address <code>who</code> to <code>newBalance</code>.</p>
<h3 id="examples-101"><a class="header" href="#examples-101">Examples</a></h3>
<pre><code class="language-solidity">address alice = address(1);
vm.deal(alice, 1 ether);
log_uint256(alice.balance); // 1000000000000000000
</code></pre>
<h3 id="see-also-90"><a class="header" href="#see-also-90">SEE ALSO</a></h3>
<p>Forge Standard Library</p>
<p><a href="cheatcodes/../reference/forge-std/deal.html"><code>deal</code></a>, <a href="cheatcodes/../reference/forge-std/hoax.html"><code>hoax</code></a>, <a href="cheatcodes/../reference/forge-std/startHoax.html"><code>startHoax</code></a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="prank"><a class="header" href="#prank"><code>prank</code></a></h2>
<h3 id="signature-37"><a class="header" href="#signature-37">Signature</a></h3>
<pre><code class="language-solidity">function prank(address) external;
</code></pre>
<pre><code class="language-solidity">function prank(address sender, address origin) external;
</code></pre>
<h3 id="description-133"><a class="header" href="#description-133">Description</a></h3>
<p>Sets <code>msg.sender</code> to the specified address <strong>for the next call</strong>. &quot;The next call&quot; includes static calls as well, but not calls to the cheat code address.</p>
<p>If the alternative signature of <code>prank</code> is used, then <code>tx.origin</code> is set as well for the next call.</p>
<h3 id="examples-102"><a class="header" href="#examples-102">Examples</a></h3>
<pre><code class="language-solidity">/// function withdraw() public {
///     require(msg.sender == owner);

vm.prank(owner);
myContract.withdraw(); // [PASS]
</code></pre>
<h3 id="see-also-91"><a class="header" href="#see-also-91">SEE ALSO</a></h3>
<p>Forge Standard Library</p>
<p><a href="cheatcodes/../reference/forge-std/hoax.html"><code>hoax</code></a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="startprank"><a class="header" href="#startprank"><code>startPrank</code></a></h2>
<h3 id="signature-38"><a class="header" href="#signature-38">Signature</a></h3>
<pre><code class="language-solidity">function startPrank(address) external;
</code></pre>
<pre><code class="language-solidity">function startPrank(address sender, address origin) external;
</code></pre>
<h3 id="description-134"><a class="header" href="#description-134">Description</a></h3>
<p>Sets <code>msg.sender</code> <strong>for all subsequent calls</strong> until <a href="cheatcodes/./stop-prank.html"><code>stopPrank</code></a> is called.</p>
<p>If the alternative signature of <code>startPrank</code> is used, then <code>tx.origin</code> is set as well for all subsequent calls.</p>
<h3 id="see-also-92"><a class="header" href="#see-also-92">SEE ALSO</a></h3>
<p>Forge Standard Library</p>
<p><a href="cheatcodes/../reference/forge-std/startHoax.html"><code>startHoax</code></a>, <a href="cheatcodes/../reference/forge-std/change-prank.html"><code>changePrank</code></a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="stopprank"><a class="header" href="#stopprank"><code>stopPrank</code></a></h2>
<h3 id="signature-39"><a class="header" href="#signature-39">Signature</a></h3>
<pre><code class="language-solidity">function stopPrank() external;
</code></pre>
<h3 id="description-135"><a class="header" href="#description-135">Description</a></h3>
<p>Stops an active prank started by <a href="cheatcodes/./start-prank.html"><code>startPrank</code></a>, resetting <code>msg.sender</code> and <code>tx.origin</code> to the values before <code>startPrank</code> was called.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="record"><a class="header" href="#record"><code>record</code></a></h2>
<h3 id="signature-40"><a class="header" href="#signature-40">Signature</a></h3>
<pre><code class="language-solidity">function record() external;
</code></pre>
<h3 id="description-136"><a class="header" href="#description-136">Description</a></h3>
<p>Tell the VM to start recording all storage reads and writes. To access the reads and writes, use <a href="cheatcodes/./accesses.html"><code>accesses</code></a>.</p>
<blockquote>
<p>ℹ️ <strong>Note</strong></p>
<p>Every write also counts as an additional read.</p>
</blockquote>
<h3 id="examples-103"><a class="header" href="#examples-103">Examples</a></h3>
<pre><code class="language-solidity">/// contract NumsContract {
///     uint256 public num1 = 100; // slot 0
///     uint256 public num2 = 200; // slot 1
/// }

vm.record();
numsContract.num2();
(bytes32[] memory reads, bytes32[] memory writes) = vm.accesses(
  address(numsContract)
);
emit log_uint(uint256(reads[0])); // 1
</code></pre>
<h3 id="see-also-93"><a class="header" href="#see-also-93">SEE ALSO</a></h3>
<p>Forge Standard Library</p>
<p><a href="cheatcodes/../reference/forge-std/std-storage.html">Std Storage</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="accesses"><a class="header" href="#accesses"><code>accesses</code></a></h2>
<h3 id="signature-41"><a class="header" href="#signature-41">Signature</a></h3>
<pre><code class="language-solidity">function accesses(
  address
)
external
returns (
  bytes32[] memory reads,
  bytes32[] memory writes
);
</code></pre>
<h3 id="description-137"><a class="header" href="#description-137">Description</a></h3>
<p>Gets all storage slots that have been read (<code>reads</code>) or written to (<code>writes</code>) on an address.</p>
<p>Note that <a href="cheatcodes/./record.html"><code>record</code></a> must be called first.</p>
<blockquote>
<p>ℹ️ <strong>Note</strong></p>
<p>Every write also counts as an additional read.</p>
</blockquote>
<h3 id="examples-104"><a class="header" href="#examples-104">Examples</a></h3>
<pre><code class="language-solidity">/// contract NumsContract {
///     uint256 public num1 = 100; // slot 0
///     uint256 public num2 = 200; // slot 1
/// }

vm.record();
numsContract.num2();
(bytes32[] memory reads, bytes32[] memory writes) = vm.accesses(
  address(numsContract)
);
emit log_uint(uint256(reads[0])); // 1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="setnonce"><a class="header" href="#setnonce"><code>setNonce</code></a></h2>
<h3 id="signature-42"><a class="header" href="#signature-42">Signature</a></h3>
<pre><code class="language-solidity">function setNonce(address account, uint64 nonce) external;
</code></pre>
<h3 id="description-138"><a class="header" href="#description-138">Description</a></h3>
<p>Sets the nonce of the given account.</p>
<p>The new nonce must be higher than the current nonce of the account.</p>
<h3 id="examples-105"><a class="header" href="#examples-105">Examples</a></h3>
<pre><code class="language-solidity">vm.setNonce(address(100), 1234);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="getnonce"><a class="header" href="#getnonce"><code>getNonce</code></a></h2>
<h3 id="signature-43"><a class="header" href="#signature-43">Signature</a></h3>
<pre><code class="language-solidity">function getNonce(address account) external returns (uint64);
</code></pre>
<h3 id="description-139"><a class="header" href="#description-139">Description</a></h3>
<p>Gets the nonce of the given account.</p>
<h3 id="examples-106"><a class="header" href="#examples-106">Examples</a></h3>
<pre><code class="language-solidity">uint256 nonce = vm.getNonce(address(100));
emit log_uint(nonce); // 0
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="mockcall"><a class="header" href="#mockcall"><code>mockCall</code></a></h2>
<h3 id="signature-44"><a class="header" href="#signature-44">Signature</a></h3>
<pre><code class="language-solidity">function mockCall(address where, bytes calldata data, bytes calldata retdata) external;
</code></pre>
<pre><code class="language-solidity">function mockCall(
    address where,
    uint256 value,
    bytes calldata data,
    bytes calldata retdata
) external;
</code></pre>
<h3 id="description-140"><a class="header" href="#description-140">Description</a></h3>
<p>Mocks all calls to an address <code>where</code> if the call data either strictly or loosely matches <code>data</code> and returns <code>retdata</code>.</p>
<p>When a call is made to <code>where</code> the call data is first checked to see if it matches in its entirety with <code>data</code>.
If not, the call data is checked to see if there is a partial match, with the match starting at the first byte of the call data.</p>
<p>If a match is found, then <code>retdata</code> is returned from the call.</p>
<p><strong>Using the second signature</strong> we can mock the calls with a specific <code>msg.value</code>. <code>Calldata</code> match takes precedence over <code>msg.value</code> in case of ambiguity.</p>
<p>Mocked calls are in effect until <a href="cheatcodes/./clear-mocked-calls.html"><code>clearMockedCalls</code></a> is called.</p>
<blockquote>
<p>ℹ️ <strong>Note</strong></p>
<p>Calls to mocked addresses may revert if there is no code on the address.
This is because Solidity inserts an <code>extcodesize</code> check before some contract calls.</p>
<p>To circumvent this, use the <a href="cheatcodes/./etch.html"><code>etch</code></a> cheatcode if the mocked address has no code.</p>
</blockquote>
<blockquote>
<p>ℹ️ <strong>Internal calls</strong></p>
<p>This cheatcode does not currently work on internal calls. See issue <a href="https://github.com/foundry-rs/foundry/issues/432">#432</a>.</p>
</blockquote>
<h3 id="examples-107"><a class="header" href="#examples-107">Examples</a></h3>
<p>Mocking an exact call:</p>
<pre><code class="language-solidity">function testMockCall() public {
    vm.mockCall(
        address(0),
        abi.encodeWithSelector(MyToken.balanceOf.selector, address(1)),
        abi.encode(10)
    );
    assertEq(IERC20(address(0)).balanceOf(address(1)), 10);
}
</code></pre>
<p>Mocking an entire function:</p>
<pre><code class="language-solidity">function testMockCall() public {
    vm.mockCall(
        address(0),
        abi.encodeWithSelector(MyToken.balanceOf.selector),
        abi.encode(10)
    );
    assertEq(IERC20(address(0)).balanceOf(address(1)), 10);
    assertEq(IERC20(address(0)).balanceOf(address(2)), 10);
}
</code></pre>
<p>Mocking a call with a given <code>msg.value</code>:</p>
<pre><code class="language-solidity">function testMockCall() public {
    assertEq(example.pay{value: 10}(1), 1);
    assertEq(example.pay{value: 1}(2), 2);
    vm.mockCall(
        address(example),
        10,
        abi.encodeWithSelector(example.pay.selector),
        abi.encode(99)
    );
    assertEq(example.pay{value: 10}(1), 99);
    assertEq(example.pay{value: 1}(2), 2);
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="clearmockedcalls"><a class="header" href="#clearmockedcalls"><code>clearMockedCalls</code></a></h2>
<h3 id="signature-45"><a class="header" href="#signature-45">Signature</a></h3>
<pre><code class="language-solidity">function clearMockedCalls() external;
</code></pre>
<h3 id="description-141"><a class="header" href="#description-141">Description</a></h3>
<p>Clears all <a href="cheatcodes/./mock-call.html">mocked calls</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="coinbase"><a class="header" href="#coinbase"><code>coinbase</code></a></h2>
<h3 id="signature-46"><a class="header" href="#signature-46">Signature</a></h3>
<pre><code class="language-solidity">function coinbase(address) external;
</code></pre>
<h3 id="description-142"><a class="header" href="#description-142">Description</a></h3>
<p>Sets <code>block.coinbase</code>.</p>
<h3 id="examples-108"><a class="header" href="#examples-108">Examples</a></h3>
<pre><code class="language-solidity">emit log_address(block.coinbase); // 0x0000000000000000000000000000000000000000
vm.coinbase(0xEA674fdDe714fd979de3EdF0F56AA9716B898ec8);
emit log_address(block.coinbase); // 0xea674fdde714fd979de3edf0f56aa9716b898ec8
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="broadcast"><a class="header" href="#broadcast"><code>broadcast</code></a></h2>
<h3 id="signature-47"><a class="header" href="#signature-47">Signature</a></h3>
<pre><code class="language-solidity">function broadcast() external;
</code></pre>
<pre><code class="language-solidity">function broadcast(address who) external;
</code></pre>
<h3 id="description-143"><a class="header" href="#description-143">Description</a></h3>
<p>Using the address that calls the test contract or the address provided
as the sender, have the next call (at this call depth only) create a
transaction that can later be signed and sent onchain.</p>
<h3 id="examples-109"><a class="header" href="#examples-109">Examples</a></h3>
<pre><code class="language-solidity">function deploy() public {
    cheats.broadcast(ACCOUNT_A);
    Test test = new Test();

    // this won't generate tx to sign
    uint256 b = test.t(4);

    // this will
    cheats.broadcast(ACCOUNT_B);
    test.t(2);
} 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="startbroadcast"><a class="header" href="#startbroadcast"><code>startBroadcast</code></a></h2>
<h3 id="signature-48"><a class="header" href="#signature-48">Signature</a></h3>
<pre><code class="language-solidity">function startBroadcast() external;
</code></pre>
<pre><code class="language-solidity">function startBroadcast(address who) external;
</code></pre>
<h3 id="description-144"><a class="header" href="#description-144">Description</a></h3>
<p>Using the address that calls the test contract or the address provided
as the sender, have all subsequent calls (at this call depth only) create
transactions that can later be signed and sent onchain.</p>
<h3 id="examples-110"><a class="header" href="#examples-110">Examples</a></h3>
<pre><code class="language-solidity">function t(uint256 a) public returns (uint256) {
    uint256 b = 0;
    emit log_string(&quot;here&quot;);
    return b;
}

function deployOther() public {
    cheats.startBroadcast(ACCOUNT_A);
    Test test = new Test();
    
    // will trigger a transaction
    test.t(1);
    
    cheats.stopBroadcast();
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="stopbroadcast"><a class="header" href="#stopbroadcast"><code>stopBroadcast</code></a></h2>
<h3 id="signature-49"><a class="header" href="#signature-49">Signature</a></h3>
<pre><code class="language-solidity">function stopBroadcast() external;
</code></pre>
<h3 id="description-145"><a class="header" href="#description-145">Description</a></h3>
<p>Stops collecting transactions for later on-chain broadcasting.</p>
<h3 id="examples-111"><a class="header" href="#examples-111">Examples</a></h3>
<pre><code class="language-solidity">function deployNoArgs() public {
    // broadcast the next call
    cheats.broadcast();
    Test test1 = new Test();

    // broadcast all calls between this line and `stopBroadcast`
    cheats.startBroadcast();
    Test test2 = new Test();
    cheats.stopBroadcast();
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="assertions"><a class="header" href="#assertions">Assertions</a></h2>
<ul>
<li><a href="cheatcodes/./expect-revert.html"><code>expectRevert</code></a></li>
<li><a href="cheatcodes/./expect-emit.html"><code>expectEmit</code></a></li>
<li><a href="cheatcodes/./expect-call.html"><code>expectCall</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="expectrevert"><a class="header" href="#expectrevert"><code>expectRevert</code></a></h2>
<h3 id="signature-50"><a class="header" href="#signature-50">Signature</a></h3>
<pre><code class="language-solidity">function expectRevert() external;
</code></pre>
<pre><code class="language-solidity">function expectRevert(bytes4 msg) external;
</code></pre>
<pre><code class="language-solidity">function expectRevert(bytes calldata msg) external;
</code></pre>
<h3 id="description-146"><a class="header" href="#description-146">Description</a></h3>
<p>If the <strong>next call</strong> does not revert with the expected message <code>msg</code>, then <code>expectRevert</code> will.</p>
<p>After calling <code>expectRevert</code>, calls to other cheatcodes before the reverting call are ignored.</p>
<p>This means, for example, we can call <a href="cheatcodes/./prank.html"><code>prank</code></a> immediately before the reverting call.</p>
<p>There are 3 signatures:</p>
<ul>
<li><strong>Without parameters</strong>: Asserts that the next call reverts <strong>without</strong> a message.</li>
<li><strong>With <code>bytes4</code></strong>: Asserts that the next call reverts with the specified 4 bytes.</li>
<li><strong>With <code>bytes</code></strong>: Asserts that the next call reverts with the specified bytes.</li>
</ul>
<blockquote>
<p>⚠️ <strong>Gotcha: Usage with low-level calls</strong></p>
<p>Normally, a call that succeeds returns a status of <code>true</code> (along with any return data) and a call that reverts returns <code>false</code>.</p>
<p>The Solidity compiler will insert checks that ensures that the call succeeded, and revert if it did not.</p>
<p>The <code>expectRevert</code> cheatcode works by inverting this, so the next call after this cheatcode returns <code>true</code> if it reverts, and <code>false</code> otherwise.</p>
<p>The implication here is that to use this cheatcode with low-level calls, you must manually assert on the call's status since Solidity is not doing it for you.</p>
<p>For example:</p>
<pre><code class="language-solidity">function testLowLevelCallRevert() public {
    vm.expectRevert(bytes(&quot;error message&quot;));
    (bool status, ) = address(myContract).call(myCalldata);
    assertTrue(status, &quot;expectRevert: call did not revert&quot;);
}
</code></pre>
</blockquote>
<h3 id="examples-112"><a class="header" href="#examples-112">Examples</a></h3>
<p>To use <code>expectRevert</code> with a <code>string</code>, convert it to <code>bytes</code>.</p>
<pre><code class="language-solidity">vm.expectRevert(bytes(&quot;error message&quot;));
</code></pre>
<p>To use <code>expectRevert</code> with a custom <a href="https://docs.soliditylang.org/en/v0.8.11/contracts.html#errors">error type</a> without parameters, use its selector.</p>
<pre><code class="language-solidity">vm.expectRevert(MyContract.CustomError.selector);
</code></pre>
<p>To use <code>expectRevert</code> with a custom <a href="https://docs.soliditylang.org/en/v0.8.11/contracts.html#errors">error type</a> with parameters, ABI encode the error type.</p>
<pre><code class="language-solidity">vm.expectRevert(
    abi.encodeWithSelector(MyContract.CustomError.selector, 1, 2)
);
</code></pre>
<p>If you need to assert that a function reverts <em>without</em> a message, you can do so with <code>expectRevert()</code>.</p>
<pre><code class="language-solidity">function testExpectRevertNoReason() public {
    Reverter reverter = new Reverter();
    vm.expectRevert();
    reverter.revertWithoutReason();
}
</code></pre>
<p>You can also have multiple <code>expectRevert()</code> checks in a single test. </p>
<pre><code class="language-solidity">function testMultipleExpectReverts() public {
    vm.expectRevert(abi.encodePacked(&quot;INVALID_AMOUNT&quot;));
    vault.send(user, 0);

    vm.expectRevert(abi.encodePacked(&quot;INVALID_ADDRESS&quot;));
    vault.send(address(0), 200);
}
</code></pre>
<h3 id="see-also-94"><a class="header" href="#see-also-94">SEE ALSO</a></h3>
<p>Forge Standard Library</p>
<p><a href="cheatcodes/../reference/forge-std/std-errors.html">Std Errors</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="expectemit"><a class="header" href="#expectemit"><code>expectEmit</code></a></h2>
<h3 id="signature-51"><a class="header" href="#signature-51">Signature</a></h3>
<pre><code class="language-solidity">function expectEmit(
    bool checkTopic1,
    bool checkTopic2,
    bool checkTopic3,
    bool checkData
) external;
</code></pre>
<pre><code class="language-solidity">function expectEmit(
    bool checkTopic1,
    bool checkTopic2,
    bool checkTopic3,
    bool checkData,
    address emitter
) external;
</code></pre>
<h3 id="description-147"><a class="header" href="#description-147">Description</a></h3>
<p>Assert a specific log is emitted before the end of the current function.</p>
<ol>
<li>Call the cheat code, specifying whether we should check the first, second or third topic, and the log data. Topic 0 is always checked.</li>
<li>Emit the event we are supposed to see before the end of the current function.</li>
<li>Perform the call.</li>
</ol>
<p>If the event is not available in the current scope (e.g. if we are using an interface, or an external smart contract), we can define the event ourselves with an identical event signature.</p>
<p>There are 2 signatures:</p>
<ul>
<li><strong>Without checking the emitter address</strong>: Asserts the topics match <strong>without</strong> checking the emitting address.</li>
<li><strong>With <code>address</code></strong>: Asserts the topics match and that the emitting address matches.</li>
</ul>
<blockquote>
<p>ℹ️ <strong>Ordering matters</strong></p>
<p>If we call <code>expectEmit</code> and emit an event, then the next event emitted <strong>must</strong> match the one we expect.</p>
</blockquote>
<h3 id="examples-113"><a class="header" href="#examples-113">Examples</a></h3>
<p>This does not check the emitting address.</p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 amount);

function testERC20EmitsTransfer() public {
    // Only `from` and `to` are indexed in ERC20's `Transfer` event,
    // so we specifically check topics 1 and 2 (topic 0 is always checked by default),
    // as well as the data (`amount`).
    vm.expectEmit(true, true, false, true);

    // We emit the event we expect to see.
    emit MyToken.Transfer(address(this), address(1), 10);

    // We perform the call.
    myToken.transfer(address(1), 10);
}
</code></pre>
<p>This does check the emitting address.</p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 amount);

function testERC20EmitsTransfer() public {
    // We check that the token is the event emitter by passing the address as the fifth argument.
    vm.expectEmit(true, true, false, true, address(myToken));
    emit MyToken.Transfer(address(this), address(1), 10);

    // We perform the call.
    myToken.transfer(address(1), 10);
}
</code></pre>
<p>We can also assert that multiple events are emitted in a single call.</p>
<pre><code class="language-solidity">function testERC20EmitsBatchTransfer() public {
    // We declare multiple expected transfer events
    for (uint256 i = 0; i &lt; users.length; i++) {
        vm.expectEmit(true, true, true, true);
        emit Transfer(address(this), users[i], 10);
    }

    // We also expect a custom `BatchTransfer(uint256 numberOfTransfers)` event.
    vm.expectEmit(false, false, false, false);
    emit BatchTransfer(users.length);

    // We perform the call.
    myToken.batchTransfer(users, 10);
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="expectcall"><a class="header" href="#expectcall"><code>expectCall</code></a></h2>
<pre><code class="language-solidity">function expectCall(address where, bytes calldata data) external;
</code></pre>
<pre><code class="language-solidity">function expectCall(
    address where,
    uint256 value,
    bytes calldata data
) external;
</code></pre>
<h3 id="description-148"><a class="header" href="#description-148">Description</a></h3>
<p>Expects at least one call to address <code>where</code>, where the call data either strictly or loosely matches <code>data</code>.</p>
<p>When a call is made to <code>where</code> the call data is first checked to see if it matches in its entirety with <code>data</code>. If not, the call data is checked to see if there is a partial match, with the match starting at the first byte of the call data.</p>
<p><strong>Using the second signature</strong> we can also check if the call was made with the expected <code>msg.value</code>.</p>
<p>If the test terminates without the call being made, the test fails.</p>
<blockquote>
<p>ℹ️ <strong>Internal calls</strong></p>
<p>This cheatcode does not currently work on internal calls. See issue <a href="https://github.com/foundry-rs/foundry/issues/432">#432</a>.</p>
</blockquote>
<h3 id="examples-114"><a class="header" href="#examples-114">Examples</a></h3>
<p>Expect that <code>transfer</code> is called on a token <code>MyToken</code>:</p>
<pre><code class="language-solidity">address alice = address(10);
vm.expectCall(
  address(token), abi.encodeCall(token.transfer, (alice, 10))
);
token.transfer(alice, 10);
// [PASS]
</code></pre>
<p>Expect that <code>pay</code> is called on a <code>Contract</code> with a specific <code>msg.value</code> and <code>calldata</code>:</p>
<pre><code class="language-solidity">Contract target = new Contract();
vm.expectCall(
            address(target),
            1,
            abi.encodeWithSelector(target.pay.selector, 2)
        );
target.pay{value: 1}(2);
// [PASS]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="fuzzer"><a class="header" href="#fuzzer">Fuzzer</a></h2>
<ul>
<li><a href="cheatcodes/./assume.html"><code>assume</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="assume"><a class="header" href="#assume"><code>assume</code></a></h2>
<h3 id="signature-52"><a class="header" href="#signature-52">Signature</a></h3>
<pre><code class="language-solidity">function assume(bool) external;
</code></pre>
<h3 id="description-149"><a class="header" href="#description-149">Description</a></h3>
<p>If the boolean expression evaluates to false, the fuzzer will discard the current fuzz inputs and start a new fuzz run.</p>
<p>The <code>assume</code> cheatcode should mainly be used for very narrow checks.
Broad checks will slow down tests as it will take a while to find valid values, and the test may fail if you hit the max number of rejects.</p>
<p>You can configure the rejection thresholds by setting <a href="cheatcodes/./config.html#fuzz_max_local_rejects"><code>fuzz_max_local_rejects</code></a> and <a href="cheatcodes/./config.html#fuzz_max_global_rejects"><code>fuzz_max_global_rejects</code></a> in your <code>foundry.toml</code> file.</p>
<p>For broad checks, such as ensuring a <code>uint256</code> falls within a certain range, you can bound your input with the modulo operator or Forge Standard's <a href="cheatcodes/../reference/forge-std/bound.html"><code>bound</code></a> method.</p>
<p>More information on filtering via <code>assume</code> can be found <a href="https://altsysrq.github.io/proptest-book/proptest/tutorial/filtering.html#filtering">here</a>.</p>
<h3 id="examples-115"><a class="header" href="#examples-115">Examples</a></h3>
<pre><code class="language-solidity">// Good example of using assume
function testSomething(uint256 a) public {
    vm.assume(a != 1);
    require(a != 1);
    // [PASS]
}
</code></pre>
<pre><code class="language-solidity">// In this case assume is not a great fit, so you should bound inputs manually
function testSomethingElse(uint256 a) public {
    a = bound(a, 100, 1e36);
    require(a &gt;= 100 &amp;&amp; a &lt;= 1e36);
    // [PASS]
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="external"><a class="header" href="#external">External</a></h2>
<ul>
<li><a href="cheatcodes/./ffi.html"><code>ffi</code></a></li>
<li><a href="cheatcodes/./get-code.html"><code>getCode</code></a></li>
<li><a href="cheatcodes/./set-env.html"><code>setEnv</code></a></li>
<li><a href="cheatcodes/./env-bool.html"><code>envBool</code></a></li>
<li><a href="cheatcodes/./env-uint.html"><code>envUint</code></a></li>
<li><a href="cheatcodes/./env-int.html"><code>envInt</code></a></li>
<li><a href="cheatcodes/./env-address.html"><code>envAddress</code></a></li>
<li><a href="cheatcodes/./env-bytes32.html"><code>envBytes32</code></a></li>
<li><a href="cheatcodes/./env-string.html"><code>envString</code></a></li>
<li><a href="cheatcodes/./env-bytes.html"><code>envBytes</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ffi-1"><a class="header" href="#ffi-1"><code>ffi</code></a></h2>
<h3 id="signature-53"><a class="header" href="#signature-53">Signature</a></h3>
<pre><code class="language-solidity">function ffi(string[] calldata) external returns (bytes memory);
</code></pre>
<h3 id="description-150"><a class="header" href="#description-150">Description</a></h3>
<p>Calls an arbitrary command if <a href="cheatcodes/../reference/config.html#ffi"><code>ffi</code></a> is enabled.</p>
<p>It is generally advised to use this cheat code as a last resort, and to not enable it by default, as anyone who can change the tests of a project will be able to execute arbitrary commands on devices that run the tests.</p>
<h3 id="tips"><a class="header" href="#tips">Tips</a></h3>
<ul>
<li>Make sure that the output is ABI encoded</li>
<li>Make sure that the output does not include a <code>\n</code> newline character. (e.g in Rust use <code>print!</code> vs <code>println!</code>)</li>
<li>Remember that the script will be executed from the top-level directory of your project, not inside <code>test</code></li>
<li>Make sure that the inputs array does not have empty elements. They will be handled as inputs by the script, instead of space</li>
</ul>
<h3 id="examples-116"><a class="header" href="#examples-116">Examples</a></h3>
<pre><code class="language-solidity">string[] memory inputs = new string[](3);
inputs[0] = &quot;echo&quot;;
inputs[1] = &quot;-n&quot;;
// ABI encoded &quot;gm&quot;, as a string
inputs[2] = &quot;0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002676d000000000000000000000000000000000000000000000000000000000000&quot;;

bytes memory res = vm.ffi(inputs);
string memory output = abi.decode(res, (string));
assertEq(output, &quot;gm&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="getcode"><a class="header" href="#getcode"><code>getCode</code></a></h2>
<h3 id="signature-54"><a class="header" href="#signature-54">Signature</a></h3>
<pre><code class="language-solidity">function getCode(string calldata) external returns (bytes memory);
</code></pre>
<h3 id="description-151"><a class="header" href="#description-151">Description</a></h3>
<p>Returns the <strong>deployment</strong> bytecode for a contract in the project given the path to the contract.</p>
<p>The calldata parameter can either be in the form <code>ContractFile.sol</code> (if the filename and contract name are the same), <code>ContractFile.sol:ContractName</code>, or the path to an artifact, relative to the root of your project.</p>
<h3 id="examples-117"><a class="header" href="#examples-117">Examples</a></h3>
<pre><code class="language-solidity">MyContract myContract = new MyContract(arg1, arg2);

// Let's do the same thing with `getCode`
bytes memory args = abi.encode(arg1, arg2);
bytes memory bytecode = abi.encodePacked(vm.getCode(&quot;MyContract.sol:MyContract&quot;), args);
address anotherAddress;
assembly {
    anotherAddress := create(0, add(bytecode, 0x20), mload(bytecode))
}

assertEq0(address(myContract).code, anotherAddress.code); // [PASS]
</code></pre>
<h3 id="see-also-95"><a class="header" href="#see-also-95">SEE ALSO</a></h3>
<p>Forge Standard Library</p>
<p><a href="cheatcodes/../reference/forge-std/deployCode.html"><code>deployCode</code></a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="setenv"><a class="header" href="#setenv"><code>setEnv</code></a></h2>
<h3 id="signature-55"><a class="header" href="#signature-55">Signature</a></h3>
<pre><code class="language-solidity">function setEnv(string calldata key, string calldata value) external;
</code></pre>
<h3 id="description-152"><a class="header" href="#description-152">Description</a></h3>
<p>Set an environment variable <code>key=value</code>.</p>
<h3 id="tips-1"><a class="header" href="#tips-1">Tips</a></h3>
<ul>
<li>The environment variable key can't be empty.</li>
<li>The environment variable key can't contain the equal sign <code>=</code> or the NUL character <code>\\0</code>.</li>
<li>The environment variable value can't contain the NUL character <code>\\0</code>.</li>
</ul>
<h3 id="examples-118"><a class="header" href="#examples-118">Examples</a></h3>
<pre><code class="language-solidity">string memory key = &quot;hello&quot;;
string memory val = &quot;world&quot;;
cheats.setEnv(key, val);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="envbool"><a class="header" href="#envbool"><code>envBool</code></a></h2>
<h3 id="signature-56"><a class="header" href="#signature-56">Signature</a></h3>
<pre><code class="language-solidity">function envBool(string calldata key) external returns (bool value);
</code></pre>
<pre><code class="language-solidity">function envBool(string calldata key, string calldata delimiter) external returns (bool[] memory values);
</code></pre>
<h3 id="description-153"><a class="header" href="#description-153">Description</a></h3>
<p>Read an environment variable as <code>bool</code> or <code>bool[]</code>.</p>
<h3 id="tips-2"><a class="header" href="#tips-2">Tips</a></h3>
<ul>
<li>For <code>true</code>, use either &quot;true&quot; or &quot;True&quot; for the environment variable value.</li>
<li>For <code>false</code>, use either &quot;false&quot; or &quot;False&quot; for the environment variable value.</li>
<li>For arrays, you can specify the delimiter used to seperate the values with the <code>delimiter</code> parameter.</li>
</ul>
<h3 id="examples-119"><a class="header" href="#examples-119">Examples</a></h3>
<h4 id="single-value"><a class="header" href="#single-value">Single Value</a></h4>
<p>With environment variable <code>BOOL_VALUE=true</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;BOOL_VALUE&quot;;
bool expected = true;
bool output = cheats.envBool(key);
assert(output == expected);
</code></pre>
<h4 id="array"><a class="header" href="#array">Array</a></h4>
<p>With environment variable <code>BOOL_VALUES=true,false,True,False</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;BOOL_VALUES&quot;;
string memory delimiter = &quot;,&quot;;
bool[4] memory expected = [true, false, true, false];
bool[] memory output = cheats.envBool(key, delimiter);
assert(keccak256(abi.encodePacked((output))) == keccak256(abi.encodePacked((expected))));
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="envuint"><a class="header" href="#envuint"><code>envUint</code></a></h2>
<h3 id="signature-57"><a class="header" href="#signature-57">Signature</a></h3>
<pre><code class="language-solidity">function envUint(string calldata key) external returns (uint256 value);
</code></pre>
<pre><code class="language-solidity">function envUint(string calldata key, string calldata delimiter) external returns (uint256[] memory values);
</code></pre>
<h3 id="description-154"><a class="header" href="#description-154">Description</a></h3>
<p>Read an environment variable as <code>uint256</code> or <code>uint256[]</code>.</p>
<h3 id="tips-3"><a class="header" href="#tips-3">Tips</a></h3>
<ul>
<li>If the value starts with <code>0x</code>, it will be interpreted as a hex value, otherwise, it will be
treated as a decimal number.</li>
<li>For arrays, you can specify the delimiter used to seperate the values with the <code>delimiter</code> parameter.</li>
</ul>
<h3 id="examples-120"><a class="header" href="#examples-120">Examples</a></h3>
<h4 id="single-value-1"><a class="header" href="#single-value-1">Single Value</a></h4>
<p>With environment variable <code>UINT_VALUE=115792089237316195423570985008687907853269984665640564039457584007913129639935</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;UINT_VALUE&quot;;
uint256 expected = type(uint256).max;
uint256 output = cheats.envUint(key);
assert(output == expected);
</code></pre>
<h4 id="array-1"><a class="header" href="#array-1">Array</a></h4>
<p>With environment variable <code>UINT_VALUES=0,0x0000000000000000000000000000000000000000000000000000000000000000</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;UINT_VALUES&quot;;
string memory delimiter = &quot;,&quot;;
uint256[2] memory expected = [type(uint256).min, type(uint256).min];
uint256[] memory output = cheats.envUint(key, delimiter);
assert(keccak256(abi.encodePacked((output))) == keccak256(abi.encodePacked((expected))));
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="envint"><a class="header" href="#envint"><code>envInt</code></a></h2>
<h3 id="signature-58"><a class="header" href="#signature-58">Signature</a></h3>
<pre><code class="language-solidity">function envInt(string calldata key) external returns (int256 value);
</code></pre>
<pre><code class="language-solidity">function envInt(string calldata key, string calldata delimiter) external returns (int256[] memory values);
</code></pre>
<h3 id="description-155"><a class="header" href="#description-155">Description</a></h3>
<p>Read an environment variable as <code>int256</code> or <code>int256[]</code>.</p>
<h3 id="tips-4"><a class="header" href="#tips-4">Tips</a></h3>
<ul>
<li>If the value starts with <code>0x</code>, <code>-0x</code> or <code>+0x</code>, it will be interpreted as a hex value, otherwise,
it will be treated as a decimal number.</li>
<li>For arrays, you can specify the delimiter used to seperate the values with the <code>delimiter</code> parameter.</li>
</ul>
<h3 id="examples-121"><a class="header" href="#examples-121">Examples</a></h3>
<h4 id="single-value-2"><a class="header" href="#single-value-2">Single Value</a></h4>
<p>With environment variable <code>INT_VALUE=-57896044618658097711785492504343953926634992332820282019728792003956564819968</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;INT_VALUE&quot;;
int256 expected = type(int256).min;
int256 output = cheats.envInt(key);
assert(output == expected);
</code></pre>
<h4 id="array-2"><a class="header" href="#array-2">Array</a></h4>
<p>With environment variable <code>INT_VALUES=-0x8000000000000000000000000000000000000000000000000000000000000000,+0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;INT_VALUES&quot;;
string memory delimiter = &quot;,&quot;;
int256[2] memory expected = [type(int256).min, type(int256).max];
int256[] memory output = cheats.envInt(key, delimiter);
assert(keccak256(abi.encodePacked((output))) == keccak256(abi.encodePacked((expected))));
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="envaddress"><a class="header" href="#envaddress"><code>envAddress</code></a></h2>
<h3 id="signature-59"><a class="header" href="#signature-59">Signature</a></h3>
<pre><code class="language-solidity">function envAddress(string calldata key) external returns (address value);
</code></pre>
<pre><code class="language-solidity">function envAddress(string calldata key, string calldata delimiter) external returns (address[] memory values);
</code></pre>
<h3 id="description-156"><a class="header" href="#description-156">Description</a></h3>
<p>Read an environment variable as <code>address</code> or <code>address[]</code>.</p>
<h3 id="tips-5"><a class="header" href="#tips-5">Tips</a></h3>
<ul>
<li>For arrays, you can specify the delimiter used to seperate the values with the <code>delimiter</code> parameter.</li>
</ul>
<h3 id="examples-122"><a class="header" href="#examples-122">Examples</a></h3>
<h4 id="single-value-3"><a class="header" href="#single-value-3">Single Value</a></h4>
<p>With environment variable <code>ADDRESS_VALUE=0x7109709ECfa91a80626fF3989D68f67F5b1DD12D</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;ADDRESS_VALUE&quot;;
address expected = 0x7109709ECfa91a80626fF3989D68f67F5b1DD12D;
address output = cheats.envAddress(key);
assert(output == expected);
</code></pre>
<h4 id="array-3"><a class="header" href="#array-3">Array</a></h4>
<p>With environment variable <code>ADDRESS_VALUES=0x7109709ECfa91a80626fF3989D68f67F5b1DD12D,0x0000000000000000000000000000000000000000</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;ADDRESS_VALUES&quot;;
string memory delimiter = &quot;,&quot;;
address[2] memory expected = [
    0x7109709ECfa91a80626fF3989D68f67F5b1DD12D,
    0x0000000000000000000000000000000000000000
];
address[] memory output = cheats.envAddress(key, delimiter);
assert(keccak256(abi.encodePacked((output))) == keccak256(abi.encodePacked((expected))));
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="envbytes32"><a class="header" href="#envbytes32"><code>envBytes32</code></a></h2>
<h3 id="signature-60"><a class="header" href="#signature-60">Signature</a></h3>
<pre><code class="language-solidity">function envBytes32(string calldata key) external returns (bytes32 value);
</code></pre>
<pre><code class="language-solidity">function envBytes32(string calldata key, string calldata delimiter) external returns (bytes32[] memory values);
</code></pre>
<h3 id="description-157"><a class="header" href="#description-157">Description</a></h3>
<p>Read an environment variable as <code>bytes32</code> or <code>address[]</code>.</p>
<h3 id="tips-6"><a class="header" href="#tips-6">Tips</a></h3>
<ul>
<li>For arrays, you can specify the delimiter used to seperate the values with the <code>delimiter</code> parameter.</li>
</ul>
<h3 id="examples-123"><a class="header" href="#examples-123">Examples</a></h3>
<h4 id="single-value-4"><a class="header" href="#single-value-4">Single Value</a></h4>
<p>With environment variable <code>BYTES32_VALUE=0x00</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;BYTES32_VALUE&quot;;
bytes32 expected = bytes32(0x0000000000000000000000000000000000000000000000000000000000000000);
bytes32 output = cheats.envBytes32(key);
assert(output == expected);
</code></pre>
<h4 id="array-4"><a class="header" href="#array-4">Array</a></h4>
<p>With environment variable <code>BYTES32_VALUES=0x7109709ECfa91a80626fF3989D68f67F5b1DD12D,0x00</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;BYTES32_VALUES&quot;;
string memory delimiter = &quot;,&quot;;
bytes32[2] memory expected = [
    bytes32(0x7109709ECfa91a80626fF3989D68f67F5b1DD12D000000000000000000000000),
    bytes32(0x0000000000000000000000000000000000000000000000000000000000000000)
];
bytes32[] memory output = cheats.envBytes32(key, delimiter);
assert(keccak256(abi.encodePacked((output))) == keccak256(abi.encodePacked((expected))));
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="envstring"><a class="header" href="#envstring"><code>envString</code></a></h2>
<h3 id="signature-61"><a class="header" href="#signature-61">Signature</a></h3>
<pre><code class="language-solidity">function envString(string calldata key) external returns (string value);
</code></pre>
<pre><code class="language-solidity">function envString(string calldata key, string calldata delimiter) external returns (string[] memory values);
</code></pre>
<h3 id="description-158"><a class="header" href="#description-158">Description</a></h3>
<p>Read an environment variable as <code>string</code> or <code>string[]</code>.</p>
<h3 id="tips-7"><a class="header" href="#tips-7">Tips</a></h3>
<ul>
<li>For arrays, you can specify the delimiter used to seperate the values with the <code>delimiter</code> parameter.</li>
<li>Choose a delimiter that doesn't appear in the string values, so that they can be correctly separated. </li>
</ul>
<h3 id="examples-124"><a class="header" href="#examples-124">Examples</a></h3>
<h4 id="single-value-5"><a class="header" href="#single-value-5">Single Value</a></h4>
<p>With environment variable <code>STRING_VALUE=hello, world!</code>,</p>
<pre><code class="language-solidity">string memory key = &quot;STRING_VALUE&quot;;
string expected = &quot;hellow, world!&quot;;
string output = cheats.envString(key);
assertEq(output, expected);
</code></pre>
<h4 id="array-5"><a class="header" href="#array-5">Array</a></h4>
<p>With environment variable <code>STRING_VALUES=hello, world!|0x7109709ECfa91a80626fF3989D68f67F5b1DD12D</code>;</p>
<pre><code class="language-solidity">string memory key = &quot;STRING_VALUES&quot;;
string memory delimiter = &quot;|&quot;;
string[2] memory expected = [
    &quot;hello, world!&quot;,
    &quot;0x7109709ECfa91a80626fF3989D68f67F5b1DD12D&quot;
];
string[] memory output = cheats.envString(key, delimiter);
for (uint i = 0; i &lt; expected.length; ++i) {
    assert(keccak256(abi.encodePacked((output[i]))) == keccak256(abi.encodePacked((expected[i]))));
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="envbytes"><a class="header" href="#envbytes"><code>envBytes</code></a></h2>
<h3 id="signature-62"><a class="header" href="#signature-62">Signature</a></h3>
<pre><code class="language-solidity">function envBytes(bytes calldata key) external returns (bytes value);
</code></pre>
<pre><code class="language-solidity">function envBytes(bytes calldata key, bytes calldata delimiter) external returns (bytes[] memory values);
</code></pre>
<h3 id="description-159"><a class="header" href="#description-159">Description</a></h3>
<p>Read an environment variable as <code>bytes</code> or <code>bytes[]</code>.</p>
<h3 id="tips-8"><a class="header" href="#tips-8">Tips</a></h3>
<ul>
<li>For arrays, you can specify the delimiter used to seperate the values with the <code>delimiter</code> parameter.</li>
</ul>
<h3 id="examples-125"><a class="header" href="#examples-125">Examples</a></h3>
<h4 id="single-value-6"><a class="header" href="#single-value-6">Single Value</a></h4>
<p>With environment variable <code>BYTES_VALUE=0x7109709ECfa91a80626fF3989D68f67F5b1DD12D</code>;</p>
<pre><code class="language-solidity">bytes memory key = &quot;BYTES_VALUE&quot;;
bytes expected = hex&quot;7109709ECfa91a80626fF3989D68f67F5b1DD12D&quot;;
bytes output = cheats.envBytes(key);
assertEq(output, expected);
</code></pre>
<h4 id="array-6"><a class="header" href="#array-6">Array</a></h4>
<p>With environment variable <code>BYTES_VALUE=0x7109709ECfa91a80626fF3989D68f67F5b1DD12D,0x00</code>;</p>
<pre><code class="language-solidity">bytes memory key = &quot;BYTES_VALUES&quot;;
bytes memory delimiter = &quot;,&quot;;
bytes[] memory expected = new bytes[](2);
expected[0] = hex&quot;7109709ECfa91a80626fF3989D68f67F5b1DD12D&quot;;
expected[1] = hex&quot;00&quot;;
bytes[] memory output = cheats.envBytes(key, delimiter);
for (uint i = 0; i &lt; expected.length; ++i) {
    assert(keccak256(abi.encodePacked((output[i]))) == keccak256(abi.encodePacked((expected[i]))));
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="utilities"><a class="header" href="#utilities">Utilities</a></h2>
<ul>
<li><a href="cheatcodes/./addr.html"><code>addr</code></a></li>
<li><a href="cheatcodes/./sign.html"><code>sign</code></a></li>
<li><a href="cheatcodes/./label.html"><code>label</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="addr"><a class="header" href="#addr"><code>addr</code></a></h2>
<h3 id="signature-63"><a class="header" href="#signature-63">Signature</a></h3>
<pre><code class="language-solidity">function addr(uint256 privateKey) external returns (address);
</code></pre>
<h3 id="description-160"><a class="header" href="#description-160">Description</a></h3>
<p>Computes the address for a given private key.</p>
<h3 id="examples-126"><a class="header" href="#examples-126">Examples</a></h3>
<pre><code class="language-solidity">address alice = vm.addr(1);
emit log_address(alice); // 0x7e5f4552091a69125d5dfcb7b8c2659029395bdf
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="sign"><a class="header" href="#sign"><code>sign</code></a></h2>
<h3 id="signature-64"><a class="header" href="#signature-64">Signature</a></h3>
<pre><code class="language-solidity">function sign(uint256 privateKey, bytes32 digest) external returns (uint8 v, bytes32 r, bytes32 s);
</code></pre>
<h3 id="description-161"><a class="header" href="#description-161">Description</a></h3>
<p>Signs a digest <code>digest</code> with private key <code>privateKey</code>, returning <code>(v, r, s)</code>.</p>
<p>This is useful for testing functions that take signed data and perform an <code>ecrecover</code> to verify the signer.</p>
<h3 id="examples-127"><a class="header" href="#examples-127">Examples</a></h3>
<pre><code class="language-solidity">address alice = vm.addr(1);
bytes32 hash = keccak256(&quot;Signed by Alice&quot;);
(uint8 v, bytes32 r, bytes32 s) = vm.sign(1, hash);
address signer = ecrecover(hash, v, r, s);
assertEq(alice, signer); // [PASS]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="label"><a class="header" href="#label"><code>label</code></a></h2>
<h3 id="signature-65"><a class="header" href="#signature-65">Signature</a></h3>
<pre><code class="language-solidity">function label(address addr, string calldata label) external;
</code></pre>
<h3 id="description-162"><a class="header" href="#description-162">Description</a></h3>
<p>Sets a label <code>label</code> for <code>addr</code> in test traces.</p>
<p>If an address is labelled, the label will show up in test traces instead of the address.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="misc"><a class="header" href="#misc">Misc</a></h2>
<ul>
<li><a href="misc/./struct-encoding.html">Struct encoding</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="src/static/solidity.min.js"></script>
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
