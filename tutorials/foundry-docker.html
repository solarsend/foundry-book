<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Docker and Foundry - Foundry Book</title>
        <!-- Custom HTML head -->
        <meta name="twitter:card" content="summary">
        <meta property="og:title" content="Foundry Book" />
        <meta property="og:description" content="A book on all things Foundry" />
        <meta name="twitter:image:src" content="https://raw.githubusercontent.com/foundry-rs/book/master/theme/card.png" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A book on all things Foundry">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../src/static/custom.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Getting Started</li><li class="chapter-item expanded "><a href="../getting-started/installation.html">Installation</a></li><li class="chapter-item expanded "><a href="../getting-started/first-steps.html">First Steps with Foundry</a></li><li class="chapter-item expanded affix "><li class="part-title">Projects</li><li class="chapter-item expanded "><a href="../projects/creating-a-new-project.html">Creating a New Project</a></li><li class="chapter-item expanded "><a href="../projects/working-on-an-existing-project.html">Working on an Existing Project</a></li><li class="chapter-item expanded "><a href="../projects/dependencies.html">Dependencies</a></li><li class="chapter-item expanded "><a href="../projects/project-layout.html">Project Layout</a></li><li class="chapter-item expanded affix "><li class="part-title">Forge Overview</li><li class="chapter-item expanded "><a href="../forge/index.html">Overview of Forge</a></li><li class="chapter-item expanded "><a href="../forge/tests.html">Tests</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../forge/writing-tests.html">Writing Tests</a></li><li class="chapter-item "><a href="../forge/cheatcodes.html">Cheatcodes</a></li><li class="chapter-item "><a href="../forge/forge-std.html">Forge Standard Library Overview</a></li><li class="chapter-item "><a href="../forge/traces.html">Understanding Traces</a></li><li class="chapter-item "><a href="../forge/forking-mode.html">Forking Mode</a></li></ol></li><li class="chapter-item expanded "><a href="../forge/advanced-testing.html">Advanced Testing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../forge/fuzz-testing.html">Fuzz Testing</a></li><li class="chapter-item "><a href="../forge/differential-ffi-testing.html">Differential Testing</a></li></ol></li><li class="chapter-item expanded "><a href="../forge/deploying.html">Deploying and Verifying</a></li><li class="chapter-item expanded "><a href="../forge/gas-tracking.html">Gas Tracking</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../forge/gas-reports.html">Gas Reports</a></li><li class="chapter-item "><a href="../forge/gas-snapshots.html">Gas Snapshots</a></li></ol></li><li class="chapter-item expanded "><a href="../forge/debugger.html">Debugger</a></li><li class="chapter-item expanded affix "><li class="part-title">Cast Overview</li><li class="chapter-item expanded "><a href="../cast/index.html">Overview of Cast</a></li><li class="chapter-item expanded affix "><li class="part-title">Anvil Overview</li><li class="chapter-item expanded "><a href="../anvil/index.html">Overview of Anvil</a></li><li class="chapter-item expanded affix "><li class="part-title">Configuration</li><li class="chapter-item expanded "><a href="../config/index.html">Configuring with foundry.toml</a></li><li class="chapter-item expanded "><a href="../config/continous-integration.html">Continuous Integration</a></li><li class="chapter-item expanded "><a href="../config/vscode.html">Integrating with VSCode</a></li><li class="chapter-item expanded "><a href="../config/shell-autocompletion.html">Shell Autocompletion</a></li><li class="chapter-item expanded "><a href="../config/static-analyzers.html">Static Analyzers</a></li><li class="chapter-item expanded "><a href="../config/hardhat.html">Integrating with Hardhat</a></li><li class="chapter-item expanded affix "><li class="part-title">Tutorials</li><li class="chapter-item expanded "><a href="../tutorials/solmate-nft.html">Creating an NFT with Solmate</a></li><li class="chapter-item expanded "><a href="../tutorials/foundry-docker.html" class="active">Docker and Foundry</a></li><li class="chapter-item expanded "><a href="../tutorials/testing-eip712.html">Testing EIP-712 Signatures</a></li><li class="chapter-item expanded "><a href="../tutorials/solidity-scripting.html">Solidity Scripting</a></li><li class="chapter-item expanded affix "><li class="part-title">Appendix</li><li class="chapter-item expanded "><a href="../faq.html">FAQ</a></li><li class="chapter-item expanded "><a href="../reference/index.html">References</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge/index.html">forge Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge/general-commands.html">General Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge/forge.html">forge</a></li><li class="chapter-item "><a href="../reference/forge/forge-help.html">forge help</a></li><li class="chapter-item "><a href="../reference/forge/forge-completions.html">forge completions</a></li></ol></li><li class="chapter-item "><a href="../reference/forge/project-commands.html">Project Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge/forge-init.html">forge init</a></li><li class="chapter-item "><a href="../reference/forge/forge-install.html">forge install</a></li><li class="chapter-item "><a href="../reference/forge/forge-update.html">forge update</a></li><li class="chapter-item "><a href="../reference/forge/forge-remove.html">forge remove</a></li><li class="chapter-item "><a href="../reference/forge/forge-config.html">forge config</a></li><li class="chapter-item "><a href="../reference/forge/forge-remappings.html">forge remappings</a></li><li class="chapter-item "><a href="../reference/forge/forge-tree.html">forge tree</a></li></ol></li><li class="chapter-item "><a href="../reference/forge/build-commands.html">Build Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge/forge-build.html">forge build</a></li><li class="chapter-item "><a href="../reference/forge/forge-clean.html">forge clean</a></li><li class="chapter-item "><a href="../reference/forge/forge-inspect.html">forge inspect</a></li></ol></li><li class="chapter-item "><a href="../reference/forge/test-commands.html">Test Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge/forge-test.html">forge test</a></li><li class="chapter-item "><a href="../reference/forge/forge-snapshot.html">forge snapshot</a></li></ol></li><li class="chapter-item "><a href="../reference/forge/deploy-commands.html">Deploy Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge/forge-create.html">forge create</a></li><li class="chapter-item "><a href="../reference/forge/forge-verify-contract.html">forge verify-contract</a></li><li class="chapter-item "><a href="../reference/forge/forge-verify-check.html">forge verify-check</a></li><li class="chapter-item "><a href="../reference/forge/forge-flatten.html">forge flatten</a></li></ol></li><li class="chapter-item "><a href="../reference/forge/utility-commands.html">Utility Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge/forge-debug.html">forge debug</a></li><li class="chapter-item "><a href="../reference/forge/forge-bind.html">forge bind</a></li><li class="chapter-item "><a href="../reference/forge/forge-cache.html">forge cache</a></li><li class="chapter-item "><a href="../reference/forge/forge-cache-clean.html">forge cache clean</a></li><li class="chapter-item "><a href="../reference/forge/forge-cache-ls.html">forge cache ls</a></li><li class="chapter-item "><a href="../reference/forge/forge-script.html">forge script</a></li><li class="chapter-item "><a href="../reference/forge/forge-upload-selectors.html">forge upload-selectors</a></li></ol></li></ol></li><li class="chapter-item "><a href="../reference/cast/index.html">cast Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/general-commands.html">General Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast.html">cast</a></li><li class="chapter-item "><a href="../reference/cast/cast-help.html">cast help</a></li><li class="chapter-item "><a href="../reference/cast/cast-completions.html">cast completions</a></li></ol></li><li class="chapter-item "><a href="../reference/cast/chain-commands.html">Chain Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast-chain-id.html">cast chain-id</a></li><li class="chapter-item "><a href="../reference/cast/cast-chain.html">cast chain</a></li><li class="chapter-item "><a href="../reference/cast/cast-client.html">cast client</a></li></ol></li><li class="chapter-item "><a href="../reference/cast/transaction-commands.html">Transaction Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast-publish.html">cast publish</a></li><li class="chapter-item "><a href="../reference/cast/cast-receipt.html">cast receipt</a></li><li class="chapter-item "><a href="../reference/cast/cast-send.html">cast send</a></li><li class="chapter-item "><a href="../reference/cast/cast-call.html">cast call</a></li><li class="chapter-item "><a href="../reference/cast/cast-tx.html">cast tx</a></li><li class="chapter-item "><a href="../reference/cast/cast-run.html">cast run</a></li><li class="chapter-item "><a href="../reference/cast/cast-estimate.html">cast estimate</a></li><li class="chapter-item "><a href="../reference/cast/cast-access-list.html">cast access-list</a></li></ol></li><li class="chapter-item "><a href="../reference/cast/block-commands.html">Block Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast-find-block.html">cast find-block</a></li><li class="chapter-item "><a href="../reference/cast/cast-gas-price.html">cast gas-price</a></li><li class="chapter-item "><a href="../reference/cast/cast-block-number.html">cast block-number</a></li><li class="chapter-item "><a href="../reference/cast/cast-basefee.html">cast basefee</a></li><li class="chapter-item "><a href="../reference/cast/cast-block.html">cast block</a></li><li class="chapter-item "><a href="../reference/cast/cast-age.html">cast age</a></li></ol></li><li class="chapter-item "><a href="../reference/cast/account-commands.html">Account Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast-balance.html">cast balance</a></li><li class="chapter-item "><a href="../reference/cast/cast-storage.html">cast storage</a></li><li class="chapter-item "><a href="../reference/cast/cast-proof.html">cast proof</a></li><li class="chapter-item "><a href="../reference/cast/cast-nonce.html">cast nonce</a></li><li class="chapter-item "><a href="../reference/cast/cast-code.html">cast code</a></li></ol></li><li class="chapter-item "><a href="../reference/cast/ens-commands.html">ENS Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast-lookup-address.html">cast lookup-address</a></li><li class="chapter-item "><a href="../reference/cast/cast-resolve-name.html">cast resolve-name</a></li><li class="chapter-item "><a href="../reference/cast/cast-namehash.html">cast namehash</a></li></ol></li><li class="chapter-item "><a href="../reference/cast/etherscan-commands.html">Etherscan Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast-etherscan-source.html">cast etherscan-source</a></li></ol></li><li class="chapter-item "><a href="../reference/cast/abi-commands.html">ABI Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast-abi-encode.html">cast abi-encode</a></li><li class="chapter-item "><a href="../reference/cast/cast-4byte.html">cast 4byte</a></li><li class="chapter-item "><a href="../reference/cast/cast-4byte-decode.html">cast 4byte-decode</a></li><li class="chapter-item "><a href="../reference/cast/cast-4byte-event.html">cast 4byte-event</a></li><li class="chapter-item "><a href="../reference/cast/cast-calldata.html">cast calldata</a></li><li class="chapter-item "><a href="../reference/cast/cast-pretty-calldata.html">cast pretty-calldata</a></li><li class="chapter-item "><a href="../reference/cast/cast--abi-decode.html">cast --abi-decode</a></li><li class="chapter-item "><a href="../reference/cast/cast--calldata-decode.html">cast --calldata-decode</a></li><li class="chapter-item "><a href="../reference/cast/cast-upload-signature.html">cast upload-signature</a></li></ol></li><li class="chapter-item "><a href="../reference/cast/conversion-commands.html">Conversion Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast--from-bin.html">cast --from-bin</a></li><li class="chapter-item "><a href="../reference/cast/cast--from-fix.html">cast --from-fix</a></li><li class="chapter-item "><a href="../reference/cast/cast--from-rlp.html">cast --from-rlp</a></li><li class="chapter-item "><a href="../reference/cast/cast--from-utf8.html">cast --from-utf8</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-ascii.html">cast --to-ascii</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-bytes32.html">cast --to-bytes32</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-dec.html">cast --to-dec</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-fix.html">cast --to-fix</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-hex.html">cast --to-hex</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-hexdata.html">cast --to-hexdata</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-int256.html">cast --to-int256</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-rlp.html">cast --to-rlp</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-uint256.html">cast --to-uint256</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-unit.html">cast --to-unit</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-wei.html">cast --to-wei</a></li></ol></li><li class="chapter-item "><a href="../reference/cast/utility-commands.html">Utility Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast-sig.html">cast sig</a></li><li class="chapter-item "><a href="../reference/cast/cast-keccak.html">cast keccak</a></li><li class="chapter-item "><a href="../reference/cast/cast-compute-address.html">cast compute-address</a></li><li class="chapter-item "><a href="../reference/cast/cast-interface.html">cast interface</a></li><li class="chapter-item "><a href="../reference/cast/cast-index.html">cast index</a></li><li class="chapter-item "><a href="../reference/cast/cast--concat-hex.html">cast --concat-hex</a></li><li class="chapter-item "><a href="../reference/cast/cast--max-int.html">cast --max-int</a></li><li class="chapter-item "><a href="../reference/cast/cast--min-int.html">cast --min-int</a></li><li class="chapter-item "><a href="../reference/cast/cast--max-uint.html">cast --max-uint</a></li><li class="chapter-item "><a href="../reference/cast/cast--to-checksum-address.html">cast --to-checksum-address</a></li></ol></li><li class="chapter-item "><a href="../reference/cast/wallet-commands.html">Wallet Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/cast/cast-wallet.html">cast wallet</a></li><li class="chapter-item "><a href="../reference/cast/cast-wallet-new.html">cast wallet new</a></li><li class="chapter-item "><a href="../reference/cast/cast-wallet-address.html">cast wallet address</a></li><li class="chapter-item "><a href="../reference/cast/cast-wallet-sign.html">cast wallet sign</a></li><li class="chapter-item "><a href="../reference/cast/cast-wallet-vanity.html">cast wallet vanity</a></li><li class="chapter-item "><a href="../reference/cast/cast-wallet-verify.html">cast wallet verify</a></li></ol></li></ol></li><li class="chapter-item "><a href="../reference/anvil/index.html">anvil Reference</a></li><li class="chapter-item "><a href="../reference/config.html">Config Reference</a></li><li class="chapter-item "><a href="../reference/forge-std/index.html">Forge Standard Library Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge-std/std-assertions.html">Std Assertions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge-std/fail.html">fail</a></li><li class="chapter-item "><a href="../reference/forge-std/assertFalse.html">assertFalse</a></li><li class="chapter-item "><a href="../reference/forge-std/assertEq.html">assertEq</a></li><li class="chapter-item "><a href="../reference/forge-std/assertApproxEqAbs.html">assertApproxEqAbs</a></li><li class="chapter-item "><a href="../reference/forge-std/assertApproxEqRel.html">assertApproxEqRel</a></li></ol></li><li class="chapter-item "><a href="../reference/forge-std/std-cheats.html">Std Cheats</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge-std/skip.html">skip</a></li><li class="chapter-item "><a href="../reference/forge-std/rewind.html">rewind</a></li><li class="chapter-item "><a href="../reference/forge-std/hoax.html">hoax</a></li><li class="chapter-item "><a href="../reference/forge-std/startHoax.html">startHoax</a></li><li class="chapter-item "><a href="../reference/forge-std/deal.html">deal</a></li><li class="chapter-item "><a href="../reference/forge-std/deployCode.html">deployCode</a></li><li class="chapter-item "><a href="../reference/forge-std/bound.html">bound</a></li><li class="chapter-item "><a href="../reference/forge-std/change-prank.html">changePrank</a></li></ol></li><li class="chapter-item "><a href="../reference/forge-std/std-errors.html">Std Errors</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge-std/assertionError.html">assertionError</a></li><li class="chapter-item "><a href="../reference/forge-std/arithmeticError.html">arithmeticError</a></li><li class="chapter-item "><a href="../reference/forge-std/divisionError.html">divisionError</a></li><li class="chapter-item "><a href="../reference/forge-std/enumConversionError.html">enumConversionError</a></li><li class="chapter-item "><a href="../reference/forge-std/encodeStorageError.html">encodeStorageError</a></li><li class="chapter-item "><a href="../reference/forge-std/popError.html">popError</a></li><li class="chapter-item "><a href="../reference/forge-std/indexOOBError.html">indexOOBError</a></li><li class="chapter-item "><a href="../reference/forge-std/memOverflowError.html">memOverflowError</a></li><li class="chapter-item "><a href="../reference/forge-std/zeroVarError.html">zeroVarError</a></li></ol></li><li class="chapter-item "><a href="../reference/forge-std/std-storage.html">Std Storage</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../reference/forge-std/target.html">target</a></li><li class="chapter-item "><a href="../reference/forge-std/sig.html">sig</a></li><li class="chapter-item "><a href="../reference/forge-std/with_key.html">with_key</a></li><li class="chapter-item "><a href="../reference/forge-std/depth.html">depth</a></li><li class="chapter-item "><a href="../reference/forge-std/checked_write.html">checked_write</a></li><li class="chapter-item "><a href="../reference/forge-std/find.html">find</a></li><li class="chapter-item "><a href="../reference/forge-std/read.html">read</a></li></ol></li><li class="chapter-item "><a href="../reference/forge-std/std-math.html">Std Math</a></li><li class="chapter-item "><a href="../reference/forge-std/std-logs.html">Std Logs</a></li></ol></li><li class="chapter-item "><a href="../reference/ds-test.html">DSTest Reference</a></li><li class="chapter-item "><a href="../cheatcodes/index.html">Cheatcodes Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cheatcodes/environment.html">Environment</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cheatcodes/warp.html">warp</a></li><li class="chapter-item "><a href="../cheatcodes/roll.html">roll</a></li><li class="chapter-item "><a href="../cheatcodes/fee.html">fee</a></li><li class="chapter-item "><a href="../cheatcodes/chain-id.html">chainId</a></li><li class="chapter-item "><a href="../cheatcodes/store.html">store</a></li><li class="chapter-item "><a href="../cheatcodes/load.html">load</a></li><li class="chapter-item "><a href="../cheatcodes/etch.html">etch</a></li><li class="chapter-item "><a href="../cheatcodes/deal.html">deal</a></li><li class="chapter-item "><a href="../cheatcodes/prank.html">prank</a></li><li class="chapter-item "><a href="../cheatcodes/start-prank.html">startPrank</a></li><li class="chapter-item "><a href="../cheatcodes/stop-prank.html">stopPrank</a></li><li class="chapter-item "><a href="../cheatcodes/record.html">record</a></li><li class="chapter-item "><a href="../cheatcodes/accesses.html">accesses</a></li><li class="chapter-item "><a href="../cheatcodes/set-nonce.html">setNonce</a></li><li class="chapter-item "><a href="../cheatcodes/get-nonce.html">getNonce</a></li><li class="chapter-item "><a href="../cheatcodes/mock-call.html">mockCall</a></li><li class="chapter-item "><a href="../cheatcodes/clear-mocked-calls.html">clearMockedCalls</a></li><li class="chapter-item "><a href="../cheatcodes/coinbase.html">coinbase</a></li><li class="chapter-item "><a href="../cheatcodes/broadcast.html">broadcast</a></li><li class="chapter-item "><a href="../cheatcodes/start-broadcast.html">startBroadcast</a></li><li class="chapter-item "><a href="../cheatcodes/stop-broadcast.html">stopBroadcast</a></li></ol></li><li class="chapter-item "><a href="../cheatcodes/assertions.html">Assertions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cheatcodes/expect-revert.html">expectRevert</a></li><li class="chapter-item "><a href="../cheatcodes/expect-emit.html">expectEmit</a></li><li class="chapter-item "><a href="../cheatcodes/expect-call.html">expectCall</a></li></ol></li><li class="chapter-item "><a href="../cheatcodes/fuzzer.html">Fuzzer</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cheatcodes/assume.html">assume</a></li></ol></li><li class="chapter-item "><a href="../cheatcodes/external.html">External</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cheatcodes/ffi.html">ffi</a></li><li class="chapter-item "><a href="../cheatcodes/get-code.html">getCode</a></li><li class="chapter-item "><a href="../cheatcodes/set-env.html">setEnv</a></li><li class="chapter-item "><a href="../cheatcodes/env-bool.html">envBool</a></li><li class="chapter-item "><a href="../cheatcodes/env-uint.html">envUint</a></li><li class="chapter-item "><a href="../cheatcodes/env-int.html">envInt</a></li><li class="chapter-item "><a href="../cheatcodes/env-address.html">envAddress</a></li><li class="chapter-item "><a href="../cheatcodes/env-bytes32.html">envBytes32</a></li><li class="chapter-item "><a href="../cheatcodes/env-string.html">envString</a></li><li class="chapter-item "><a href="../cheatcodes/env-bytes.html">envBytes</a></li></ol></li><li class="chapter-item "><a href="../cheatcodes/utilities.html">Utilities</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cheatcodes/addr.html">addr</a></li><li class="chapter-item "><a href="../cheatcodes/sign.html">sign</a></li><li class="chapter-item "><a href="../cheatcodes/label.html">label</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../misc/index.html">Misc</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Foundry Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/foundry-rs/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/foundry-rs/book/edit/master/src/tutorials/foundry-docker.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="dockerizing-a-foundry-project"><a class="header" href="#dockerizing-a-foundry-project">Dockerizing a Foundry project</a></h2>
<p>This tutorial shows you how to build, test, and deploy a smart contract using Foundry's Docker image. It adapts code from the <a href="./solmate-nft.html">solmate nft</a> tutorial. If you haven't completed that tutorial yet, and are new to solidity, you may want to start with it first. Alternatively, if you have some familiarity with Docker and Solidity, you can use your own existing project and adjust accordingly. The full source code for both the NFT and the Docker stuff is available <a href="https://github.com/dmfxyz/foundry-docker-tutorial">here</a>.</p>
<blockquote>
<p>This tutorial is for illustrative purposes only and provided on an as-is basis. The tutorial is not audited nor fully tested. No code in this tutorial should be used in a production environment.</p>
</blockquote>
<h3 id="installation-and-setup"><a class="header" href="#installation-and-setup">Installation and Setup</a></h3>
<p>The only installation required to run this tutorial is Docker, and optionally, an IDE of your choice. 
Follow the <a href="/getting-started/installation.html#using-with-docker">Docker installation instructions</a>.</p>
<p>To keep future commands succinct, let's re-tag the image:<br />
<code>docker tag ghcr.io/foundry-rs/foundry:latest foundry:latest</code></p>
<p>Having Foundry installed locally is not strictly required, but it may be helpful for debugging. You can install it using <a href="/getting-started/installation.html#using-foundryup">foundryup</a>.</p>
<p>Finally, to use any of the <code>cast</code> or <code>forge create</code> portions of this tutorial, you will need access to an Ethereum node. If you don't have your own node running (likely), you can use a 3rd party node service. We won't recommend a specific provider in this tutorial. A good place to start learning about Nodes-as-a-Service is <a href="https://ethereum.org/en/developers/docs/nodes-and-clients/nodes-as-a-service/">Ethereum's article</a> on the subject.</p>
<p><strong>For the rest of this tutorial, it is assumed that the RPC endpoint of your ethereum node is set like this</strong>: <code>export RPC_URL=&lt;YOUR_RPC_URL&gt;</code></p>
<h3 id="a-tour-around-the-foundry-docker-image"><a class="header" href="#a-tour-around-the-foundry-docker-image">A tour around the Foundry docker image</a></h3>
<p>The docker image can be used in two primary ways:</p>
<ol>
<li>As an interface directly to forge and cast</li>
<li>As a base image for building your own containerized test, build, and deployment tooling</li>
</ol>
<p>We will cover both, but let's start by taking a look at interfacing with foundry using docker. This is also a good test that your local installation worked!</p>
<p>We can run any of the <code>cast</code> <a href="/reference/cast/">commands</a> against our docker image. Let's fetch the latest block information:</p>
<pre><code class="language-sh">$ docker run foundry &quot;cast block --rpc-url $RPC_URL latest&quot;
baseFeePerGas        &quot;0xb634241e3&quot;
difficulty           &quot;0x2e482bdf51572b&quot;
extraData            &quot;0x486976656f6e20686b&quot;
gasLimit             &quot;0x1c9c380&quot;
gasUsed              &quot;0x652993&quot;
hash                 &quot;0x181748772da2f968bcc91940c8523bb6218a7d57669ded06648c9a9fb6839db5&quot;
logsBloom            &quot;0x406010046100001198c220108002b606400029444814008210820c04012804131847150080312500300051044208430002008029880029011520380060262400001c538d00440a885a02219d49624aa110000003094500022c003600a00258009610c410323580032000849a0408a81a0a060100022505202280c61880c80020e080244400440404520d210429a0000400010089410c8408162903609c920014028a94019088681018c909980701019201808040004100000080540610a9144d050020220c10a24c01c000002005400400022420140e18100400e10254926144c43a200cc008142080854088100128844003010020c344402386a8c011819408&quot;
miner                &quot;0x1ad91ee08f21be3de0ba2ba6918e714da6b45836&quot;
mixHash              &quot;0xb920857687476c1bcb21557c5f6196762a46038924c5f82dc66300347a1cfc01&quot;
nonce                &quot;0x1ce6929033fbba90&quot;
number               &quot;0xdd3309&quot;
parentHash           &quot;0x39c6e1aa997d18a655c6317131589fd327ae814ef84e784f5eb1ab54b9941212&quot;
receiptsRoot         &quot;0x4724f3b270dcc970f141e493d8dc46aeba6fffe57688210051580ac960fe0037&quot;
sealFields           []
sha3Uncles           &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;
size                 &quot;0x1d6bb&quot;
stateRoot            &quot;0x0d4b714990132cf0f21801e2931b78454b26aad706fc6dc16b64e04f0c14737a&quot;
timestamp            &quot;0x6246259b&quot;
totalDifficulty      &quot;0x9923da68627095fd2e7&quot;
transactions         [...]
uncles               []
</code></pre>
<p>If we're in a directory with some Solidity <a href="https://github.com/dmfxyz/foundry-docker-tutorial">source code</a>, we can mount that directory into docker and use <code>forge</code> however we wish. For example:</p>
<pre><code class="language-sh">$ docker run -v $PWD:/app foundry &quot;forge test --root /app --watch&quot;
No files changed, compilation skipped

Running 8 tests for src/test/SolmateNft.sol:SolmateNftTests
[PASS] testBalanceIncremented() (gas: 218897)
[PASS] testFailMaxSupplyReached() (gas: 136426)
[PASS] testFailMintToZeroAddress() (gas: 34564)
[PASS] testFailNoMintPricePaid() (gas: 5503)
[PASS] testFailUnSafeContractReceiver() (gas: 89813)
[PASS] testMintPricePaid() (gas: 81279)
[PASS] testNewMintOwnerRegistered() (gas: 192272)
[PASS] testSafeContractReceiver() (gas: 274092)
Test result: ok. 8 passed; 0 failed; finished in 2.50ms

Running 8 tests for src/test/OpenZeppelinNft.t.sol:OpenZeppelinNftTests
[PASS] testBalanceIncremented() (gas: 219326)
[PASS] testFailMaxSupplyReached() (gas: 136426)
[PASS] testFailMintToZeroAddress() (gas: 34620)
[PASS] testFailNoMintPricePaid() (gas: 5503)
[PASS] testFailUnSafeContractReceiver() (gas: 90282)
[PASS] testMintPricePaid() (gas: 81512)
[PASS] testNewMintOwnerRegistered() (gas: 192487)
[PASS] testSafeContractReceiver() (gas: 274588)
Test result: ok. 8 passed; 0 failed; finished in 2.71ms
</code></pre>
<p>You can see our code was compiled and tested entirely within the container. Also, since we passed the <code>--watch</code> option, the container will recompile the code whenever a change is detected.</p>
<blockquote>
<p>Note: The Foundry docker image is built on alpine and designed to be as slim as possible. For this reason, it does not currently include development resources like <code>git</code>. If you are planning to manage your entire development lifecycle within the container, you should build a custom development image on top of Foundry's image.</p>
</blockquote>
<h3 id="creating-a-build-and-test-image"><a class="header" href="#creating-a-build-and-test-image">Creating a &quot;build and test&quot; image</a></h3>
<p>Let's use the Foundry docker image as a base for using our own Docker image. We'll use the image to:</p>
<ol>
<li>Build our solidity code</li>
<li>Run our solidity tests</li>
</ol>
<p>A simple <code>Dockerfile</code> can accomplish these two goals:</p>
<pre><code class="language-docker"># Use the latest foundry image
FROM ghcr.io/foundry-rs/foundry

# Copy our source code into the container
WORKDIR /app

# Build and test the source code
COPY . .
RUN forge build
RUN forge test
</code></pre>
<p>You can build this docker image and watch forge build/run the tests within the container:</p>
<pre><code class="language-sh">$ docker build --no-cache --progress=plain .
</code></pre>
<p>Now, what happens if one of our tests fail? Modify <code>src/test/NFT.t.sol</code> as you please to make one of the tests fail. Try to build image again.</p>
<pre><code class="language-sh">$ docker build --no-cache --progress=plain .
&lt;...&gt;
#9 0.522 Failed tests:
#9 0.522 [FAIL. Reason: Ownable: caller is not the owner] testWithdrawalFailsAsNotOwner() (gas: 193917)
#9 0.522
#9 0.522 Encountered a total of 1 failing tests, 9 tests succeeded
------
error: failed to solve: executor failed running [/bin/sh -c forge test]: exit code: 1
</code></pre>
<p>Our image failed to build because our tests failed! This is actually a nice property, because it means if we have a Docker image that successfully built (and therefore is available for use), we know the code inside the image passed the tests.*</p>
<blockquote>
<p>*Of course, chain of custody of your docker images is very important. Docker layer hashes can be very useful for verification. In a production environment, consider <a href="https://docs.docker.com/engine/security/trust/#:%7E:text=To%20sign%20a%20Docker%20Image,the%20local%20Docker%20trust%20repository">signing your docker images</a>.</p>
</blockquote>
<h3 id="creating-a-deployer-image"><a class="header" href="#creating-a-deployer-image">Creating a deployer image</a></h3>
<p>Now, we'll move on to a bit more of an advanced Dockerfile. Let's add an entrypoint that allows us to deploy our code by using the built (and tested!) image. We can target the Rinkeby testnet first.</p>
<pre><code class="language-docker"># Use the latest foundry image
FROM ghcr.io/foundry-rs/foundry

# Copy our source code into the container
WORKDIR /app

# Build and test the source code
COPY . .
RUN forge build
RUN forge test

# Set the entrypoint to the forge deployment command
ENTRYPOINT [&quot;forge&quot;, &quot;create&quot;]
</code></pre>
<p>Let's build the image, this time giving it a name:</p>
<pre><code class="language-sh">$ docker build --no-cache --progress=plain -t nft-deployer .
</code></pre>
<p>Here's how we can use our docker image to deploy:</p>
<pre><code class="language-sh">$ docker run nft-deployer --rpc-url $RPC_URL --constructor-args &quot;ForgeNFT&quot; &quot;FNFT&quot; &quot;https://ethereum.org&quot; --private-key $PRIVATE_KEY ./src/NFT.sol:NFT
No files changed, compilation skipped
Deployer: 0x496e09fcb240c33b8fda3b4b74d81697c03b6b3d
Deployed to: 0x23d465eaa80ad2e5cdb1a2345e4b54edd12560d3
Transaction hash: 0xf88c68c4a03a86b0e7ecb05cae8dea36f2896cd342a6af978cab11101c6224a9
</code></pre>
<p>We've just built, tested, and deployed our contract entirely within a docker container! This tutorial was intended to for testnet, but you can run the exact same Docker image targeting mainnet and be confident that the same code is being deployed by the same tooling.</p>
<h3 id="why-is-this-useful"><a class="header" href="#why-is-this-useful">Why is this useful?</a></h3>
<p>Docker is about portability, re-producibility, and environment invariance. This means you can be less concerned about unexpected changes when you switch between environments, networks, developers, etc. Here are a few basic examples of why <strong>I</strong> like to use Docker images for smart contract deployment:</p>
<ul>
<li>Reduces overhead of ensuring system level dependencies match between deployment environments (e.g. does your production runner always have the same version of <code>forge</code> as your dev runner?)</li>
<li>Increases confidence that code has been tested prior to deployment and has not been altered (e.g. if, in the above image, your code re-compiles on deployment, that's a major red flag).</li>
<li>Eases pain points around segregation of duties: people with your mainnet credentials do not need to ensure they have the latest compiler, codebase, etc. It's easy to ensure that the docker deploy image someone ran in testnet is identical to the one targeting mainnet.</li>
<li>At the risk of sounding web2, Docker is an accepted standard on virtually all public cloud providers. It makes it easy to schedule jobs, tasks, etc that need to interact with the blockchain.</li>
</ul>
<h3 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h3>
<p>As noted above, the Foundry image does not include <code>git</code> by default. This can cause certain commands to fail without a clear cause. For example:</p>
<pre><code class="language-bash">$ docker run foundry &quot;forge init --no-git /test&quot;
Initializing /test...
Installing ds-test in &quot;/test/lib/ds-test&quot;, (url: https://github.com/dapphub/ds-test, tag: None)
Error:
   0: No such file or directory (os error 2)

Location:
   cli/src/cmd/forge/install.rs:107
</code></pre>
<p>In this case, the failure is still caused by a missing <code>git</code> installation. The recommended fix is to build off the existing Foundry image and install any additional development dependencies you need.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../tutorials/solmate-nft.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../tutorials/testing-eip712.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../tutorials/solmate-nft.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../tutorials/testing-eip712.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../src/static/solidity.min.js"></script>
    </body>
</html>
